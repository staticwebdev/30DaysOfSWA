<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.20">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="#30DaysOfSWA RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="#30DaysOfSWA Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XQTX19ZF9V"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-XQTX19ZF9V",{anonymize_ip:!0})</script><title data-rh="true">25 posts tagged with &quot;swa&quot; | #30DaysOfSWA</title><meta data-rh="true" property="og:image" content="https://www.azurestaticwebapps.dev/img/logo.png"><meta data-rh="true" property="og:url" content="https://www.azurestaticwebapps.dev/blog/tags/swa"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="25 posts tagged with &quot;swa&quot; | #30DaysOfSWA"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="twitter:url" content="https://www.azurestaticwebapps.dev/blog/devtools-ado"><meta data-rh="true" name="twitter:title" content="#17: Multi-Stage Deployments With Azure DevOps"><meta data-rh="true" name="twitter:description" content="Join @nthonyChu on #30DaysOfSWA as he walks us through multi-stage deployments of @AzureStaticApps using @AzureDevOps - with @PlaywrightWeb testing integrated!"><meta data-rh="true" name="twitter:image" content="https://www.azurestaticwebapps.dev/assets/images/17-banner-2d8ecefdc1683370295255b3fa8a0df3.png"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" name="twitter:creator" content="@nitya"><meta data-rh="true" name="twitter:site" content="@AzureStaticApps"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="alternate" href="https://www.azurestaticwebapps.dev/blog/tags/swa" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.azurestaticwebapps.dev/blog/tags/swa" hreflang="x-default"><link data-rh="true" rel="canonical" href="https://techcommunity.microsoft.com/t5/apps-on-azure-blog/multi-stage-azure-static-web-apps-deployments-with-azure-devops/ba-p/3390625"><link rel="stylesheet" href="/assets/css/styles.061b8712.css">
<link rel="preload" href="/assets/js/runtime~main.31a8b5a2.js" as="script">
<link rel="preload" href="/assets/js/main.f5b4e3ba.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><div class="announcementBar_IbjG" style="background-color:#50E6FF;color:#552F99" role="banner"><div class="announcementBarContent_KsVm"><b>Found this project helpful? Give us a star on <a href="https://aka.ms/30DaysOfSWA/github"><b>GitHub</b></a></b> üôèüèΩ</div></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="#30DaysOfSWA Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/logo.svg" alt="#30DaysOfSWA Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title text--truncate">#30DaysOfSWA</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Learn</a><a href="https://portal.azure.com/?feature.customportal=false&amp;WT.mc_id=30daysofswa-61155-ninarasi#create/Microsoft.StaticApp" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Deploy</a><a class="navbar__item navbar__link" href="/contribute">Contribute</a><a class="navbar__item navbar__link" href="/showcase">Showcase</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/resources">Resources</a><a href="https://github.com/staticwebdev/30DaysOfSWA" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_dLyj"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_TMXw thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_V4zb margin-bottom--md">Recent posts</div><ul class="sidebarItemList_uHd5 clean-list"><li class="sidebarItem_spIe"><a class="sidebarItemLink_eqrF" href="/blog/practices-cognitive-search">#23: Cognitive Search &amp; SWA</a></li><li class="sidebarItem_spIe"><a class="sidebarItemLink_eqrF" href="/blog/practices-e2e">#22: E2E Development &amp; SWA</a></li><li class="sidebarItem_spIe"><a class="sidebarItemLink_eqrF" href="/blog/devtools-vscode">#21: Develop With VSCode</a></li><li class="sidebarItem_spIe"><a class="sidebarItemLink_eqrF" href="/blog/devtools-swacli-deploy">#20: Deploy with SWA CLI</a></li><li class="sidebarItem_spIe"><a class="sidebarItemLink_eqrF" href="/blog/devtools-swacli-develop">#19: Develop with SWA CLI</a></li><li class="sidebarItem_spIe"><a class="sidebarItemLink_eqrF" href="/blog/devtools-msedge">#18: Debug with Edge DevTools</a></li><li class="sidebarItem_spIe"><a class="sidebarItemLink_eqrF" href="/blog/devtools-ado">#17: Multi-Stage Deploy with ADO</a></li><li class="sidebarItem_spIe"><a class="sidebarItemLink_eqrF" href="/blog/devtools-playwright">#16: Test Automation with Playwright</a></li><li class="sidebarItem_spIe"><a class="sidebarItemLink_eqrF" href="/blog/devtools-azure">#15: Develop with Azure Tools</a></li><li class="sidebarItem_spIe"><a class="sidebarItemLink_eqrF" href="/blog/show-and-tell">#14: Show &amp; Tell: A SWArm Of Apps</a></li><li class="sidebarItem_spIe"><a class="sidebarItemLink_eqrF" href="/blog/pwa-on-swa">#13: Hosting PWA on Static Web Apps</a></li><li class="sidebarItem_spIe"><a class="sidebarItemLink_eqrF" href="/blog/build-with-blazor">#12: Headless CMS &amp; Blazor SWA</a></li><li class="sidebarItem_spIe"><a class="sidebarItemLink_eqrF" href="/blog/build-with-docusaurus">#11: Share Content - with Docusaurus</a></li><li class="sidebarItem_spIe"><a class="sidebarItemLink_eqrF" href="/blog/build-with-vuejs">#10: Get Creative - with Vue.js</a></li><li class="sidebarItem_spIe"><a class="sidebarItemLink_eqrF" href="/blog/build-with-react">#09: Manage Inventory - with React</a></li><li class="sidebarItem_spIe"><a class="sidebarItemLink_eqrF" href="/blog/build-with-astro">#08: Build A Blog - with Astro</a></li><li class="sidebarItem_spIe"><a class="sidebarItemLink_eqrF" href="/blog/deploying-swa">#07: Deploying SWA</a></li><li class="sidebarItem_spIe"><a class="sidebarItemLink_eqrF" href="/blog/previewing-swa">#06: Previewing SWA</a></li><li class="sidebarItem_spIe"><a class="sidebarItemLink_eqrF" href="/blog/securing-swa">#05: Securing SWA</a></li><li class="sidebarItem_spIe"><a class="sidebarItemLink_eqrF" href="/blog/configuring-swa">#04: Configuring SWA</a></li><li class="sidebarItem_spIe"><a class="sidebarItemLink_eqrF" href="/blog/api-enabling-swa">#03: API-Enabling SWA</a></li><li class="sidebarItem_spIe"><a class="sidebarItemLink_eqrF" href="/blog/building-swa">#02: Building SWA</a></li><li class="sidebarItem_spIe"><a class="sidebarItemLink_eqrF" href="/blog/introducing-swa">#01: Introducing SWA</a></li><li class="sidebarItem_spIe"><a class="sidebarItemLink_eqrF" href="/blog/kickoff">Kickoff #30DaysOfSWA!</a></li><li class="sidebarItem_spIe"><a class="sidebarItemLink_eqrF" href="/blog/swanniversary">It&#x27;s the SWA-anniversary!!</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><header class="margin-bottom--xl"><h1>25 posts tagged with &quot;swa&quot;</h1><a href="/blog/tags">View All Tags</a></header><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_rzP5" itemprop="headline"><a itemprop="url" href="/blog/practices-cognitive-search">#23: Cognitive Search &amp; SWA</a></h2><div class="blogPostData_Zg1s margin-vert--md"><time datetime="2022-05-24T00:00:00.000Z" itemprop="datePublished">May 24, 2022</time> ¬∑ <!-- -->7 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><a href="https://github.com/diberry" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/diberry.png" alt="Dina Berry"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/diberry" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Dina Berry</span></a></div><small class="avatar__subtitle" itemprop="description">Senior Content Developer @Microsoft</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Welcome to <code>Week 4, Day 2</code> of <strong>#30DaysOfSWA</strong>!! </p><p>Yesterday, we kicked off &quot;Best Practices&quot; week by talking about the end-to-end developer experience. Key to this is the ability to seamlessly integrate relevant tools and services that enhance the user experience - without adding complexity to the developer workflow. Today, we&#x27;ll look at this in practice, by walking through a tutorial that integrates your Azure Static Web Apps deployed website with <strong>Azure Cognitive Search</strong> - allowing you to add custom search capability to your deployed web app in just a few steps.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="what-well-cover">What We&#x27;ll Cover<a class="hash-link" href="#what-well-cover" title="Direct link to heading">‚Äã</a></h2><ul><li>What is Azure Cognitive Search?</li><li>What is a Search Index?</li><li>Add Cognitive Search to a Website</li><li>Deploy to Azure Static Web Apps</li><li><strong>Exercise</strong>: Create your own search index. Deploy your app to SWA.</li></ul><p><img loading="lazy" src="/assets/images/23-banner-2398477c06eb097b48476aa2faa96984.png" width="1000" height="420" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="make-your-app-searchable">Make Your App Searchable!<a class="hash-link" href="#make-your-app-searchable" title="Direct link to heading">‚Äã</a></h2><p>Today we explore adding search to a website with <a href="https://docs.microsoft.com/en-us/azure/search/search-what-is-azure-search" target="_blank" rel="noopener noreferrer">Azure Cognitive Search</a> - a cloud search service that provides infrastructure, APIs, and tools, for building rich integrated search capabilities for your mobile and web applications. It even allows for custom search functionality to enhance the default experience.</p><p>We&#x27;ll walk through the following example today. Want to follow along? You can <a href="https://github.com/Azure-Samples/azure-search-javascript-samples/blob/master/search-website/" target="_blank" rel="noopener noreferrer">grab the source code</a> and explore it as we walk through the tutorial.</p><p>We will be using a <strong>Book Catalog</strong> example - one of the most common uses of search for a website - to demonstrate how fast it is to get this service up and running with your deployed Azure Static Web App.</p><p><img loading="lazy" alt="Sample with Cognitive Search functionality" src="/assets/images/cognitive-search-enabled-book-website-02bb16800c27a094125a915451aa099a.png" width="1503" height="682" class="img_E7b_"></p><p>This sample website provides access to a catalog of 10,000 books. The user experience goes something like this:</p><ul><li>The user searches the catalog by entering text in the search bar. </li><li>As they enter text, we can use the Search Index&#x27;s suggest feature to complete the text proactively. </li><li>Once the query finishes, we display the results with a subset of details. </li><li>Users select a book to see the details stored in the book&#x27;s Search Index.</li></ul><p>Simple, right? Let&#x27;s look under the hood at how this works, and then dive into the implementation details.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="what-is-azure-cognitive-search">What is Azure Cognitive Search?<a class="hash-link" href="#what-is-azure-cognitive-search" title="Direct link to heading">‚Äã</a></h2><p><a href="https://docs.microsoft.com/en-us/azure/search/search-what-is-azure-search" target="_blank" rel="noopener noreferrer">Azure Cognitive Search</a> is a cloud search service that gives you, as the developer, the ability to provide rich search experiences. Architecturally, a search service sits between the external data stores that contain your unindexed data, and your client app that sends query requests to a search index and handles the response.</p><p><img loading="lazy" alt="the roundtrip road of boring development" src="/assets/images/azure-search-diagram-f9a574f0bbffddfff49e59ec0e7a37dc.svg" width="820" height="153" class="img_E7b_"></p><p>Cognitive Search <strong>can integrate with other Azure services</strong> that automate data ingestion/retrieval from Azure data sources, and skillsets that incorporate consumable AI from Cognitive Services, such as image and natural language processing, or custom AI that you create in Azure Machine Learning or wrap inside Azure Functions.</p><p>Once you create your Azure resource for Cognitive Search, you can access it with the following key information:</p><ul><li><strong>Resource name:</strong> what you named your Cognitive Search instance.</li><li><strong>Index name:</strong> your resource can hold many indexes, each with its own identifiable name.</li><li><strong>Admin key:</strong> used to upload data into the search index</li><li><strong>Query key:</strong> used by the API to find data in the search index</li></ul><p>So, we&#x27;ve used the term <em>search index</em> many times - what does that mean?</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="what-is-a-search-index">What is a search index?<a class="hash-link" href="#what-is-a-search-index" title="Direct link to heading">‚Äã</a></h2><p>Search functionality needs data to query. In Azure Cognitive Search, this data is held in a <em>search index</em>. Because this particular sample is already written for you, it includes the upload of the JSON data into the search index. If you&#x27;re starting from scratch, look at the <a href="https://docs.microsoft.com/en-us/azure/search/search-get-started-portal" target="_blank" rel="noopener noreferrer">Quickstart</a> to learn how you can create an Azure Cognitive Search index with <strong>your</strong> data.</p><p>The trickiest part is mapping your data into Cognitive Search types. In order to do this, you provide a <a href="https://github.com/Azure-Samples/azure-search-javascript-samples/blob/master/search-website/bulk-insert/good-books-index.json" target="_blank" rel="noopener noreferrer">schema file</a> that describes each data field. </p><h3 class="anchor anchorWithStickyNavbar_mojV" id="searchable-title">Searchable title<a class="hash-link" href="#searchable-title" title="Direct link to heading">‚Äã</a></h3><p>An example of a field in the schema file for this book catalog is the book title:</p><div class="language-json codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-json codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;title&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Edm.String&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;facetable&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;filterable&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;key&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;retrievable&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;searchable&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;sortable&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;analyzer&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;standard.lucene&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;indexAnalyzer&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token null keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;searchAnalyzer&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token null keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;synonymMaps&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;fields&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <strong>type</strong> is a <code>Edm.String</code> and it uses the <code>standard.lucene</code> <strong>analyzer</strong>. It is searchable and retrievable (comes back in the query results).</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="filter-by-language">Filter by language<a class="hash-link" href="#filter-by-language" title="Direct link to heading">‚Äã</a></h3><p>The book catalog search also allows a filter by language. This filter, known as a facet, is provided by the <strong>facetable</strong> property.</p><div class="language-json codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-json codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;language_code&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Edm.String&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;facetable&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;filterable&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;key&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;retrievable&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;searchable&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;sortable&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;analyzer&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token null keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;indexAnalyzer&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token null keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;searchAnalyzer&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token null keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;synonymMaps&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;fields&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="suggest-search-terms-as-a-user-types">Suggest search terms as a user types<a class="hash-link" href="#suggest-search-terms-as-a-user-types" title="Direct link to heading">‚Äã</a></h3><p>The schema also tells the search index what fields to watch when providing search <strong>suggesters</strong>, as the user types an entry in the search box. For this sample, suggestions are based on author names and book titles.</p><div class="language-json codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-json codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token property" style="color:#36acaa">&quot;suggesters&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;sg&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;searchMode&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;analyzingInfixMatching&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;sourceFields&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;authors&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;original_title&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Once the search index is created with data, you can view the data in the Visual Studio Code extension for Cognitive Search.</p><p><img loading="lazy" alt="Search index viewed with VS Code extension" src="/assets/images/visual-studio-code-search-extension-view-docs-1ee0d82da81abed12fb98bdf68f1fcc8.png" width="1329" height="794" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="add-search-to-website">Add search to website<a class="hash-link" href="#add-search-to-website" title="Direct link to heading">‚Äã</a></h2><p>After the search index is created with the data, you can add search functionality through the UI. Your UI passes the user&#x27;s search request to your API. The API queries the search index and returns the results. </p><p>The <a href="https://github.com/Azure-Samples/azure-search-javascript-samples/blob/master/search-website/src" target="_blank" rel="noopener noreferrer">client code</a> provides interactive functionality:</p><ul><li>Provides <a href="https://github.com/Azure-Samples/azure-search-javascript-samples/blob/master/search-website/src/components/SearchBar/SearchBar.js" target="_blank" rel="noopener noreferrer">Search component</a><ul><li>Provides <a href="https://github.com/Azure-Samples/azure-search-javascript-samples/blob/master/search-website/src/components/SearchBar/Suggestions/Suggestions.js" target="_blank" rel="noopener noreferrer">suggestions</a> from the API as the user types in the search box</li><li><a href="https://github.com/Azure-Samples/azure-search-javascript-samples/blob/master/search-website/src/components/Facets/Facets.js" target="_blank" rel="noopener noreferrer">Filters the results</a> when the user selects or deselects from a list of filters (facets).</li></ul></li><li>Provides <a href="https://github.com/Azure-Samples/azure-search-javascript-samples/blob/master/search-website/src/components/Results/Results.js" target="_blank" rel="noopener noreferrer">results component</a>, possibly <a href="https://github.com/Azure-Samples/azure-search-javascript-samples/blob/master/search-website/src/components/Pager/Pager.js" target="_blank" rel="noopener noreferrer">paging</a>. </li></ul><p>The <a href="https://github.com/Azure-Samples/azure-search-javascript-samples/tree/master/search-website/api" target="_blank" rel="noopener noreferrer">serverless code</a> provides the following API to respond to client requests:</p><ul><li><a href="https://github.com/Azure-Samples/azure-search-javascript-samples/blob/master/search-website/api/Search/index.js" target="_blank" rel="noopener noreferrer">Search</a> the catalog</li><li>Provide <a href="https://github.com/Azure-Samples/azure-search-javascript-samples/blob/master/search-website/api/Suggest/index.js" target="_blank" rel="noopener noreferrer">suggestions</a></li><li>Get <a href="https://github.com/Azure-Samples/azure-search-javascript-samples/tree/master/search-website/api/Lookup" target="_blank" rel="noopener noreferrer">specific item&#x27;s</a> data</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="deploy-to-swa">Deploy to SWA<a class="hash-link" href="#deploy-to-swa" title="Direct link to heading">‚Äã</a></h2><p>The sample is deployed to SWA from a GitHub action, created for you by the Visual Studio Code extension for SWA.</p><p>Once you create and deploy the sample, you need to set environment variables to connect from the serverless API to your Cognitive Search resource. Then the book catalog website is available and searchable. </p><h2 class="anchor anchorWithStickyNavbar_mojV" id="exercise-upload-data-to-search-index">Exercise: Upload data to search index<a class="hash-link" href="#exercise-upload-data-to-search-index" title="Direct link to heading">‚Äã</a></h2><ol><li><p><a href="https://docs.microsoft.com/azure/search/tutorial-javascript-overview#fork-and-clone-the-search-sample-with-git" target="_blank" rel="noopener noreferrer">Fork the GitHub sample repo</a>, and clone it to your local computer. This is a necessary step because the GitHub action needs to be written to a repo your user account has access to.</p></li><li><p><a href="https://docs.microsoft.com/azure/search/tutorial-javascript-overview#create-a-resource-group-for-your-azure-resources" target="_blank" rel="noopener noreferrer">Create a resource group</a> to hold both your SWA and Cognitive Search resources.</p></li><li><p><a href="https://docs.microsoft.com/azure/search/tutorial-javascript-create-load-index#create-an-azure-search-resource" target="_blank" rel="noopener noreferrer">Create a search index</a> in Visual Studio Code with the Cognitive Search extension.  </p></li><li><p><a href="https://docs.microsoft.com/azure/search/tutorial-javascript-create-load-index#create-an-azure-search-resource" target="_blank" rel="noopener noreferrer">Get the admin key</a>. </p></li><li><p><a href="https://docs.microsoft.com/azure/search/tutorial-javascript-create-load-index#prepare-the-bulk-import-script-for-search" target="_blank" rel="noopener noreferrer">Set admin key and resource name</a> in sample&#x27;s bulk_insert_books.js script. </p></li><li><p>Don&#x27;t check in these changes with git. You don&#x27;t want these secrets in your public fork.</p></li><li><p><a href="https://docs.microsoft.com/azure/search/tutorial-javascript-create-load-index#run-the-bulk-import-script-for-search" target="_blank" rel="noopener noreferrer">Install dependencies and bulk insert data</a> in the <code>./bulk-insert</code> folder:</p><div class="language-javascript codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-javascript codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">npm install </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> npm start</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Your search index is ready to answer search queries.</p></li></ol><h2 class="anchor anchorWithStickyNavbar_mojV" id="exercise-deploy-swa-to-azure">Exercise: Deploy SWA to Azure<a class="hash-link" href="#exercise-deploy-swa-to-azure" title="Direct link to heading">‚Äã</a></h2><ol><li><p>In Visual Studio Code, <a href="https://docs.microsoft.com/azure/search/tutorial-javascript-deploy-static-web-app#create-a-static-web-app-in-visual-studio-code" target="_blank" rel="noopener noreferrer">create the SWA resource</a>. This process adds a GitHub action YAML file to your fork and deploys that version to your SWA resource.</p><p>At this point, the website should be available, but search isn&#x27;t connected yet.</p></li><li><p><a href="https://docs.microsoft.com/azure/search/tutorial-javascript-deploy-static-web-app#get-cognitive-search-query-key-in-visual-studio-code" target="_blank" rel="noopener noreferrer">Get the query key</a> for your search index. Your API needs these secrets (query key and Cognitive Search resource name), to answer queries from your serverless API.</p></li><li><p><a href="https://docs.microsoft.com/azure/search/tutorial-javascript-deploy-static-web-app#add-configuration-settings-in-azure-portal" target="_blank" rel="noopener noreferrer">Set the secrets</a> for your serverless API in the Azure portal. </p><p>Search is now connected from your API to your Cognitive Search index.</p></li><li><p><a href="https://docs.microsoft.com/azure/search/tutorial-javascript-deploy-static-web-app#use-search-in-your-static-web-app" target="_blank" rel="noopener noreferrer">Use your search-enabled website</a> to find a book. </p></li><li><p>Type <em>slowly</em> to see the suggestions based on what you enter.</p></li><li><p>Filter the results to a different language. </p></li><li><p>Select a book to see all its details. </p></li></ol><h2 class="anchor anchorWithStickyNavbar_mojV" id="troubleshooting">Troubleshooting<a class="hash-link" href="#troubleshooting" title="Direct link to heading">‚Äã</a></h2><ul><li>Make sure you used the <strong>admin key</strong> in the upload file.</li><li>Make sure you used the <strong>query key</strong> in the SWA config. </li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="next-steps">Next steps<a class="hash-link" href="#next-steps" title="Direct link to heading">‚Äã</a></h2><p>This website provides basic search functionality for books. Go beyond the basics with:</p><ul><li><a href="https://docs.microsoft.com/en-us/azure/search/speller-how-to-add" target="_blank" rel="noopener noreferrer">Spell check</a></li><li><a href="https://docs.microsoft.com/en-us/azure/search/search-query-fuzzy" target="_blank" rel="noopener noreferrer">Fuzzy search</a></li><li><a href="https://docs.microsoft.com/en-us/azure/search/semantic-ranking" target="_blank" rel="noopener noreferrer">Semantics</a></li></ul><p>This is just one of many samples provided in the <a href="https://docs.microsoft.com/en-us/azure/developer/javascript/how-to/create-static-web-app" target="_blank" rel="noopener noreferrer">Azure for JavaScript Developers</a> page. Explore the Static Web Apps section and explore other Azure services you can integrated into your modern web app!</p></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>Tags:</b><ul class="tags_XVD_ padding--none margin-left--sm"><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/swa">swa</a></li><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/30-days">30days</a></li><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/best-practices">best-practices</a></li></ul></div><div class="col text--right col--3"><a aria-label="Read more about #23: Cognitive Search &amp; SWA" href="/blog/practices-cognitive-search"><b>Read More</b></a></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_rzP5" itemprop="headline"><a itemprop="url" href="/blog/practices-e2e">#22: E2E Development &amp; SWA</a></h2><div class="blogPostData_Zg1s margin-vert--md"><time datetime="2022-05-23T00:00:00.000Z" itemprop="datePublished">May 23, 2022</time> ¬∑ <!-- -->17 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><a href="https://github.com/anfibiacreativa" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/anfibiacreativa.png" alt="Natalia Venditto"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/anfibiacreativa" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Natalia Venditto</span></a></div><small class="avatar__subtitle" itemprop="description">Principal Program Manager @Microsoft</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Welcome to <code>Week 4, Day 1</code> of <strong>#30DaysOfSWA</strong>!! </p><p>This kickstarts our <strong>&quot;Best Practices&quot;</strong> week where we&#x27;ll explore additional topics that help up deliver an enhanced or more optimal modern web application experience to our users. We&#x27;ll start by looking at the End-to-End <em>developer experience (DX)</em> - the importance of having a smooth and seamless DX to complement the UX (user experience), and best practices to improve your developer experience by architecting your applications and integrating services in more effective ways. Let&#x27;s dive in!</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>What We&#x27;ll Cover</h5></div><div class="admonition-content"><ul><li>What is an end-to-end developer experience (DX)?</li><li>What are core DX components when building and deploying static web apps?</li><li>How can we improve DX implementing best practices?</li><li>How can we create an architecture matrix to guide E2E DevEx?</li><li><strong>Exercise</strong>: Try to reproduce the architecture seen below!</li></ul></div></div><p><img loading="lazy" src="/assets/images/22-banner-c5cc6f06159eb61034c900af02756c3a.png" width="1000" height="420" class="img_E7b_"></p><p>Today we explore the importance of a great development experience and how can you improve yours, when building and deploying your static web applications using Azure Static Web Apps!</p><p>I admit it took me some time to write this post. It would have been much easier for me to write about a specific topic with code examples and technical definitions, than describing what developer experience means to me.</p><p>The definition of developer experience, like anything else you <em>experience</em>, is subjective. It has a lot of you, in it. It changes with you, and the context you&#x27;re a part of. Things like <em>how long you&#x27;ve been in the business</em> or <em>what type of software you work on</em>, or <em>where do you deploy it</em>, will all impact your perception of an experience.</p><p>So how to put it in words? How to define it and scope it? </p><p>It&#x27;s impossible for me to do it in a way that feels relatable to everyone. I can only explain it, from the perspective inferred by my needs and my perception of the outcome, as an individual developer, and how it impacts my vision and my work. </p><h2 class="anchor anchorWithStickyNavbar_mojV" id="predictability">Predictability<a class="hash-link" href="#predictability" title="Direct link to heading">‚Äã</a></h2><p>Let me start by saying that in my personal life, when I think of memorable experiences, a lot of them have been the consequence of an impulse. A spontaneous act. In my personal life, I am not much of a planner. I am the kind of person that wakes up every Saturday morning and declares &quot;We are going somewhere far away this weekend!&quot;. And my husband (who is all the contrary from me and needs a lot of structure!) will ask questions like:</p><ul><li>Ok, where do you wanna go? </li><li>Have you booked a hotel? </li><li>Do you know where we will have lunch? </li></ul><p>And I would invariably respond: &quot;I don&#x27;t care! Let&#x27;s just hop in the car, drive somewhere and figure it all out on the way there!&quot;. That&#x27;s because I think that experimenting and experiencing, go hand in hand, when it comes to adventure. And the actual <em>way there</em>, is part of the fun.</p><blockquote><p><strong>At work, however, I like predictability.</strong> </p></blockquote><p>I like structure, repeatability, patterns &amp; conventions. I appreciate having a framework, an opinion others agree with so I&#x27;m on the same page with my team. And I like all this because it oftentimes leads to quick results and success.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="a-road-analogy">A Road Analogy<a class="hash-link" href="#a-road-analogy" title="Direct link to heading">‚Äã</a></h2><p>Experiences are like roads. They can take you places -- or not. And to me, <strong>development experiences are just like the roads we travel on</strong>:</p><ul><li>They have milestones - so I can measure progress.</li><li>They have multiple lanes - so I have flexibility.</li><li>They have entry and exit ramps - so I can change paths quickly. </li><li>They have destinations - so I know I&#x27;m getting somwhere specific.</li></ul><p>When I first got into web development, there were a fewer types of roads. Most were linear and slow, particularly when it came to frontend development. You needed repeated round-trips to the same server, just to get something to render on a page.</p><p><img loading="lazy" alt="the roundtrip road of boring development" src="/assets/images/swaF1-2f10c6d9065a83c8c963ec50a95e9c2e.png" width="2120" height="1181" class="img_E7b_"></p><p>By contrast, today we&#x27;re speeding along multi-lane freeways with numerous twists and turns, interconnecting roads, and possibilities (<a href="https://dev.to/azure/04-configuring-static-web-apps-2oa7" target="_blank" rel="noopener noreferrer">aka configurations</a>) to choose from. To reach a destination, you may have to use ramps to connect two different roads - similar to how we connect tow different services <a href="https://dev.to/azure/03-api-enabling-static-web-apps-25kh" target="_blank" rel="noopener noreferrer">via an API</a>. </p><p><img loading="lazy" alt="more lanes, more connectivity, more fun, more speed" src="/assets/images/swaF3-c85e864b2af858458f7034a071d45127.png" width="3331" height="1244" class="img_E7b_"></p><p>If we continue with this analogy, then <strong>a bad development experience is like poor road planning or construction</strong>:</p><ul><li>the road is old, bumpy, cracked</li><li>the signposts are few and far between, giving the user insufficient time to process and follow instructions. </li><li>if you miss an exit, you may have to travel a long distance before you have the opportunity to turn around</li><li>there may be no way to access a desired road from another one - no exit or entry ramps at all!</li><li>if your car breaks down, or your run out of fuel - there may not be service stations nearby to for refill or recharge.</li><li>or you may find a station, but you have no idea of the cost of refill or recharge before you commit to taking that exit.</li><li>there may not be any way to get food or drinks for many miles.</li></ul><p>You can probably guess how these travel constraints map onto poor developer experiences, but let&#x27;s spell it out:</p><ul><li>having to slow down due to infrastructure conditions</li><li>feeling like you&#x27;re not making any progress</li><li>having the certainty that your application quality is degrading due the environment and lack of resources or support, resulting in technical debt</li><li>not having the ability to <a href="https://dev.to/azure/05-securing-static-web-apps-5fe3" target="_blank" rel="noopener noreferrer">secure your implementation</a></li><li>not finding the right, complete or fresh documentation to help you understand the best path</li><li>not having the right SDK&#x27;s, API methods, or means of integrating your app to other software, to accomplish simple or more complex tasks, like authentication, storage, content authoring <a href="https://dev.to/azure/12-headless-cms-swa-built-with-blazor-1e2d" target="_blank" rel="noopener noreferrer">with a headless CMS</a> or setting up your CI/CD pipeline</li><li>not having the right tools to <a href="https://dev.to/azure/02-building-static-web-apps-2j72" target="_blank" rel="noopener noreferrer">build</a>, <a href="https://dev.to/azure/07-deploying-static-web-apps-48e" target="_blank" rel="noopener noreferrer">deploy</a>, optimize, <a href="https://dev.to/azure/06-previewing-static-web-apps-4p36" target="_blank" rel="noopener noreferrer">preview</a>, monitor or speed up your processes</li><li>not being able to scale or not being sure how much it will cost you</li><li>not having fun, as you go</li></ul><p><strong>Because, let&#x27;s face it: developing should be a fun experience. And for that you need the right vehicle, the right infrastructure, and a plan.</strong>
And when you lack all that, it&#x27;s like riding a Lamborghini across a sandy desert.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>WHAT WE CAN CONCLUDE</h5></div><div class="admonition-content"><p>Is that developer experience refers to the entirety of physical, emotional and cognitive experiences of an individual while using a tool or technology to complete a software development task. It can equate to suffering (when bad), enduring (when fustrating or neutral), or to feeling pleasure and delight (when great).</p></div></div><p><img loading="lazy" alt="The right infrastructure, capabilities and resources, to support the right architecture" src="/assets/images/swaF4-0bd6686927cf3493451a953651fd6b0e.png" width="3169" height="1299" class="img_E7b_"></p><p>Making the right architecture and technology decisions, will definitely impact the outcome. And we can only make those decisions right, when we ask the right questions.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="architecture-what-core-infrastructure-capabilities-and-resources-do-we-need">Architecture: What core infrastructure, capabilities and resources do we need?<a class="hash-link" href="#architecture-what-core-infrastructure-capabilities-and-resources-do-we-need" title="Direct link to heading">‚Äã</a></h2><p>As we hope you have learned from following this <a href="https://dev.to/azure/kicking-off-30daysofswa-2d8g" target="_blank" rel="noopener noreferrer">30 days of Static Web Apps</a>, it is a dedicated offering for frontend developers working with SPA&#x27;s and Static Generated websites. We continue to work to extend its capabilities, and support more frameworks and use cases.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="documentation-should-be-fresh--relevant">Documentation: Should be fresh &amp; relevant!<a class="hash-link" href="#documentation-should-be-fresh--relevant" title="Direct link to heading">‚Äã</a></h3><p>When thinking about those milestones that should hit along the road of a great end-to-end developer experience, we are working hard to make sure you always find complete and fresh documentation to help you get started and know all the possibilities you have with Static Web Apps, upfront, and to keep supporting you with relevant documentation and content as your applications grow.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="workflows-building-blocks--seamless-integrations">Workflows: Building blocks &amp; seamless integrations!<a class="hash-link" href="#workflows-building-blocks--seamless-integrations" title="Direct link to heading">‚Äã</a></h3><p>Not only have we been working to offer an intuitive user interface at the Azure portal itself. We have been very intentional at the time of making sure integration with the <a href="https://dev.to/azure/15-develop-with-azure-tools-3h47" target="_blank" rel="noopener noreferrer">tools</a>, and platforms frontend developers know, use and love, like GitHub and VS Code, is seamless. </p><p>Static Web Apps automatically pushes a GitHub actions workflow file as you generate the application as a resource, and you can create it from the portal, if you prefer a UI guided experience, but also without ever leaving your favorite code editor, by installing the <a href="https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-azurestaticwebapps" target="_blank" rel="noopener noreferrer">official extension</a>!</p><p>And if you prefer a command line experience, you can use the brand new Static Web Apps CLI, with extended support to login to Azure, create, build and deploy apps, and a local emulator, so you can test your apps before you ever deploy to the cloud.</p><p>Creating your static web applications and configuring your pipelines, has never been this easy!</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="efficient--versatile-serverless--containerized-apis">Efficient &amp; Versatile: Serverless + Containerized APIs<a class="hash-link" href="#efficient--versatile-serverless--containerized-apis" title="Direct link to heading">‚Äã</a></h3><p>Because we recognize that the use cases for Jamstack and JavaScript full-stacks applications in general are becoming more and more complex, part of our strategy for a delightful end-to-end development experience relies on the simplification and standarization of mechanisms for API integration, via serverless functions through industry compliant patterns and via our super efficient devkits.</p><p>And that includes a concern that has historically been a challenge for frontend developers: the integration with databases and data storage. Azure Static Web Apps is unique in that it integrates very well with our CosmosDB database, a versatile cloud database that offers different API&#x27;s to meet different developer skills and server a myriad of use cases in a very effective way.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="security--performance-e2e-testing--debugging">Security &amp; Performance: E2E testing + debugging<a class="hash-link" href="#security--performance-e2e-testing--debugging" title="Direct link to heading">‚Äã</a></h3><p>And when we go to the service station, it may be a good time to check our oil levels, air pressure and wipe our window panes. And what a better way to do it than with tools from the same developer ecosystem and that play right (yes, you got me! I&#x27;m playing with words now!) like <a href="https://dev.to/azure/16-test-automation-with-playwright-odk" target="_blank" rel="noopener noreferrer">Playwright</a> and Edge Developer Tools. </p><p>So now when you use the newly release Preview environments, to test development from a specific staging branch, you will have also the ability to integrate with best-in-class tooling, iteration after iteration, until feature complete.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="alignment-the-ultimate-e2e-roadmap-should-map-to-the-development-cycle">Alignment: The ultimate e2e roadmap should <em>map</em> to the development cycle<a class="hash-link" href="#alignment-the-ultimate-e2e-roadmap-should-map-to-the-development-cycle" title="Direct link to heading">‚Äã</a></h2><p>Any aspect on its own, can describe an end-to-end experience. For instance:</p><ul><li>If I want to secure my app against unauthorized access, I must implement identity. That&#x27;s an E2E experience.</li><li>If I want to persist data, I&#x27;ll need to integrate with a database. An E2E experience.</li><li>If I want to integrate third-party services on demand, I&#x27;ll need event-driven functions. Another E2E experience.</li></ul><p>The ultimate end-to-end experience, however, is that that encompasses all components described by a matrix of architecture definitions and best practices,  mapping to the software development cycle itself.</p><p><img loading="lazy" alt="development roadmap equals cycle" src="/assets/images/SWAF5-bb8f52ffabf09a08d7f08a8f53f4463c.png" width="2283" height="1598" class="img_E7b_"></p><p>When we are in the system design phase for our application, we will start thinking about what in research is known as &quot;Jobs to be Done&quot;, and materialize them or <em>get them done</em> , using tools or integrating with other products or services.</p><p> <strong>Setup phase</strong>.
Job to be done will be generic - &quot;I need to build a static web app. </p><ul><li>What do I need? =&gt; I need a framework.</li><li>What does the framework require =&gt; It&#x27;s a JS framework that runs in the browser, or in a Node.js runtime. I need a node environment and a node package manager to manage dependencies. </li><li>Selected framework has its own CLI =&gt; I need it to optimize it and build it. </li><li>I want to version it, so I need a version control tool. To collaborate, I need to host that code in a central, remote location (aka version control hosting). </li><li>And because we want to build it remotely each time we integrate with a CI/CD pipeline, that includes a runner and some virtualization or emulation. - And we want to publish it, so I need a hosting service. </li><li>And...&quot;_</li></ul><p>And those are the <em>requirements</em> that we start mapping to <em>setup and service capabilities</em>, so we can put together local and remote environments capable to fulfill them.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="welcome-to-the-matrix">Welcome to the matrix<a class="hash-link" href="#welcome-to-the-matrix" title="Direct link to heading">‚Äã</a></h2><p>So let&#x27;s do together an exercise of architecture definitions based out of developer <em>jobs to be done</em>, classifying them by the milestone we defined in the previous graphic. As a bonus, we will map them to a requirement, that can be a business requirement, a developer job to be done, or an end user story.</p><p>The matrix will be roughly based on the high-level diagram below:</p><p><img loading="lazy" alt="static web app high level architecture diagram" src="/assets/images/swaF6-650f434fb7606309668b8cc10cb640ee.png" width="3374" height="2411" class="img_E7b_"></p><table><thead><tr><th>Job to be done</th><th>Product/Service</th><th>Phase</th><th>Requirement</th></tr></thead><tbody><tr><td>As a developer, I want to use the tools I am familiar with, to code, build and deploy my Jamstack (Statically Generated) applications</td><td>VS Code / SWA CLI</td><td>Setup</td><td>As an end-user, I want to be able to access an online catalogue of products with their respective detail pages</td></tr><tr><td>As a developer, I want to connect my remote repository where I collaborate with other team members, to the service I will be deploying my app to</td><td>GitHub / VS Code / Static Web Apps*</td><td>Setup</td><td>As a business owner, I want the code and secrets for my e-commerce platform to be stored safely</td></tr><tr><td>As a developer, I want to setup a CI/CD pipeline, for remote collaboration and fast/agile integration</td><td>GitHub Actions Static Web Apps</td><td>Setup</td><td>As a content author, I want to see the new content published when I submit it to the content authoring tool, without any additional manual work</td></tr><tr><td>As a developer, I want to integrate with a database to store content and assets</td><td>CosmosDB<em>‚Ä† / Azure Functions</em>‚Ä† / Static Web Apps*</td><td>Implementation or Integration</td><td>As a business owner I want all assets and information to stored safely and versioned</td></tr><tr><td>As a developer, I want to integrate with a (headless) CMS for 3rd party content authoring</td><td>Azure Functions<em>‚Ä† / Static Web Apps</em></td><td>Implementation or Integration</td><td>As a content author, I want to see the new content published when I submit it to the content authoring tool</td></tr><tr><td>As a developer, I want to trigger the CI/CD workflows via custom/scheduled events</td><td>GitHub Actions* / Durable Functions**</td><td>Integration</td><td>As a business owner, I want my teams to automate the process of building and deploying new code or content so we can achieve optimal time-to-value</td></tr><tr><td>As a developer, I want to secure my implementation to make sure requests to our service come from my application</td><td>Indentity Platform‚Ä†</td><td>Implementation or Integration</td><td>As a business owner, I want to make sure our e-commerce tool is secure and compliant with laws and regulations</td></tr><tr><td>As a developer, I want to restrict access to certain pages to users with a certain role</td><td>Identity Platform‚Ä†</td><td>Implementation or Integration</td><td>As an end user, I want to keep a private profile with my payment methods and other PII</td></tr><tr><td>As a developer, I want to localize the UI to several different languages</td><td>Cognitive Services*‚Ä†</td><td>Implementation or Integration</td><td>As an end user, I want to access content in my own language</td></tr><tr><td>As a developer, I want to personalize recommendations in dynamic pages</td><td>Cognitive Services*‚Ä†</td><td>Implementation or Integration</td><td>As an end user, I want to have recommendations that are relevant to me</td></tr><tr><td>As a developer, I want to integrate with a 3rd party payment platform</td><td><em>3rd party</em> / Azure Functions*</td><td>Implementation or Integration</td><td>As a business owner, I want payments processed by a reliable 3rd party provider</td></tr><tr><td>As a developer, I want to preview and debug changes before I promote them to production</td><td>Static Web Apps Preview/Edge Developer Tools</td><td>Build/Deploy/Testing</td><td>As a business owner, I want to preview changes before they go live</td></tr><tr><td>As a developer, I want to reduce technical debt by implementing an e2e test automation suite</td><td>Playwright / GitHub Actions</td><td>Testing</td><td>As an end user, I want the user interface to respond quickly and accurately, when I interact with it</td></tr><tr><td>As a developer, I want to be able to publish my application to the web</td><td>Static Web Apps</td><td>Build/Deploy</td><td>As a business owner, I want my application to be accessible by web users from all parts of the world, with the least possible latency</td></tr><tr><td>As a developer, I want to enable a mechanism for the application to be accessible via a distributed network</td><td>Azure Front Door</td><td>Setup/Integration</td><td>As a user I want web pages I visit, to load very fast</td></tr><tr><td>As a developer I want to integrate with analytics tools, to share data with stakeholders</td><td>Static Web Apps / App Insights</td><td>Setup/Testing</td><td>As a business owner, I want to know what products are being queried the most to understand market trends</td></tr></tbody></table><p>(*)Expresses the ability to operate directly from the VS Code context via an extension, or locally with the CLI capability
(‚Ä†) Expresses the existence of an SDK to accelerate and secure the implementation</p><blockquote><p><strong>As we can see, you don&#x27;t need to be part of a massive organization or a large, distributed team, to implement certain workflows and give structure to your own development cycles in process, to gain in developer productivity and delightful experiences.</strong></p></blockquote><p>Writing down your own matrix as you start, and extending it as your application scales and has extended requirements, can help you better organize yourself, make sure you&#x27;re implementing best practices, and even evaluate tools and technologies to make sure you&#x27;re on the right, most optimal path.</p><p>Static Web Apps is a modern, low configuration capability for Jamstack development, that offers you a myriad of satellite integrations, for free! And it has the advantage of growing with you, should you need more capacity, more tools, or even a full migration.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="to-wrap-this-up">To wrap this up...<a class="hash-link" href="#to-wrap-this-up" title="Direct link to heading">‚Äã</a></h2><p>Developer Experience is an end-to-end exercise that can be connected to the development, implementation and/or integration of a single feature or a group of them, from design, to execution, to testing, to release. </p><p>In order for developers to have a <em>great</em> experience they enjoy, from one end to the other, they need to find:</p><ul><li>guidelines that help them define a problem they can design an effective solution</li><li>technologies that are compatible as building blocks for it</li><li>complete, accurate and fresh documentation to support at all times</li><li>tools that simplify the <em>jobs to be done</em> or tasks, individual and collective (to a single developer or a team of them)</li><li>underlying mechanisms (exposed to the developer or not depending on their wishes or needs), for effectual program compilation, transpilation, testing, deployment and execution (such as runtimes and pipelines)</li><li>definitions and hooks for integration (with other technologies) or and migration (to other technologies)</li></ul><p>When all those, and some more, are fulfilled, developers become more productive, focused, and can spend their time doing what they love, instead of wasting it in undifferentiated tasks.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="exercise">Exercise<a class="hash-link" href="#exercise" title="Direct link to heading">‚Äã</a></h2><p>Try to reproduce the architecture seen above! Most of the integrations are available to the free tier! Show us how far you got!</p></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>Tags:</b><ul class="tags_XVD_ padding--none margin-left--sm"><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/swa">swa</a></li><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/30-days">30days</a></li><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/best-practices">best-practices</a></li></ul></div><div class="col text--right col--3"><a aria-label="Read more about #22: E2E Development &amp; SWA" href="/blog/practices-e2e"><b>Read More</b></a></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_rzP5" itemprop="headline"><a itemprop="url" href="/blog/devtools-vscode">#21: Develop With VSCode</a></h2><div class="blogPostData_Zg1s margin-vert--md"><time datetime="2022-05-22T00:00:00.000Z" itemprop="datePublished">May 22, 2022</time> ¬∑ <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><a href="https://twitter.com/alexweininger" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/alexweininger.png" alt="Alex Weininger"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/alexweininger" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Alex Weininger</span></a></div><small class="avatar__subtitle" itemprop="description">Developer @Microsoft, for @code and @Azure</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Welcome to <code>Week 3, Day 7</code> of <strong>#30DaysOfSWA</strong>!! </p><p>This week has been all about the SWA developer tools. To conclude the week, we&#x27;ll show how the <a href="https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-azurestaticwebapps" target="_blank" rel="noopener noreferrer">Azure Static Web Apps extension for VS Code</a> can make using all of these awesome tools easier!</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>WHAT WE&#x27;LL COVER TODAY</h5></div><div class="admonition-content"><ul><li>Debugging with VS Code</li><li>Easily add an API endpoint</li><li>Debug API and Frontend simultaneously</li><li><strong>Resource(s):</strong> <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/getting-started?tabs=vanilla-javascript" target="_blank" rel="noopener noreferrer">Azure Static Web Apps Quickstart: With VS Code</a></li></ul></div></div><p><img loading="lazy" src="/assets/images/21-banner-4c8833d85f3b63b56f65329fd492dcb5.png" width="1000" height="420" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="prerequisites-Ô∏è">Prerequisites üõ†Ô∏è<a class="hash-link" href="#prerequisites-Ô∏è" title="Direct link to heading">‚Äã</a></h2><ol><li><p><strong>Google Chrome installed</strong> - we make use of the debugger</p></li><li><p><strong>Azure Static Web Apps extension for VS Code</strong> - <a href="https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-azurestaticwebapps" target="_blank" rel="noopener noreferrer">View on Marketplace</a></p></li><li><p><strong>Azure Static Web Apps CLI</strong> - <a href="https://github.com/Azure/static-web-apps-cli" target="_blank" rel="noopener noreferrer">View on GitHub</a></p></li></ol><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">npm install -g @azure/static-web-apps-cli@latest</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="1-getting-started-">1. Getting started üü¢<a class="hash-link" href="#1-getting-started-" title="Direct link to heading">‚Äã</a></h2><ol><li>Clone one of these repositories, and open it up in VS Code</li></ol><table><thead><tr><th>Framework</th><th>Repository</th></tr></thead><tbody><tr><td>Angular</td><td><a href="https://github.com/staticwebdev/angular-basic" target="_blank" rel="noopener noreferrer">https://github.com/staticwebdev/angular-basic</a></td></tr><tr><td>React</td><td><a href="https://github.com/staticwebdev/react-basic" target="_blank" rel="noopener noreferrer">https://github.com/staticwebdev/react-basic</a></td></tr><tr><td>Svelte</td><td><a href="https://github.com/staticwebdev/svelte-basic" target="_blank" rel="noopener noreferrer">https://github.com/staticwebdev/svelte-basic</a></td></tr></tbody></table><ol start="2"><li>Run <code>npm install</code></li></ol><p><img loading="lazy" src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/c00m73mzlt49kkwl4iiw.png" alt="Running npm install in VS Code" class="img_E7b_"></p><blockquote><p>Theme: <a href="https://marketplace.visualstudio.com/items?itemName=wesbos.theme-cobalt2" target="_blank" rel="noopener noreferrer">Cobalt2 Theme Official by Wes Bos</a></p></blockquote><h2 class="anchor anchorWithStickyNavbar_mojV" id="2-run-and-debug-">2. Run and debug üêû<a class="hash-link" href="#2-run-and-debug-" title="Direct link to heading">‚Äã</a></h2><p><img loading="lazy" src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/pahznac0f8cjqt8haifb.png" alt="Show automatic debug configurations" class="img_E7b_"></p><ol><li>Go to the &quot;Run and Debug&quot; view</li><li>Click &quot;Show all automatic debug configurations.&quot;</li><li>In the dropdown, select &quot;Azure Static Web Apps...&quot;</li><li>Select the app you want to debug</li></ol><p>This will start the Azure Static Web Apps CLI in the VS Code terminal, and launch the Chrome debugger on <code>http://localhost:4280</code>.</p><p>Now you can set and hit breakpoints in your frontend code. </p><p><img loading="lazy" src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/aprutdzi9opkbegdnf2p.png" alt="Set breakpoints" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="3-add-api-route-Ô∏è">3. Add API route ‚ö°Ô∏è<a class="hash-link" href="#3-add-api-route-Ô∏è" title="Direct link to heading">‚Äã</a></h2><p>Azure Static Web Apps has integrated API support provided by Azure Functions. In order to add and debug an API route, we must install some Azure Functions tools.</p><ol><li><p><strong>Azure Functions extension for VS Code</strong> - <a href="https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-azurefunctions" target="_blank" rel="noopener noreferrer">Install from Marketplace</a></p></li><li><p><strong>Azure Functions Core Tools</strong> - <a href="https://github.com/Azure/azure-functions-core-tools" target="_blank" rel="noopener noreferrer">View on GitHub</a></p></li></ol><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">npm i -g azure-functions-core-tools@4 --unsafe-perm true</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now, you can add an API route to your app using the command palette (press <code>F1</code>) and searching &quot;Create HTTP Function&quot;.</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/12476526/169424449-3a10a9a0-025f-4fa3-b15f-294846fb0291.png" alt="Add HTTP Function" class="img_E7b_"></p><p>Select a language (I chose JavaScript), then name your Function (I put &quot;hello&quot;). And then an API route will be created for you that you can make requests to at <code>/api/hello</code>.</p><p><img loading="lazy" src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/emd9wo9q26m51aboyydd.png" alt="API route" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="4-debug-app--api-">4. Debug app &amp; API ‚ú®<a class="hash-link" href="#4-debug-app--api-" title="Direct link to heading">‚Äã</a></h2><p>We can debug our API routes and our frontend app simultaneously in VS Code.</p><p>Select the &quot;SWA: Run ...&quot; debug configuration and click the green &quot;Run and debug&quot; button.</p><p><img loading="lazy" src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/234k0e1p9jzmtyeeli56.png" alt="Run and debug" class="img_E7b_"></p><p>VS Code will now run your Functions API routes and your frontend. When it&#x27;s all started, a Chrome window will open at <code>http://localhost:4280</code>.</p><p>Set a breakpoint in your Function endpoint.</p><p><img loading="lazy" src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/89kolpnqbsrqysh661ep.png" alt="Function endpoint breakpoint" class="img_E7b_"></p><p>Go to <code>http://localhost:4280/api/hello</code> in the Chrome window to hit the breakpoint.</p><p><img loading="lazy" src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/2q8zt9j70wz4dr5h3mcm.png" alt="Hitting an API breakpoint" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="5-next-steps-Ô∏è">5. Next steps üèÉ‚Äç‚ôÄÔ∏è<a class="hash-link" href="#5-next-steps-Ô∏è" title="Direct link to heading">‚Äã</a></h2><p>Now that you got your static web app running locally, you can <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/getting-started?tabs=react" target="_blank" rel="noopener noreferrer">deploy your static web app to Azure for free</a>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="troubleshooting-">Troubleshooting üîç<a class="hash-link" href="#troubleshooting-" title="Direct link to heading">‚Äã</a></h2><p>If you&#x27;re having issues, please check out the <a href="https://github.com/microsoft/vscode-azurestaticwebapps/wiki/Guide:-Debugging-a-Static-Web-App-with-VS-Code#troubleshooting-" target="_blank" rel="noopener noreferrer">troubleshooting section in our wiki</a>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="resources-">Resources üîó<a class="hash-link" href="#resources-" title="Direct link to heading">‚Äã</a></h2><ul><li><a href="https://docs.microsoft.com/en-us/azure/static-web-apps/" target="_blank" rel="noopener noreferrer">Azure Static Web Apps documentation</a></li><li><a href="https://github.com/Azure/static-web-apps-cli" target="_blank" rel="noopener noreferrer">Azure Static Web Apps CLI</a></li><li><a href="https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-azurestaticwebapps" target="_blank" rel="noopener noreferrer">Azure Static Web Apps extension for VS Code</a></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="next-week">Next Week<a class="hash-link" href="#next-week" title="Direct link to heading">‚Äã</a></h2><p>This marks the end of Week 3 of #30DaysOfSWA, with a focus on <code>Developer Tools</code>. Want a visual recap of what we covered .. here you go!! To recap:</p><ul><li>We provisioned Azure resources - using the Azure Portal and Azure CLI</li><li>We added automated, cross-browser, e2e testing - using Playwright</li><li>We built multi-stage deployment pipelines - using Azure DevOps</li><li>We debugged and audited perf &amp; accessibility - using Edge DevTools on VSCode</li><li>We got unified local development and cloud deployment - using SWA CLI</li><li>We explored rich extensions and seamless CLI interactions - using VS Code</li></ul><p><img loading="lazy" alt="Week 3 Visual Roadmap" src="/assets/images/week3-roadmap-1024ef94a5315bcf2a97a8e54c0787e6.png" width="3840" height="2160" class="img_E7b_"></p><p>So what do we have planned for next week? </p><p>We&#x27;ve already covered core concepts, usage examples and developer tools -- so that leaves: <strong>Best Practices!</strong> Join us for the final week of #30DaysOfSWA where we define the end-to-end developer experience, explore various Azure Service integrations to enhance your SWA, dive into a cool case study, and end with a <code>Tips &amp; Tricks</code> series that brings you back full circle to development.</p><p>Thanks for sticking with us on this journey!</p></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>Tags:</b><ul class="tags_XVD_ padding--none margin-left--sm"><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/swa">swa</a></li><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/30-days">30days</a></li><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/dev-tools">dev-tools</a></li></ul></div><div class="col text--right col--3"><a aria-label="Read more about #21: Develop With VSCode" href="/blog/devtools-vscode"><b>Read More</b></a></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_rzP5" itemprop="headline"><a itemprop="url" href="/blog/devtools-swacli-deploy">#20: Deploy with SWA CLI</a></h2><div class="blogPostData_Zg1s margin-vert--md"><time datetime="2022-05-21T00:00:00.000Z" itemprop="datePublished">May 21, 2022</time> ¬∑ <!-- -->6 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><a href="https://twitter.com/manekinekko" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/manekinekko.png" alt="Wassim Chegham"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/manekinekko" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Wassim Chegham</span></a></div><small class="avatar__subtitle" itemprop="description">Senior Cloud Advocate @Microsoft</small></div></div></div><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><a href="https://twitter.com/sinedied" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/sinedied.png" alt="Yohan Lasorsa"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/sinedied" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Yohan Lasorsa</span></a></div><small class="avatar__subtitle" itemprop="description">Senior Cloud Advocate @Microsoft</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Welcome to <code>Week 3, Day 6</code> of <strong>#30DaysOfSWA</strong>!! </p><p>This is second part of the 2-part series that focuses on the launch of the <a href="https://azure.github.io/static-web-apps-cli/?WT.mc_id=30daysofswa-61155-cxall" target="_blank" rel="noopener noreferrer">Azure Static Web Apps CLI</a> at the <a href="https://docs.microsoft.com/en-us/events/learntv/swa-anniversary-may-2022?WT.mc_id=30daysofswa-61155-cxall" target="_blank" rel="noopener noreferrer">Azure Static Web Apps Anniversary event</a> on May 19, 2022. Yesterday&#x27;s post introduced the core <code>swa</code> command and walked through the <code>swa init</code> and <code>swa start</code> commands - and covered configuration. </p><p>Today, we&#x27;ll explore the <code>swa login</code> and <code>swa deploy</code> commands that help with deploying your locally-developed app to the Azure cloud. And we&#x27;ll cover the use of Environment Variables to streamline the developer experience further.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>What We&#x27;ll Cover</h5></div><div class="admonition-content"><ul><li>Logging in to Azure</li><li>Deploying your app</li><li>Environment variables</li><li><strong>Exercise</strong>: Use the new <code>swa</code> CLI to authenticate, and deploy your app</li></ul></div></div><p><img loading="lazy" src="/assets/images/20-banner-62cb7a9019981d88c514d8875b8547d9.png" width="1000" height="420" class="img_E7b_"></p><p>For this second article about the SWA CLI, we&#x27;ll talk about the new deployment options. And yes, you can now deploy your apps straight from the command line! Who&#x27;s better than the person who implemented it to talk about it? I&#x27;ll let my friend <a href="https://twitter.com/manekinekko" target="_blank" rel="noopener noreferrer">Wassim</a> explain it all to you.</p><blockquote><p>If you&#x27;ve never heard of Static Web Apps (or SWA for short), it&#x27;s a web app hosting service provided by Azure, offering streamlined full-stack development with many built-in features like authentication, customizable routing, serverless functions and more. It also has a great <a href="https://azure.microsoft.com/free/?WT.mc_id=30daysofswa-61155-cxall" target="_blank" rel="noopener noreferrer">free tier</a> üòâ</p></blockquote><h2 class="anchor anchorWithStickyNavbar_mojV" id="logging-in-to-azure">Logging in to Azure<a class="hash-link" href="#logging-in-to-azure" title="Direct link to heading">‚Äã</a></h2><p>In the new SWA CLI for Azure Static Web Apps, we introduced a new <code>swa login</code> command allowing you to log in to your Azure account, straight from the command line. This command will encrypt and store your credentials in your system&#x27;s key Chain, so you don&#x27;t have to enter them again.</p><p>In most common cases, the <code>swa login</code> will pick your current active Azure credentials from the following locations (in this order):</p><ol><li>Your environment variables, if you have set one or all of following <a href="https://azure.github.io/static-web-apps-cli/docs/cli/env-vars#azure-identity?WT.mc_id=30daysofswa-61155-cxall" target="_blank" rel="noopener noreferrer">variables</a>:<ul><li><code>AZURE_TENANT_ID</code></li><li><code>AZURE_CLIENT_ID</code></li><li><code>AZURE_CLIENT_SECRET</code></li></ul></li><li>Your current Visual Studio Code, if you&#x27;re using VS Code and is connected to Azure.</li><li>Interactive prompt using your browser.</li><li>The last fallback is the device code flow, which will prompt you to log in to your Azure account using a generated device code.</li></ol><p>However, if you need, you can also provide any of these credentials from the command line, using the available flags:</p><div class="language-bash codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-bash codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">Usage: swa login </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">options</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">login into Azure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Options:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -S, --subscription-id </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">subscriptionId</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">    Azure subscription ID used by this project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                            </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token string" style="color:#e3116c">&quot;process.env.AZURE_SUBSCRIPTION_ID&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -R, --resource-group </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">resourceGroupName</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">  Azure resource group used by this project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -T, --tenant-id </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">tenantId</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">                Azure tenant ID </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token string" style="color:#e3116c">&quot;process.env.AZURE_TENANT_ID&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -C, --client-id </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">clientId</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">                Azure client ID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -CS, --client-secret </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">clientSecret</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">       Azure client secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -n, --app-name </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">appName</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">                  Azure Static Web App application name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -cc, --clear-credentials                  </span><span class="token function" style="color:#d73a49">clear</span><span class="token plain"> persisted credentials before login </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -u, --use-keychain                        </span><span class="token builtin class-name">enable</span><span class="token plain"> using the operating system native keychain</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                            </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> persistent credentials </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -nu, --no-use-keychain                    disable using the operating system native keychain</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Once logged in, the SWA CLI will store your active Azure subscription ID and tenant ID in a local file called <code>.env</code> at the root of your project:</p><div class="language-bash codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-bash codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">‚ûú swa login</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Welcome to Azure Static Web Apps CLI </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1.0</span><span class="token plain">.0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Checking Azure session</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚úî Successfully logged into Azure</span><span class="token operator" style="color:#393A34">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚úî Saved project credentials </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> .env file.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚úî Successfully setup project</span><span class="token operator" style="color:#393A34">!</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This file will be used when deploying your project to Azure using the <code>swa deploy</code> command.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="deploying-your-app">Deploying your app<a class="hash-link" href="#deploying-your-app" title="Direct link to heading">‚Äã</a></h2><p>The new SWA CLI makes it even more easier to deploy your apps to Azure. You can now deploy your app directly from the command line, using one single <code>swa deploy</code> command.</p><p>The <code>swa deploy</code> command is smarter enough to figure out if you already have an Azure Static Web Apps instance available, and if so, it will use it. Otherwise, it will create a new one on the fly - or prompt you to select one from a list of already available ones:</p><div class="language-bash codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-bash codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">‚ûú swa deploy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Welcome to Azure Static Web Apps CLI </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1.0</span><span class="token plain">.0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Using configuration </span><span class="token string" style="color:#e3116c">&quot;thundr&quot;</span><span class="token plain"> from file:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /home/wassimchegham/oss/@thundr-dev/thundr/swa-cli.config.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Deploying front-end files from folder:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /home/wassimchegham/oss/@thundr-dev/thundr/app/dist/thundr-ui</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Deploying API from folder:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /home/wassimchegham/oss/@thundr-dev/thundr/api</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Checking Azure session</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚úî Successfully logged into Azure</span><span class="token operator" style="color:#393A34">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Checking project settings</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">? Choose your Static Web App ‚Ä∫ - Use arrow-keys. Return to submit.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚ùØ   </span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token plain"> Create a new application</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    swa_samples/angular-web-bluetooth</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    swa_samples/catsify</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    swa_samples/hexa</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    swa_samples/ngxtools</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    swa_samples/nitrooo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ‚Üì swa_samples/photobooth-teams</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>swa deploy</code> command is also able to detect if your existing Static Web Apps instance has already been deployed from a CI/CD pipeline and inform you about it!</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="deploying-from-a-cicd-pipeline">Deploying from a CI/CD pipeline<a class="hash-link" href="#deploying-from-a-cicd-pipeline" title="Direct link to heading">‚Äã</a></h2><p>Deploying from CI/CD pipelines is a common practice in many projects. You can use the <code>swa deploy</code> command to deploy your app to Azure from your CI/CD pipeline. You can accomplish this by setting a deployment token:</p><div class="language-bash codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-bash codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">‚ûú swa deploy --print-token --app-name thundr --resource-group swa_samples</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Welcome to Azure Static Web Apps CLI </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1.0</span><span class="token plain">.0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Checking project </span><span class="token string" style="color:#e3116c">&quot;thundr&quot;</span><span class="token plain"> settings</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚úî Successfully setup project</span><span class="token operator" style="color:#393A34">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Deploying to environment: preview</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Deployment token:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">7c3fc44b858164b677-truncated-8c80ace9-39a8-416c-ae22-864745c0470b003</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-bash codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-bash codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">swa deploy --deployment-token</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">7c3fc44b858164b677-truncated-8c80ace9-39a8-416c-ae22-864745c0470b003b003</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can also set the deployment token as an <a href="https://azure.github.io/static-web-apps-cli/docs/cli/env-vars#deploy-settings?WT.mc_id=30daysofswa-61155-cxall" target="_blank" rel="noopener noreferrer">environment variable</a>:</p><div class="language-bash codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-bash codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">SWA_CLI_DEPLOYMENT_TOKEN</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">7c3fc44b858164b677-truncated-8c80ace9-39a8-416c-ae22-864745c0470b003b003</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">swa deploy</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="environment-variables">Environment variables<a class="hash-link" href="#environment-variables" title="Direct link to heading">‚Äã</a></h2><p>The new SWA CLI introduced a new set of environment variables to make it easier for you to configure your experience. You can customize the behavior of the SWA CLI by setting the following environment variables:</p><ul><li>General settings</li><li>Emulator settings</li><li>Deploy settings</li><li>Runtime settings</li><li>Login experience</li></ul><p>You can read more about these environment variables in the <a href="https://azure.github.io/static-web-apps-cli/docs/cli/env-vars??WT.mc_id=30daysofswa-61155-cxall" target="_blank" rel="noopener noreferrer">Environment Variables section</a> in our new documentation website.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="next-steps">Next steps<a class="hash-link" href="#next-steps" title="Direct link to heading">‚Äã</a></h2><p>From the start of your project to its deployment to Azure, with all the needed local testing in-between, you should now be equipped to take care of your complete development process all from the command line. Now the main challenge remaining for you is to deploy and grow your app üòâ.</p><p>If you&#x27;d like to learn some tips you can use when developing your app, you can check out the <a href="https://aka.ms/StaticWebAppsTips??WT.mc_id=30daysofswa-61155-cxall" target="_blank" rel="noopener noreferrer">Static Web Apps - Tips &amp; Tricks</a> video series.</p><p>You can also learn more about all the new features of the SWA CLI and how to use them by looking at the <a href="https://azure.github.io/static-web-apps-cli/?WT.mc_id=30daysofswa-61155-cxall" target="_blank" rel="noopener noreferrer">new docs website</a>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="tell-us-your-feedback">Tell us your feedback!<a class="hash-link" href="#tell-us-your-feedback" title="Direct link to heading">‚Äã</a></h2><p>We&#x27;re also here on dev.to to listen and help as much as we can! üôÇ</p><p>Please tell us your experience, your difficulties, your questions, and what features you would like to see in the next versions of the SWA CLI.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="resources">Resources<a class="hash-link" href="#resources" title="Direct link to heading">‚Äã</a></h2><p>Want to see the Static Web Apps CLI in action? The tool became generally available yesterday, launching at the <a href="https://aka.ms/swaanniversary" target="_blank" rel="noopener noreferrer">Azure Static Web Apps Anniversary</a>. Watch the segment to see the SWA CLI in action.</p><iframe width="560" height="315" frameborder="0" src="https://www.youtube.com/embed/1e6k5HNK4F8?WT.mc_id=30daysofswa-61155-cxall" title="YouTube video player" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"></iframe></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>Tags:</b><ul class="tags_XVD_ padding--none margin-left--sm"><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/swa">swa</a></li><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/30-days">30days</a></li><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/dev-tools">dev-tools</a></li></ul></div><div class="col text--right col--3"><a aria-label="Read more about #20: Deploy with SWA CLI" href="/blog/devtools-swacli-deploy"><b>Read More</b></a></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_rzP5" itemprop="headline"><a itemprop="url" href="/blog/devtools-swacli-develop">#19: Develop with SWA CLI</a></h2><div class="blogPostData_Zg1s margin-vert--md"><time datetime="2022-05-20T00:00:00.000Z" itemprop="datePublished">May 20, 2022</time> ¬∑ <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><a href="https://twitter.com/sinedied" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/sinedied.png" alt="Yohan Lasorsa"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/sinedied" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Yohan Lasorsa</span></a></div><small class="avatar__subtitle" itemprop="description">Senior Cloud Advocate @Microsoft</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Welcome to <code>Week 3, Day 5</code> of <strong>#30DaysOfSWA</strong>!! </p><p>We&#x27;re past the halfway mark in &quot;Dev Tools&quot; week! We looked at developer tools to help provision Azure resources, automate cross-browser testing, streamline CI/CD, and debug/audit your SWA for performance and accessibility. But what about <strong>local development</strong> - something to help me go from <em>start</em> (project creation &amp; configuration) to <em>finish</em> (build &amp; deploy) in <strong>one tool</strong>? Let&#x27;s say hello to the <a href="https://aka.ms/30DaysOfSWA/swa-cli" target="_blank" rel="noopener noreferrer">Azure Static Web Apps CLI</a>.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>What We&#x27;ll Cover</h5></div><div class="admonition-content"><ul><li><code>swa</code> - One command to rule them all!</li><li>Creating the configuration</li><li>Building your project</li><li>Running your app locally</li><li><strong>Exercise</strong>: Use the new <code>swa</code> CLI to build and run a starter app!</li></ul></div></div><p><img loading="lazy" src="/assets/images/19-banner-ecd588da06f9f1af0f0e8a5f3323aa20.png" width="1000" height="420" class="img_E7b_"></p><p>You may have missed it, but the <a href="https://github.com/Azure/static-web-apps-cli" target="_blank" rel="noopener noreferrer">new Azure Static Web Apps CLI</a> is now available!</p><p>It would take a whole post to describe all the changes and new features, but here are some of the highlights. With the new <code>init</code>, <code>build</code>, <code>start</code> and <code>deploy</code> commands, the complete developement cycle of your app is now available <em>in a single tool</em>, directly from the command line. </p><p><img loading="lazy" src="/assets/images/19-cli-banner-1-1bac73f4685c9f14cf25034fe74a405e.jpeg" width="1000" height="420" class="img_E7b_"></p><p>To get started, make sur you have a recent <a href="https://nodejs.org" target="_blank" rel="noopener noreferrer">Node.js</a> version installed (&gt;14) and type this command in your terminal:</p><div class="language-sh codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-sh codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">npm i -g @azure/static-web-apps-cli</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We&#x27;ll now have a look at the new commands and the most important features.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>If you&#x27;ve never heard of Static Web Apps (or SWA for short), it&#x27;s a web app hosting service provided by Azure, offering streamlined full-stack development with many built-in features like authentication, customizable routing, serverless functions and more. It also has a great <a href="https://azure.microsoft.com/free/?WT.mc_id=javascript-0000-yolasors" target="_blank" rel="noopener noreferrer">free tier</a> üòâ</p></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="swa"><code>swa</code><a class="hash-link" href="#swa" title="Direct link to heading">‚Äã</a></h2><p>As the new CLI introduces a gazillion new options, it must quite a steep learning curve to get started? Quite the opposite!</p><p>Every command starts with <code>swa</code>, and now it might also be the only thing you&#x27;ll need.</p><div class="language-sh codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-sh codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain"># yes, that&#x27;s all you need to type</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">swa</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This command is a macro shorcut for <code>swa init</code>, <code>swa build</code>, <code>swa login</code> and <code>swa deploy</code>. We&#x27;ll get to the details of all these commands in a bit, the most important thing here is that <code>swa</code> is the only command you need to know to configure a new project for use with Static Web Apps, build it and deploy it. You don&#x27;t have to worry about any options or flags, just type <code>swa</code> and you&#x27;ll be on your way. </p><h2 class="anchor anchorWithStickyNavbar_mojV" id="creating-the-configuration">Creating the configuration<a class="hash-link" href="#creating-the-configuration" title="Direct link to heading">‚Äã</a></h2><p>The first of the new commands is <code>swa init</code>. This commands with detect your project configuration and the frameworks you&#x27;re using to suggest a configuration for you, so you won&#x27;t have to read through <a href="https://azure.github.io/static-web-apps-cli/" target="_blank" rel="noopener noreferrer">the shiny new docs</a> to figure out what options you need.</p><p><img loading="lazy" alt="swa init command screenshot" src="/assets/images/19-init-d5f344eba5b610e07a7b54f390b6a958.png" width="1138" height="423" class="img_E7b_"></p><p>After asking a name for your project configuration, you can validate or edit the detected project settings. Once finished, it will create a <code>swa-cli.config.json</code> file in the current folder with your settings. You can commit this file in your project repository so everyone from your team can use it.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="building-your-project">Building your project<a class="hash-link" href="#building-your-project" title="Direct link to heading">‚Äã</a></h2><p>After the configuration is created, you&#x27;re all set to use other commands without having to bother with any options or flags.</p><p>Whether you need to build your front-end app, your API, or both, the <code>swa build</code> command will do the job. It also takes care of installing your NPM dependencies (if needed) detecting if you&#x27;re using npm, Yarn or PNPM with your project.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="running-your-app-locally">Running your app locally<a class="hash-link" href="#running-your-app-locally" title="Direct link to heading">‚Äã</a></h2><p>Historically, being able to run your app locally was the first feature of the SWA CLI. Of course it&#x27;s still there, and <code>swa start</code> allows you to emulate the SWA runtime environment, along with the routing, authentication features and API. A few changes were made to improve the developer experience, and of course bugs were fixed to more closely match the real SWA runtime.</p><p>Previously, if you were using an API, you had to install <a href="https://docs.microsoft.com/azure/azure-functions/functions-run-local?tabs=v4%2Cwindows%2Ccsharp%2Cportal%2Cbash&amp;WT.mc_id=javascript-0000-yolasors#publish" target="_blank" rel="noopener noreferrer">Functions Core Tools</a> and make sure to match the tools version with the Node.js version you&#x27;re using, but now the whole process is automated for you. If you don&#x27;t have the tools installed or if the wrong version is installed, you don&#x27;t have to worry about it: it will be automatically installed for you when needed.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="next-steps">Next steps<a class="hash-link" href="#next-steps" title="Direct link to heading">‚Äã</a></h2><p>With these new commands, you can already setup your project, build it and test it locally. Using <code>swa start</code> is also great for debugging your app and API in a live running environment. Once you&#x27;re happy with the result, you can deploy it to Azure, and that&#x27;s what we&#x27;ll explore in the next post.</p><p>In the meantime, you can also head to <a href="https://azure.github.io/static-web-apps-cli/" target="_blank" rel="noopener noreferrer">the new docs website</a> to learn more about the new features and how to use them.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="tell-us-your-feedback">Tell us your feedback!<a class="hash-link" href="#tell-us-your-feedback" title="Direct link to heading">‚Äã</a></h2><p>We&#x27;re also <a href="https://dev.to/azure/get-started-with-the-new-azure-static-web-apps-cli-mm3" target="_blank" rel="noopener noreferrer">here on dev.to</a> to listen and help as much as we can! üôÇ</p><p>Please tell us your experience, your difficulties, your questions, and what features you would like to see in the next versions of the SWA CLI.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="resources">Resources<a class="hash-link" href="#resources" title="Direct link to heading">‚Äã</a></h2><p>Want to see the Static Web Apps CLI in action? The tool became generally available yesterday, launching at the <a href="https://aka.ms/swaanniversary" target="_blank" rel="noopener noreferrer">Azure Static Web Apps Anniversary</a>. Watch the segment to see the SWA CLI in action.</p><iframe width="560" height="315" frameborder="0" src="https://www.youtube.com/embed/1e6k5HNK4F8" title="YouTube video player" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"></iframe></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>Tags:</b><ul class="tags_XVD_ padding--none margin-left--sm"><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/swa">swa</a></li><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/30-days">30days</a></li><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/dev-tools">dev-tools</a></li></ul></div><div class="col text--right col--3"><a aria-label="Read more about #19: Develop with SWA CLI" href="/blog/devtools-swacli-develop"><b>Read More</b></a></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_rzP5" itemprop="headline"><a itemprop="url" href="/blog/devtools-msedge">#18: Debug with Edge DevTools</a></h2><div class="blogPostData_Zg1s margin-vert--md"><time datetime="2022-05-19T00:00:00.000Z" itemprop="datePublished">May 19, 2022</time> ¬∑ <!-- -->16 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><a href="https://twitter.com/patrickbrosset" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/captainbrosset.png" alt="Patrick Brosset"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/patrickbrosset" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Patrick Brosset</span></a></div><small class="avatar__subtitle" itemprop="description">Edge Dev Experience PM @Microsoft</small></div></div></div></div></header><meta itemprop="image" content="https://www.azurestaticwebapps.dev/../static/img/series/18-banner.png"><div class="markdown" itemprop="articleBody"><p>Welcome to <code>Week 3, Day 4</code> of <strong>#30DaysOfSWA</strong>!!</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>GLOBAL ACCESSIBILITY AWARENESS DAY</h5></div><div class="admonition-content"><p>Did you know today is <a href="https://accessibility.day/" target="_blank" rel="noopener noreferrer">Global Accessibility Awareness Day</a> - a day where we think about <strong>digital accessibility</strong> and what it means to make the web experience inclusive and friendly to everyone! </p><p>Visit the <a href="https://docs.microsoft.com/en-us/microsoft-edge/accessibility/" target="_blank" rel="noopener noreferrer">Accessbility in Microsoft Edge</a> documentation to learn best practices around designing, building, and testing, your modern websites for accessibility.</p></div></div><p>As we&#x27;ll learn in a post later this week (stay tuned!), using the <a href="https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-azurestaticwebapps" target="_blank" rel="noopener noreferrer">Azure Static Web Apps extension for VS Code</a> makes it quick to create and manage your Web Apps directly from VS Code.
<em>But what about the other aspects of your developer experience - like debugging your web app or profiling its performance in the browser?</em></p><p><strong>As a web developer, it&#x27;s important to minimize context switching.</strong> </p><p>The fewer tools you need to use to do your job, the better. This way you can stay focused on the tasks at hand more easily, without having to constantly deal with multiple tools and windows on your computer. You become more productive when the tools you rely on work better together.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="what-well-cover">What We&#x27;ll Cover<a class="hash-link" href="#what-well-cover" title="Direct link to heading">‚Äã</a></h2><ul><li>Getting started with the <strong>Edge DevTools</strong> VS Code extension</li><li>Seamless <strong>debugging</strong> experiences for your front-end app.</li><li>Discovering some of the DevTools <strong>accessibility</strong> tools.</li><li>Discovering some of the DevTools <strong>performance improvement</strong> tools.</li><li><strong>Exercise:</strong> Install the Edge DevTools VSCode Extension and try these features out!</li></ul><p><img loading="lazy" src="/assets/images/18-banner-3c83eb95b9d1aabe5f27d4282c5423ad.png" width="1000" height="420" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="debug-front-end-code-from-vs-code">Debug front-end code from VS Code<a class="hash-link" href="#debug-front-end-code-from-vs-code" title="Direct link to heading">‚Äã</a></h2><p>After you&#x27;ve created your SWA and have started adding more functionality to it, there will come a time when debugging your front-end code may become useful. Maybe you&#x27;ve added some JavaScript front-end logic that needs debugging, or maybe you&#x27;ve added new CSS layout code that needs inspecting.</p><p>The DevTools built in to your favorite browser come in very handy at this point. But, having to switch between your source files in your editor and your browser window to do the debugging can quickly become frustrating. It&#x27;s also prone to errors as there aren&#x27;t great solutions to move the tweaks you do in DevTools back to your editor.</p><p>One tool that can help a lot here is the <strong><a href="https://marketplace.visualstudio.com/items?itemName=ms-edgedevtools.vscode-edge-devtools" target="_blank" rel="noopener noreferrer">Microsoft Edge Developer Tools extension for VS Code</a></strong>. This extension gives you DevTools in VS Code directly.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Edge DevTools For Visual Studio Code v2 Just Released!</h5></div><div class="admonition-content"><p><a href="https://dev.to/codepo8/edge-devtools-for-visual-studio-code-v2-1bp3" target="_blank" rel="noopener noreferrer"><strong>Read this post</strong></a> to learn about improvements and new features like <em>Screencast with emulation support</em>, <em>Sourcemap support for styles</em> and more!</p></div></div><p>With this extension, the <strong>Elements</strong> and <strong>Network</strong> are embedded directly within VS Code, your <strong>Console</strong> messages appear in the VS Code console, issues detected by the Edge <strong>Issues</strong> panel are highlighted in your source code directly, and you get a live preview of your web app&#x27;s front-end right in VS Code!</p><p>Finally, as you tweak your CSS code from within the <strong>Styles</strong> panel, your changes are automatically applied to your source files, even if you use a CSS pre-processor.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="get-started-with-edge-devtools-vs-code-extension">Get started with Edge DevTools VS Code extension<a class="hash-link" href="#get-started-with-edge-devtools-vs-code-extension" title="Direct link to heading">‚Äã</a></h3><p>First let&#x27;s install the extension, right from VS Code.</p><ol><li>In VS Code, open the <strong>Extensions</strong> sidebar, and search for &quot;Edge Tools&quot;.</li><li>The <strong>Microsoft Edge Tools for VS Code</strong> extension should be listed. Click the <strong>Install</strong> button and wait for the process to end.</li></ol><p><img loading="lazy" alt="Screenshot of VSCode showing the Extensions sidebar with the Edge Tools for VS Code extension displayed" src="/assets/images/install-eba204081ea1bd94c4a0ac2ba5b45e26.png" width="1300" height="654" class="img_E7b_"></p><p>Once installed, the extension appears as a new icon in the <strong>Activity bar</strong> which gives you access to useful features. Let&#x27;s jump straight in and make use of the most useful feature: generating a <code>launch.json</code> configuration file for your project.</p><ol><li>Click the <strong>Microsoft Edge Tools</strong> extension icon in the <strong>Activity bar</strong>.</li><li>Click <strong>Generate launch.json</strong>. A file appears in VS Code with some useful configuration details we can tweak.</li></ol><p><img loading="lazy" alt="Screenshot of VSCode showing the Edge Tools sidebar with the button to generate a launch json file and the file created next to it" src="/assets/images/launchjson-7d85ad6f0d91eefcffc051f20c8f37fd.png" width="1400" height="640" class="img_E7b_"></p><p>The most important configuration you should change now is the <code>url</code> and perhaps add a <code>preLaunchTask</code> if you need to.</p><p>I&#x27;ll use my blog to illustrate the changes here. In this project, I have a build task configured that generates the HTML code for my blog from markdown, watches for changes in files, and serves the resulting site from HTTP port 8080.</p><p>So, in my case, I&#x27;ll update the <strong>Launch Microsoft Edge in headless mode</strong> configuration in <code>launch.json</code> to this:</p><div class="language-json codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-json codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;pwa-msedge&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Launch Microsoft Edge in headless mode&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;request&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;launch&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;runtimeArgs&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;--headless&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;--remote-debugging-port=9222&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;preLaunchTask&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;npm: serve&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;url&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;http://localhost:8080&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;presentation&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;hidden&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When this launch configuration is used, it will build my blog from source code, serve it on a local server, open the browser directly within VS Code, and the DevTools panels alongside it. Let&#x27;s test it! Click on <strong>Launch Project</strong> in the <strong>Microsoft Edge Tools</strong> extension to get everything running.</p><p><img loading="lazy" alt="Screenshot of VSCode showing 3 panels side by side: a CSS file, the DevTools, and the browser rendering of my site" src="/assets/images/firstrun-1ef935e8dc8d1c45a965bcb801f93311.png" width="1400" height="814" class="img_E7b_"></p><p>Now try to apply this to your own project, changing the configuration to match your needs. Next, we&#x27;ll review the most useful features of the extension.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="mirror-css-changes-to-source-files">Mirror CSS changes to source files<a class="hash-link" href="#mirror-css-changes-to-source-files" title="Direct link to heading">‚Äã</a></h3><p>Tweaking CSS properties in DevTools is great because you get a live preview of your changes on the web page, and with the <strong>Microsoft Edge Tools</strong> extension, you also get mirroring of your changes right back to the corresponding source file. This way, you don&#x27;t need to remember all of the changes you made and manually apply them to your editor. The extension is able to figure out the mapping between the live CSS code and the source files in your project.</p><p>Changing CSS code in the <strong>Styles</strong> panel automatically opens the corresponding source file and applies the same change.</p><p>Note that the extension does not save the CSS source file for you. You can keep on tweaking CSS in DevTools and, only once you&#x27;re ready, save the changes made by the extension in the source file on your behalf.</p><p>You can learn more about CSS mirroring in the <a href="https://docs.microsoft.com/microsoft-edge/visual-studio-code/microsoft-edge-devtools-extension#syncing-live-changes-from-the-styles-tool-by-using-css-mirror-editing" target="_blank" rel="noopener noreferrer">Microsoft Edge DevTools extension docs</a>.</p><p><img loading="lazy" alt="Screenshot of VSCode showing editing a CSS value in the DevTools pane and the value being reflected in the source file" src="/assets/images/mirror-e91333679aac60431888789d7e5faaeb.png" width="1600" height="834" class="img_E7b_"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="find-issues-with-your-code">Find issues with your code<a class="hash-link" href="#find-issues-with-your-code" title="Direct link to heading">‚Äã</a></h3><p>Edge DevTools comes with a built-in <strong>Issues</strong> tool that provides useful information about the inspected web page. For example, it can report on browser compatibility, accessibility, or security issues.</p><p>The <strong>Microsoft Edge Tools</strong> extension in VS Code provides the same feature, but integrated right into your source code. For example, browser compatibility warnings are highlighted in your CSS source code with squiggly lines, and hovering over the highlight reveals more information about the issue.</p><p><img loading="lazy" alt="Screenshot of part of a CSS file in the VSCode editor, with a CSS property underline and a tooltip showing the browser compatibility warning related to using this property" src="/assets/images/cssissue-8d6aab48a94d0cf499440627826f60c7.png" width="1400" height="281" class="img_E7b_"></p><p>You can also review all issues at once by opening the <strong>Problems</strong> panel in VS Code&#x27;s bottom drawer.</p><p>You can learn about other ways to find issues with your code in the <a href="https://docs.microsoft.com/microsoft-edge/visual-studio-code/microsoft-edge-devtools-extension#inline-and-live-issue-analysis" target="_blank" rel="noopener noreferrer">Microsoft Edge DevTools extension docs</a>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="get-your-console-messages">Get your console messages<a class="hash-link" href="#get-your-console-messages" title="Direct link to heading">‚Äã</a></h3><p>The <strong>Microsoft Edge Tools</strong> extension in VS Code also integrates the very popular <strong>Console</strong> tool. People rely on the console all the time when debugging their code.</p><p>Because the extension also works with the built-in VS Code JavaScript debugger, that means you can debug your front-end JavaScript code in VS Code as normal, and see your console logs in DevTools right next to you.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="learn-about-other-devtools-features">Learn about other DevTools features<a class="hash-link" href="#learn-about-other-devtools-features" title="Direct link to heading">‚Äã</a></h2><p>As we&#x27;ve just seen, the <strong>Microsoft Edge Tools</strong> extension is very helpful. It caters for most web development tooling needs, while ensuring you have a seamless experience without having to leave VS Code.</p><p>But there&#x27;s more to the Edge DevTools available in the browser (the tools you get when you press <strong>F12</strong>) that&#x27;s not yet available within the VS Code extension version.</p><p>Building a great SWA means building a great web app first and foremost and while learning the ins and outs of SWA is very important, learning about how to build a performant and accessible web experience for all your users is also crucial.</p><p>Let&#x27;s discover a few tools and features of DevTools that can help you with this.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="fix-accessibility-issues">Fix accessibility issues<a class="hash-link" href="#fix-accessibility-issues" title="Direct link to heading">‚Äã</a></h3><p>Every year the <a href="https://webaim.org/" target="_blank" rel="noopener noreferrer">WebAIM organization</a> publishes a report of the most common website issues that create accessibility problems for people. Sadly, every year the result is quite depressing. You can read the <a href="https://webaim.org/projects/million/" target="_blank" rel="noopener noreferrer">WebAIM Million 2022 report</a>.</p><p>On the bright side though, the most common accessibility issues can be detected and solved easily with DevTools! So let&#x27;s learn about some of the features that can help create more accessible web experiences for all.</p><p>The most common accessibility problem out there is low contrast text. If the contrast ratio between the text color and the color of the background behind it is too low, then people might not be able to read the text at all. The color picker in DevTools is a great way to detect these problems.</p><ol><li>Right-click a piece of text on your web page and select <strong>Inspect</strong>.</li><li>In the <strong>Styles</strong> tab, find the <strong>color</strong> CSS property that defines which color the text is, and click the colored square next to it.</li><li>Review the <strong>Contrast ratio</strong> in the color picker. Your goal is to have 2 check marks next to it, meaning that the contrast ratio meets the recommendation.</li></ol><p><img loading="lazy" alt="Screenshot of the Elements tool in Edge, showing the color picker on one of the text color CSS properties in the Styles pane, with the contrast ratio report." src="/assets/images/colorpicker-f67cc1e986f2b7764fa70ebc077db417.png" width="1400" height="844" class="img_E7b_"></p><p>If the text doesn&#x27;t have enough contrast, then you can fix the problem right here in DevTools.</p><ol><li>Click the <strong>show more</strong> arrow next to the <strong>Color contrast</strong> value to reveal more information. Two lines will appear in the color picker.</li><li>Use these lines to choose a color that meets the recommendation.</li></ol><p><img loading="lazy" alt="Screencast showing the color picker in the Styles pane, with the 2 guide lines to choose a color that has enough contrast. Moving the current color selection across those 2 lines recalculates the ratio in real time." src="/assets/images/contrastratiolines-5324dcb3651c55cd8744ad18317b5a08.gif" width="1585" height="622" class="img_E7b_"></p><p>Another very common accessibility problem is missing alternative text for images (or alt text). Alt text helps users of screen readers perceive the content of an image, but it also important for cases where users decide to disable images, or when images fail to load, and even for search engine optimization. And, DevTools can detect missing alt text automatically! So there&#x27;s really no excuses for not writing great textual substitute for your images.</p><ol><li>Open DevTools by pressing <strong>F12</strong>.</li><li>Click <strong>More Tools</strong> (<strong>+</strong>) in the main toolbar at the top and select the <strong>Issues</strong> tool from the list.</li><li>Check if the list of issues contains an <strong>Accessibility</strong> category. If it does, check for <strong>Images must have alternate text</strong> warnings.</li><li>Open one of the warnings, review the problem, and click <strong>Open in Elements</strong> to see the problem directly in the <strong>Elements</strong> tool.</li></ol><p><img loading="lazy" alt="Screenshot of the Issues tool in Edge, showing 4 missing alt-text warnings." src="/assets/images/alttext-adcf6bb1488c4a5fede9ec2f27b21898.png" width="1400" height="844" class="img_E7b_"></p><p>Now let&#x27;s talk about source order. The order in which assistive technology (such as screen readers) navigates a page is linked to the order in which the various elements appear in the document source code. Now, this order might be very different from the order in which the elements appear, visually, on the screen. Using CSS, you can re-order things visually, without changing the document source order.</p><p>So, to make sure the document navigation makes sense to all, even to users of assistive technology, it is important to check that the source order itself makes sense.</p><p>Edge and Chrome DevTools have a <strong>Source Order Viewer</strong> feature that helps with this.</p><ol><li>Open DevTools by pressing <strong>F12</strong>.</li><li>Open the <strong>Elements</strong> tool and select a layout element which you want to check the source order in.</li><li>Click <strong>Accessibility</strong> in the tool&#x27;s sidebar.</li><li>At the bottom of the <strong>Accessibility</strong> pane, select the <strong>Show source order</strong> checkbox. An overlay appears showing the source order with numbers.</li><li>Keep selecting different elements in the DOM tree to review their source order.</li></ol><p><img loading="lazy" alt="Screenshot of the Accessibility pane in the Elements tool in Edge, with the source order viewer checkbox selected, and the numbers overlay displayed on the page." src="/assets/images/sourceorder-d1935ff13ef4d6989c2c2a2e76c9369e.png" width="1500" height="848" class="img_E7b_"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="improve-performance">Improve performance<a class="hash-link" href="#improve-performance" title="Direct link to heading">‚Äã</a></h3><p>Great performance can have a very positive impact on your website. A page that appears fast and responds to user actions instantly can impact user retention, engagement, and even revenue.</p><p>Performance improvement work can be daunting, but there are two useful tools in DevTools that can ease the pain: the <strong>Performance</strong> tool and the <strong>Detached Elements</strong> tool.</p><p>Let&#x27;s start with the <strong>Performance</strong> tool. You&#x27;ll find one in all browser DevTools, Edge, Chrome, Firefox, or Safari. They&#x27;re all a little bit different, but at their core give you ways to understand the runtime performance of the inspected web page over a given period of time.</p><p>To use the tool in Edge:</p><ol><li>Open DevTools by pressing <strong>F12</strong>.</li><li>Click <strong>Performance</strong> in the main toolbar at the top (you might have to click on the <strong>More tabs</strong> (<strong>&gt;&gt;</strong>) button first if the tab isn&#x27;t visible.</li><li>Click the <strong>Record</strong> button.</li><li>Use the web page as a normal user would.</li><li>Stop the recording with the <strong>Stop</strong> button.</li></ol><p><img loading="lazy" alt="Screenshot of the performance tool in Edge DevTools" src="/assets/images/perftool-d83b9f20cec06e68b3a5c901c4095376.png" width="1400" height="944" class="img_E7b_"></p><p>The <strong>Performance</strong> tool can tell you how busy (or idle) the browser was with things like running JavaScript code, reacting to user events, and re-rendering the page during the recording period. So it&#x27;s a great way to find bottlenecks in your site&#x27;s performance and therefore know what fixes would give the best bang for your bucks.</p><p>One example, if your site does a lot of animations and other visual things, is that the tool can report on frames per second (FPS) and alert you when the rate drops too low and could impact the user experience.</p><p>The <strong>Performance</strong> tool has a lot of functionality packed into a small user interface, so it can be important to go through its documentation to understand what everything does. To learn more, check out <a href="https://docs.microsoft.com/microsoft-edge/devtools-guide-chromium/evaluate-performance/" target="_blank" rel="noopener noreferrer">Get started analyzing runtime performance</a></p><p>Another important performance aspect is memory. How much memory your site uses of what&#x27;s available, and whether it keeps on using more and more memory over time can make your site, and even the entire computer, run slow.</p><p>One type of memory leaks is DOM leaks, where the front-end JavaScript code does a lot of DOM node manipulation and, in the process, keeps references to more and more DOM nodes it doesn&#x27;t need any longer. As the complexity of your app or site grows, it gets easier to make mistakes and introduce these types of memory leaks by accident.</p><p>Edge comes with a tool called <strong>Detached Elements</strong> which is great for investigating this type of memory leaks. Knowing that you have a leak isn&#x27;t too hard, but knowing where it originates from can feel like playing hide-and-seek in the dark. The <strong>Detached Elements</strong> tool points at DOM nodes that are still around in memory but not used in the page, and tells you which part of your code still references them. This way you can take a look at your code, and decide whether these nodes are, indeed, being leaked and need to be destroyed, potentially saving a lot of memory and improving performance.</p><p>To use the tool in Edge:</p><ol><li>Open DevTools by pressing <strong>F12</strong>.</li><li>Click <strong>More Tools</strong> (<strong>+</strong>) in the main toolbar at the top and select the <strong>Detached Elements</strong> tool from the list.</li><li>Click the <strong>Get detached elements</strong> button to list the DOM nodes in memory that aren&#x27;t used in the page.</li><li>You can then use the app as a user would, and keep clicking that button to update the list. You can also click the <strong>Collect garbage</strong> button to force the browser to run its garbage collection mechanism, to see if some nodes have been collected in the meantime.</li></ol><p><img loading="lazy" alt="Screenshot of the detached elements tool in Edge, showing 3 DOM nodes in the list" src="/assets/images/detachedelements-9a4c5df57ba20165ac51702374143e54.png" width="1400" height="462" class="img_E7b_"></p><p>This should already give you a pretty good idea of where to start looking, but the tool is also integrated with the <strong>Memory</strong> tool, and using the <strong>Memory</strong> tool is great for finding where the listed DOM nodes are references from.</p><ol><li>Click the <strong>Analyze</strong> button and wait for the heap snapshot to be taken.</li><li>Click any of the numbers appearing in the <strong>Id</strong> column to jump right from a DOM node in the <strong>Detached Elements</strong> tool to its list of retainers in the <strong>Memory</strong> tool.</li></ol><p>The information displayed in the <strong>Retainers</strong> section of the <strong>Memory</strong> tool will give you hints as to which part of your code is currently keeping the DOM node alive in memory.</p><p><img loading="lazy" alt="Screenshot of the detached elements tool in Edge, with the memory tool below it showing the list of retainers for one of the DOM nodes in the list" src="/assets/images/detachedelements-memory-89afa908a1aa61fcade4fe3ad147c480.png" width="1400" height="1004" class="img_E7b_"></p><p>Learn more about using the <strong>Detached Elements</strong> tool in <a href="https://docs.microsoft.com/microsoft-edge/devtools-guide-chromium/memory-problems/dom-leaks" target="_blank" rel="noopener noreferrer">Debug DOM memory leaks with the Detached Elements tool</a>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="conclusion">Conclusion<a class="hash-link" href="#conclusion" title="Direct link to heading">‚Äã</a></h2><p>I hope what we saw today was useful. If there&#x27;s one thing I&#x27;d love for you to take away from this is that building a great Azure Static Web App starts with building a great web experience for all!</p><p>Learning the tools at your disposal to find and fix the most common mistakes that prevent such a great experience is important, and the Edge DevTools VS Code extension eases the pain by integrating directly in your existing environment.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="exercise">Exercise<a class="hash-link" href="#exercise" title="Direct link to heading">‚Äã</a></h2><p>Install the latest version of the <strong><a href="https://marketplace.visualstudio.com/items?itemName=ms-edgedevtools.vscode-edge-devtools" target="_blank" rel="noopener noreferrer">Microsoft Edge Developer Tools extension for VS Code</a></strong> and try out some of these features. <strong>Try identifying and fixing accessibility issues</strong>, or use the <strong>Performance tool</strong> to analyze the runtime performance, of a Static Web App you&#x27;ve deployed.</p></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>Tags:</b><ul class="tags_XVD_ padding--none margin-left--sm"><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/swa">swa</a></li><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/30-days">30days</a></li><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/dev-tools">dev-tools</a></li></ul></div><div class="col text--right col--3"><a aria-label="Read more about #18: Debug with Edge DevTools" href="/blog/devtools-msedge"><b>Read More</b></a></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_rzP5" itemprop="headline"><a itemprop="url" href="/blog/devtools-ado">#17: Multi-Stage Deploy with ADO</a></h2><div class="blogPostData_Zg1s margin-vert--md"><time datetime="2022-05-18T00:00:00.000Z" itemprop="datePublished">May 18, 2022</time> ¬∑ <!-- -->11 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><a href="https://github.com/anthonychu" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/anthonychu.png" alt="Anthony Chu"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/anthonychu" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Anthony Chu</span></a></div><small class="avatar__subtitle" itemprop="description">Senior PM @Microsoft</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Welcome to <code>Week 3, Day 3</code> of <strong>#30DaysOfSWA</strong>!! </p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>From Microsoft Tech Community</h5></div><div class="admonition-content"><p>Check out the canonical version of this post on the <strong><a href="https://techcommunity.microsoft.com/t5/apps-on-azure-blog/multi-stage-azure-static-web-apps-deployments-with-azure-devops/ba-p/3390625" target="_blank" rel="noopener noreferrer">Apps On Azure</a></strong> Tech Community Blog along with other articles on the topic of <strong><a href="https://techcommunity.microsoft.com/t5/apps-on-azure-blog/bg-p/AppsonAzureBlog/label-name/Web%20Apps" target="_blank" rel="noopener noreferrer">Web Apps</a></strong></p></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="what-well-cover">What We&#x27;ll Cover<a class="hash-link" href="#what-well-cover" title="Direct link to heading">‚Äã</a></h2><ul><li>Build SWA with Azure Functions API + Playwright Tests</li><li>Deploy SWA to staging environment</li><li>Automate validation of staged app with Playwright</li><li>Wait for manual approval</li><li>Deploy to production</li><li><strong>Exercise.</strong> Explore the <a href="https://github.com/anthonychu/swa-devops-pipeline-demo" target="_blank" rel="noopener noreferrer">Demo Application Source</a> and try it out!</li></ul><p><img loading="lazy" src="/assets/images/17-banner-2d8ecefdc1683370295255b3fa8a0df3.png" width="1000" height="420" class="img_E7b_"></p><p>Azure Static Web Apps recently introduced the ability to automatically configure an Azure DevOps pipeline to build and deploy your app. It&#x27;s a great way to get your app up and running quickly.</p><iframe width="560" height="315" src="https://www.youtube.com/embed/4JkfeZp7aDk" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"></iframe><p>For production applications, it&#x27;s common to first deploy an app to staging environment(s) prior to deploying to production. In this article, we&#x27;ll walk through how to configure a robust Azure DevOps pipeline that will:</p><ul><li>Build an app, Azure Functions API, and Playwright tests</li><li>Deploy the app to a staging environment</li><li>Automatically validate the staging app with the Playwright tests</li><li>Wait for a manual approval</li><li>Deploy your app to production</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="sample-application">Sample application<a class="hash-link" href="#sample-application" title="Direct link to heading">‚Äã</a></h2><p>We&#x27;ll use a .NET 6 full-stack application. </p><ul><li>Frontend: Blazor WebAssembly</li><li>Backend: Azure Functions</li><li>Tests: Playwright</li></ul><p>To follow along, import the repository into your Azure DevOps project. You can use similar steps for a Node.js app.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span><strong>Source Code Available</strong></h5></div><div class="admonition-content"><p>Check out the code at: <strong><a href="https://github.com/anthonychu/swa-devops-pipeline-demo" target="_blank" rel="noopener noreferrer">@anthonychu/swa-devops-pipeline-demo</a></strong>.</p></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="create-a-static-web-app-and-deployment-pipeline">Create a static web app and deployment pipeline<a class="hash-link" href="#create-a-static-web-app-and-deployment-pipeline" title="Direct link to heading">‚Äã</a></h2><p>Recently, Azure Static Web Apps added the ability to <a href="https://docs.microsoft.com/azure/static-web-apps/get-started-portal?pivots=azure-devops" target="_blank" rel="noopener noreferrer">generate an Azure DevOps pipeline</a> to deploy your app.</p><p>You can create a static web app and the deployment pipeline in a single step.</p><ol><li><p>In the Azure portal, search for and create a new static web app.</p></li><li><p>During the creation process, select &quot;Azure DevOps&quot; as the deployment source and select the DevOps repository and branch that contains the app.</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/3982077/168908827-22dd512a-cec7-4e27-aca4-993428f2a03e.png" alt="Create an app with Azure DevOps" class="img_E7b_"></p></li><li><p>In the build presets, select &quot;Blazor&quot;. The pre-populates the app and API folder locations.</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/3982077/168909032-b817a631-6e74-4739-8c4a-1ff480f955a3.png" alt="Select Blazor preset" class="img_E7b_"></p></li></ol><p>When you create the app, a new pipeline YAML file will be created in the repository. It&#x27;ll automatically run. It takes a few minutes to build and deploy the app.</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/3982077/168909383-0d275e2f-15ae-40e8-aa2d-56a208f7a6f4.png" alt="Location of the generated build pipeline YAML file" class="img_E7b_"></p><p>Open the pipeline YAML file in your browser or locally in an editor to see its contents. It contains a single <code>AzureStaticWebApp</code> task that automatically builds and deploys the app.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="create-azure-pipelines-environments">Create Azure Pipelines environments<a class="hash-link" href="#create-azure-pipelines-environments" title="Direct link to heading">‚Äã</a></h2><p>Azure Pipelines allows you to define environments. Environments are useful for adding manual approvals to your pipeline.</p><p>We&#x27;ll create two environments ‚Äî Staging and Production. They&#x27;ll correspond to the two Azure Static Web Apps environments we&#x27;ll deploy to.</p><p>To create a Pipelines environment, select &quot;Environments&quot; under Pipelines.</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/3982077/168909775-61e3e243-c298-4fcf-a5ba-8af0a94a7a5d.png" alt="Open environments" class="img_E7b_"></p><p>Create one named &quot;Staging&quot;. Because you don&#x27;t need a manual approval for this stage, you don&#x27;t to configure anything else.</p><p>Next, create a new environment named &quot;Production&quot;. Because we want to require a manual approval before deploying to production, you can configure the environment to require a manual approval.</p><ol><li><p>In the environment&#x27;s &quot;Approvals and checks&quot;, select &quot;Approvals&quot;.</p></li><li><p>Add yourself as an approver and create the approval policy.</p></li></ol><p><img loading="lazy" src="https://user-images.githubusercontent.com/3982077/168910157-d32f767f-c608-4047-b0f5-66b7e4beb2f2.png" alt="Create an approval policy" class="img_E7b_"></p><p>The pipeline you&#x27;ll update later will reference these environments.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="protect-azure-static-web-apps-environments-with-a-password">Protect Azure Static Web Apps environments with a password<a class="hash-link" href="#protect-azure-static-web-apps-environments-with-a-password" title="Direct link to heading">‚Äã</a></h2><p>Azure Static Web Apps provides preview environments to let you test out your app before deploying to production.</p><p>Preview environments were intially available for pull requests in GitHub. Recently, Static Web Apps introduced the ability to arbitrary define <a href="https://docs.microsoft.com/azure/static-web-apps/named-environments" target="_blank" rel="noopener noreferrer">named preview environments</a>. For instance, we can create an environment named &quot;Staging&quot;.</p><p>Preview environments are public by default. This is great for open source projects, but sometimes we want to protect them from public access.</p><p>You can add password protection to your app&#x27;s preview environments.</p><ol><li><p>In the Azure portal, open your static web app.</p></li><li><p>In &quot;Configuration&quot;, select the &quot;General settings&quot; tab.</p></li><li><p>Select &quot;Protect staging environments only&quot; and enter a password.</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/3982077/168910485-02aacade-3961-41fd-aa9c-54cd14df5aab.png" alt="Protect staging environments only" class="img_E7b_"></p></li></ol><p>You also have the option to protect all environments. But in this app, we want the production environment to be accessible to the public.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="configure-the-multi-stage-pipeline">Configure the multi-stage pipeline<a class="hash-link" href="#configure-the-multi-stage-pipeline" title="Direct link to heading">‚Äã</a></h2><p>Now that we&#x27;ve configured the Azure Pipelines environments and password protection, we can configure the pipeline.</p><p>Open the pipeline YAML file in your browser or locally in an editor. Replace its contents the contents of <a href="https://github.com/anthonychu/swa-devops-pipeline-demo/blob/main/azure-pipelines.yml" target="_blank" rel="noopener noreferrer">this file</a>.</p><p>We&#x27;ll walk through the different parts of the pipeline. It has 3 main stages: build, deploy to staging, and deploy to production.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="stage-1-build-the-app">Stage 1: build the app<a class="hash-link" href="#stage-1-build-the-app" title="Direct link to heading">‚Äã</a></h3><div class="language-yaml codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-yaml codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">trigger</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">pool</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">vmImage</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ubuntu</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">stages</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">stage</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">jobs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">job</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">displayName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Build app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">steps</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">task</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> UseDotNet@2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">displayName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Install .NET SDK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">inputs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">packageType</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;sdk&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;6.0.x&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">script</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">        dotnet publish -c Release -o &quot;$(Build.ArtifactStagingDirectory)/frontend&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">displayName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Build Blazor frontend</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">workingDirectory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $(System.DefaultWorkingDirectory)/Client</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">script</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">        dotnet publish -c Release -o &quot;$(Build.ArtifactStagingDirectory)/api&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">displayName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Build Azure Functions API</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">workingDirectory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $(System.DefaultWorkingDirectory)/Api</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">script</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">        dotnet build -c Release -o &quot;$(Build.ArtifactStagingDirectory)/tests&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">displayName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Build Playwright tests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">workingDirectory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $(System.DefaultWorkingDirectory)/PlaywrightTests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">task</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> PublishBuildArtifacts@1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">displayName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Publish artifacts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">inputs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">PathtoPublish</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;$(Build.ArtifactStagingDirectory)&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">ArtifactName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;drop&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">publishLocation</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Container&#x27;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The pipeline triggers on any changes to the <code>main</code> branch. If your app uses a different branch, you can change it.</p><p>The pipeline then builds the app, Azure Functions API, and Playwright tests. It then outputs the artifacts. The same build artifacts are deployed to all environments. This ensures that the app you tested in other environments is the same one you&#x27;re deploying to production.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="stage-2-deploy-to-staging-and-run-playwright-tests">Stage 2: deploy to staging and run Playwright tests<a class="hash-link" href="#stage-2-deploy-to-staging-and-run-playwright-tests" title="Direct link to heading">‚Äã</a></h3><div class="language-yaml codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-yaml codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">stage</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> deploy_staging</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">displayName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deploy to staging</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">jobs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">deployment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> deploy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">displayName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deploy and test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Staging</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">variables</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># Change the variable group name to match the one in the generated pipeline</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">group</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Azure</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">Static</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">Web</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">Apps</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">calm</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">coast</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">0df39b910</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">variable</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">group</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">strategy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">runOnce</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">deploy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">steps</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">download</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> none</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">checkout</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> none</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">task</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> DownloadBuildArtifacts@1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">displayName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Download artifacts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">inputs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token key atrule" style="color:#00a4db">buildType</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> current</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token key atrule" style="color:#00a4db">downloadType</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> single</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token key atrule" style="color:#00a4db">artifactName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> drop</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token key atrule" style="color:#00a4db">downloadPath</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $(System.ArtifactsDirectory)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">task</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> AzureStaticWebApp@0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">displayName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deploy to staging environment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">inputs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token key atrule" style="color:#00a4db">app_location</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> frontend/wwwroot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token key atrule" style="color:#00a4db">api_location</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> api</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token key atrule" style="color:#00a4db">skip_app_build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token key atrule" style="color:#00a4db">skip_api_build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token key atrule" style="color:#00a4db">verbose</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token key atrule" style="color:#00a4db">azure_static_web_apps_api_token</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $(AZURE_STATIC_WEB_APPS_API_TOKEN_CALM_COAST_0DF39B910)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token key atrule" style="color:#00a4db">deployment_environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> staging</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token key atrule" style="color:#00a4db">workingDirectory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $(System.ArtifactsDirectory)/drop</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">task</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> UseDotNet@2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">displayName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Install .NET SDK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">inputs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token key atrule" style="color:#00a4db">packageType</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;sdk&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;6.0.x&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">script</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">                chmod -R a+x $(System.ArtifactsDirectory)/drop/tests</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">                sudo --preserve-env=PLAYWRIGHT_BROWSERS_PATH pwsh $(System.ArtifactsDirectory)/drop/tests/playwright.ps1 install --with-deps chromium</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">                dotnet test $(System.ArtifactsDirectory)/drop/tests/PlaywrightTests.dll --logger trx</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">displayName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Run Playwright tests on staging app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token key atrule" style="color:#00a4db">PLAYWRIGHT_BROWSERS_PATH</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $(Build.SourcesDirectory)/browsers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token key atrule" style="color:#00a4db">LOGIN_PASSWORD</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $(LOGIN_PASSWORD)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">task</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> PublishTestResults@2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">condition</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> succeededOrFailed()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">inputs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token key atrule" style="color:#00a4db">testRunner</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> VSTest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token key atrule" style="color:#00a4db">testResultsFiles</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;**/*.trx&#x27;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This is the most complex stage. Note that it references the &quot;Staging&quot; environment we created in the Azure Pipeline. It also references the variable group that was automatically generated when the static web app was first created. Change its name to match the variable group in the generated pipeline.</p><p>This stage starts by downloading the artifacts from the build stage.</p><p>Next, it uses the <code>AzureStaticWebApp</code> task to deploy the app to the staging environment.</p><ul><li><code>skip_app_build</code> and <code>skip_api_build</code> are set to <code>true</code> because the app and API artifacts were already built and don&#x27;t need to be built again.</li><li><code>deployment_environment</code> is set to <code>staging</code> because we want to deploy to the staging environment.</li></ul><p>After the app is deployed, the pipeline installs the .NET SDK and runs a script that installs the required dependencies for Playwright. Playwright is a testing framework that automates running tests in a browser.</p><p>After the dependencies are installed, the script runs the Playwright tests using the <code>dotnet test</code> command.</p><p>One thing to note is that we need to configure a secret variable named <code>LOGIN_PASSWORD</code>. This is the password that the user will enter when they log into the staging environment. The Playwright tests will use this password to log in when it runs tests on the staging environment.</p><p>The last step in the stage publishes the test results.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="stage-3-deploy-to-production">Stage 3: deploy to production<a class="hash-link" href="#stage-3-deploy-to-production" title="Direct link to heading">‚Äã</a></h3><div class="language-yaml codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-yaml codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">stage</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> deploy_production</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">displayName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deploy to production</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">jobs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">deployment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> deploy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">displayName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deploy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Production</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">variables</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Change the variable group name to match the one in the generated pipeline</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">group</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Azure</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">Static</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">Web</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">Apps</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">calm</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">coast</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">0df39b910</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">variable</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">group</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">strategy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">runOnce</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">deploy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">steps</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">download</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> none</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">checkout</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> none</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">task</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> DownloadBuildArtifacts@1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">displayName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Download artifacts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">inputs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">buildType</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> current</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">downloadType</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> single</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">artifactName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> drop</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">downloadPath</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $(System.ArtifactsDirectory)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">task</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> AzureStaticWebApp@0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">displayName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deploy to production environment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">inputs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">app_location</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> frontend/wwwroot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">api_location</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> api</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">skip_app_build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">skip_api_build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">verbose</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">azure_static_web_apps_api_token</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $(AZURE_STATIC_WEB_APPS_API_TOKEN_CALM_COAST_0DF39B910)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">workingDirectory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $(System.ArtifactsDirectory)/drop</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This stage references the &quot;Production&quot; environment in the Azure Pipeline. Because we configured this environment to require approval, this will trigger a manual approval step before this stage is run.</p><p>Like the previous stage, this stage downloads the artifacts and deploys them with the <code>AzureStaticWebApp</code> task. This time, no <code>deployment_environment</code> is set because we want to deploy to the production environment of the static web app.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="run-the-multi-stage-pipeline">Run the multi-stage pipeline<a class="hash-link" href="#run-the-multi-stage-pipeline" title="Direct link to heading">‚Äã</a></h2><p>Now that the pipeline is set up, you can run it by saving the file. If you edited it locally, don&#x27;t forget to push it to your Azure DevOps repo.</p><p>After the &quot;Deploy to staging&quot; stage is run, you should see that the Playwright tests have been run to validate the staging environment and the results are published.</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/3982077/168911185-3eea2e66-0aaf-4a86-af65-956618abc6d3.png" alt="Test results" class="img_E7b_"></p><p>The pipeline run is paused because the &quot;Deploy to production&quot; stage requires an approval. </p><p><img loading="lazy" src="https://user-images.githubusercontent.com/3982077/168912243-6450a5fa-6e95-4ac8-8f65-b1a7bc8d3e6b.png" alt="Approval step" class="img_E7b_"></p><p>When you approve the pipeline, the pipeline will run again.</p><p>After approval, the app is deployed to production.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="a-closer-look">A closer look<a class="hash-link" href="#a-closer-look" title="Direct link to heading">‚Äã</a></h2><p>Before we end this article, we want to dive a bit deeper into the Static Web Apps environments and the Playwright tests.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="azure-static-web-apps-environments">Azure Static Web Apps environments<a class="hash-link" href="#azure-static-web-apps-environments" title="Direct link to heading">‚Äã</a></h3><p>To see the environments you&#x27;ve created, click your static web app&#x27;s &quot;Environments&quot; tab in the Azure portal. You should see the production and staging environments.</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/3982077/168911293-571d1057-c36b-4ff2-88df-3cdf20154318.png" alt="Static Web Apps Environments" class="img_E7b_"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="playwright-tests">Playwright tests<a class="hash-link" href="#playwright-tests" title="Direct link to heading">‚Äã</a></h3><p>The Playwright tests are located in the <code>PlaywrightTests</code> project and they&#x27;re written in C#.</p><p><a href="https://playwright.dev" target="_blank" rel="noopener noreferrer">Playwright</a> can be used to automate testing of web apps using real browsers. The tests in the example use Chrome (Chromium), but Playwright also supports Firefox, WebKit, and Microsoft Edge.</p><p>This is an example of a Playwright test in C#. It navigates the browser to the app&#x27;s homepage, clicks on the &quot;Fetch data&quot; link, and confirms that the data is fetched from the backend API and it is rendered successfully.</p><div class="language-csharp codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-csharp codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">[Test]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public async Task ShouldLoadWeather()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    await using var browser = await Playwright.Chromium.LaunchAsync();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var page = await browser.NewPageAsync();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    await GoToHomePage(page);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    await page.ClickAsync(&quot;a[href=&#x27;fetchdata&#x27;]&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var h1 = await page.QuerySelectorAsync(&quot;div#app main h1&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var h1Text = h1 == null ? &quot;&quot; : await h1.TextContentAsync();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Assert.AreEqual(&quot;Weather forecast&quot;, h1Text);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var rowsSelector = &quot;div#app main table tbody tr&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // wait for table to have rows</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    await page.WaitForFunctionAsync($&quot;document.querySelectorAll(&#x27;{rowsSelector}&#x27;).length&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var rows = await page.QuerySelectorAllAsync(rowsSelector);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Assert.AreEqual(5, rows.Count);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The tests use the <code>AZURESTATICWEBAPP_STATIC_WEB_APP_URL</code> environment variable to determine the URL of the app to test. In an Azure Pipeline, this variable is set by the Azure Static Web Apps task after a successful deployment. Because the tests run in the pipeline after a deployment to the staging environment, the variable contains the URL of the staging Static Web Apps environment.</p><p>Another interesting aspect of the tests is the following code for navigating to the homepage:</p><div class="language-csharp codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-csharp codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">private async Task GoToHomePage(IPage page)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    await page.GotoAsync($&quot;{siteBaseUrl}/&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var homePageLocatorTask = page.Locator(&quot;text=Hello, world!&quot;).WaitForAsync();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var passwordPageLocatorTask = page.Locator(&quot;text=Password protected&quot;).WaitForAsync();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var isPasswordPage = (await Task.WhenAny(homePageLocatorTask, passwordPageLocatorTask)) == passwordPageLocatorTask;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (isPasswordPage)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.Console.WriteLine(&quot;Found password page, logging in...&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var passwordInput = await page.QuerySelectorAsync(&quot;input[type=password]&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (passwordInput == null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw new Exception(&quot;Could not find password input&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        await passwordInput.TypeAsync(sitePassword);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        await page.ClickAsync(&quot;button&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        await page.Locator(&quot;text=Hello, world!&quot;).WaitForAsync();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This code automatically logs in to the staging environment if the browser session is unauthenticated. At run-time, the <code>sitePassword</code> variable is set to the value of the <code>LOGIN_PASSWORD</code> secret variable.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="summary">Summary<a class="hash-link" href="#summary" title="Direct link to heading">‚Äã</a></h2><p>With the addition of features like named preview environments and automatic pipeline generation, it&#x27;s now possible to configure complex, robust pipelines for building and deploying to Azure Static Web Apps from Azure DevOps.</p><hr><h2 class="anchor anchorWithStickyNavbar_mojV" id="exercise">Exercise<a class="hash-link" href="#exercise" title="Direct link to heading">‚Äã</a></h2><p>The demo uses a .NET 6 full-stack application with a Blazor WebAssembly frontend, an Azure Functions backend, and integrated Playwright tests. </p><ul><li>Explore <a href="https://github.com/anthonychu/swa-devops-pipeline-demo" target="_blank" rel="noopener noreferrer">the source code here</a>.</li><li>Import the repository into your Azure DevOps project and follow the tutorial.</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="resources">Resources<a class="hash-link" href="#resources" title="Direct link to heading">‚Äã</a></h2><ul><li><a href="https://youtu.be/4JkfeZp7aDk" target="_blank" rel="noopener noreferrer">Video</a>: Multi-environment deployments with Azure DevOps &amp; SWA</li><li><a href="https://github.com/anthonychu/swa-devops-pipeline-demo" target="_blank" rel="noopener noreferrer">Repo</a> with source code for demo</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>Tags:</b><ul class="tags_XVD_ padding--none margin-left--sm"><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/swa">swa</a></li><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/30-days">30days</a></li><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/dev-tools">dev-tools</a></li></ul></div><div class="col text--right col--3"><a aria-label="Read more about #17: Multi-Stage Deploy with ADO" href="/blog/devtools-ado"><b>Read More</b></a></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_rzP5" itemprop="headline"><a itemprop="url" href="/blog/devtools-playwright">#16: Test Automation with Playwright</a></h2><div class="blogPostData_Zg1s margin-vert--md"><time datetime="2022-05-17T00:00:00.000Z" itemprop="datePublished">May 17, 2022</time> ¬∑ <!-- -->7 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><a href="https://twitter.com/nitya" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/nitya.png" alt="Nitya Narasimhan"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/nitya" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Nitya Narasimhan</span></a></div><small class="avatar__subtitle" itemprop="description">Senior Cloud Advocate @Microsoft</small></div></div></div><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><a href="https://twitter.com/debs-obrien" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/debs-obrien.png" alt="Debbie O&#x27;Brien"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/debs-obrien" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Debbie O&#x27;Brien</span></a></div><small class="avatar__subtitle" itemprop="description">Senior PM @Microsoft @Playwright</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Welcome to <code>Week 3, Day 2</code> of <strong>#30DaysOfSWA</strong>!! </p><p>Yesterday we kicked off &quot;Developer Tools&quot; week by talking about the end-to-end developer experience associated with building modern web applications. Today we focus on a key segment - <strong>testing</strong>. Let&#x27;s look at what test automation means for modern web applications, and how <a href="https://www.playwright.dev" target="_blank" rel="noopener noreferrer">Playwright</a> can help you automate end-to-end testing of your Azure Static Web App.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="what-well-cover">What We&#x27;ll Cover<a class="hash-link" href="#what-well-cover" title="Direct link to heading">‚Äã</a></h2><ul><li>Test Automation for Modern Web Apps</li><li>What is Playwright?</li><li>Get Started With Playwright</li><li>Explore Playwright Tools</li><li>Use Playwright with SWA</li><li><strong>Exercise</strong>: Try the Tutorial with <strong>your</strong> deployed app.</li></ul><p><img loading="lazy" src="/assets/images/16-banner-4b5207bc5611f5472bf29b8cca5a60af.png" width="1000" height="420" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="test-automation">Test Automation<a class="hash-link" href="#test-automation" title="Direct link to heading">‚Äã</a></h2><p>Modern mobile web applications have to work correctly and consistently across all modern browsers (like Chromium, Firefox or WebKit) and the device platforms they run on (with varying screen sizes, orientations). Testing your application UI/UX <strong>manually</strong> becomes difficult when we think about the granularity of tests across these combinations. Testing manually becomes impossible when we factor in the frequency at which testing needs to be done to validate these on every code commit or pull request. This is where test automation shines!</p><p>Test Automation is about executing tests <strong>automatically</strong> to validate software specs, then using the reported insights to improve software quality iteratively. For web apps, this requires tools that can <em>automate test actions in the browser</em> (web automation) and support this consistently <em>across browsers</em>. <strong><a href="https://www.playwright.dev" target="_blank" rel="noopener noreferrer">This is where Playwright shines!</a></strong></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="playwright-overview">Playwright Overview<a class="hash-link" href="#playwright-overview" title="Direct link to heading">‚Äã</a></h2><p>Playwright is an open-source framework for <strong>reliable</strong> end-to-end testing of modern web apps. It features a built-in <a href="https://playwright.dev/docs/1.21/intro" target="_blank" rel="noopener noreferrer">Playwright Test Runner</a> for automating test execution, and supports a <a href="https://playwright.dev/docs/1.21/library" target="_blank" rel="noopener noreferrer">Playwright Library</a> to simplify integration into third-party solutions.</p><p><img loading="lazy" alt="Visual Guide to Playwright" src="/assets/images/16-playwright-564feddda5d05dfe978b479e64bed2f2.jpg" width="3840" height="2160" class="img_E7b_"></p><p>This visual guide shows the key features of the framework (<a href="https://github.com/SketchTheDocs/cloud-skills/blob/main/gallery/Playwright-03-Overview.png" target="_blank" rel="noopener noreferrer">downloadable hi-res version here</a>) with these useful features:</p><ul><li><strong>Unified API</strong> - you write tests once, they run on all browsers and devices.</li><li><strong>Mobile Web Testing</strong> - rich set of device profiles, usable with native emulators.</li><li><strong>Multi-Language Support</strong> -  write tests in Java, JS/TS, Python or C#.</li><li><strong>Reliable Testing</strong> - no flaky tests thanks to auto-waiting and web-first assertions</li><li><strong>Powerful Tooling</strong> - get help authoring, debugging, profiling, and reporting, tests.</li><li><strong>Full Isolation</strong> - browser contexts (in just ms), options to parallelize tests</li></ul><p>Check out the Playwright <a href="https://playwright.dev/docs/1.21/intro" target="_blank" rel="noopener noreferrer">documentation</a> and <a href="https://playwright.dev/docs/1.21/api/class-playwright" target="_blank" rel="noopener noreferrer">API</a> for more details. </p><p><strong>What kinds of things can we test with Playwright?</strong> </p><ul><li>Test if UI component behaviors work as expected (events)</li><li>Test if UI workflows are correct (navigation, inputs)</li><li>Test UX behaviors in different contexts (with fixtures)</li><li>Modify network traffic (auth, proxy etc.) for testing</li><li>Validate behaviors under network conditions (modified)</li><li>Validate behaviors for device contexts (emulated profiles)</li><li>Automate capture of evidence (videos, screenshots) in tests</li></ul><p>Explore the <strong><a href="https://playwright.dev/docs/1.21/library" target="_blank" rel="noopener noreferrer">Guides</a></strong> and <strong><a href="https://github.com/MarcusFelling/Demo.Playwright#run-playwright-example-tests" target="_blank" rel="noopener noreferrer">Demo.Playwright</a></strong> for usage examples. And check out <strong><a href="https://dev.to/debs_obrien/series/17445" target="_blank" rel="noopener noreferrer">Debbie&#x27;s playwright-testing</a></strong> series for more examples of Playwright in action.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="playwright-quickstart">Playwright Quickstart<a class="hash-link" href="#playwright-quickstart" title="Direct link to heading">‚Äã</a></h2><p>It&#x27;s time to get some hands-on experience with Playwright. Check out the <a href="https://playwright.dev/docs/1.21/intro" target="_blank" rel="noopener noreferrer">Getting Started</a> guide on their site for reference. </p><p>However, we&#x27;d like to walkthrough it with a real-world example in mind and figure out how to go from the boilerplate setup to the start of a basic script and configuration that sets us up to do more for testing our Azure Static App.</p><p><strong>#30DaysOfSWA Website Example: Step-by-Step Tutorial</strong>: </p><p>Check out <a href="https://github.com/fearlessly-dev/30daysofSWA-testing" target="_blank" rel="noopener noreferrer">this repository</a> that I setup today, to use the quickstart guide as a basis for setting up end-to-end testing for the <a href="https://aka.ms/30DaysOfSWA" target="_blank" rel="noopener noreferrer">#30DaysOfSWA</a> website! The <a href="https://github.com/fearlessly-dev/30daysofSWA-testing" target="_blank" rel="noopener noreferrer">README</a> documents the following steps in detail:</p><ul><li><a href="https://github.com/fearlessly-dev/30daysofSWA-testing#2-where-should-my-tests-be" target="_blank" rel="noopener noreferrer">Setup Testing Repo</a></li><li><a href="https://github.com/fearlessly-dev/30daysofSWA-testing#3-how-do-i-install-playwright" target="_blank" rel="noopener noreferrer">Install Playwright</a></li><li><a href="https://github.com/fearlessly-dev/30daysofSWA-testing#4-what-did-the-installation-do" target="_blank" rel="noopener noreferrer">Explore Boilerplate (setup)</a></li><li><a href="https://github.com/fearlessly-dev/30daysofSWA-testing#5-what-can-i-do-with-this" target="_blank" rel="noopener noreferrer">Run Default Test</a></li><li><a href="https://github.com/fearlessly-dev/30daysofSWA-testing#6-what-does-the-report-show" target="_blank" rel="noopener noreferrer">View Generated Test Report</a></li><li><a href="https://github.com/fearlessly-dev/30daysofSWA-testing#7-what-about-those-github-actions" target="_blank" rel="noopener noreferrer">Automate Tests with GitHub Actions</a></li><li><a href="https://github.com/fearlessly-dev/30daysofSWA-testing#8-viewing-actions-generated-reports" target="_blank" rel="noopener noreferrer">View Actions-Generated Report Assets</a></li><li><a href="https://github.com/fearlessly-dev/30daysofSWA-testing/blob/main/README.md#9-lets-customize-the-script" target="_blank" rel="noopener noreferrer">Customize Default Script/Config for <em>My</em> App</a></li><li><a href="https://github.com/fearlessly-dev/30daysofSWA-testing/blob/main/README.md#the-joys-of-trace-logs" target="_blank" rel="noopener noreferrer">The Joy Of Trace Logs!!</a></li><li><strong>You Did It!</strong></li></ul><p>By the end of this tutorial you should have:</p><ul><li>A starter test script customized for <strong>your</strong> application</li><li>A test configuration file <strong>with tracing on</strong> to capture detailed profiling data</li><li>A GitHub Actions workflow that <strong>automates test runs</strong> with each codebase change.</li></ul><p><img loading="lazy" src="https://github.com/fearlessly-dev/30daysofSWA-testing/raw/main/my-report-detail.png" alt="Test Run Report" class="img_E7b_"></p><p>At this point, you are now ready to build on this:</p><ul><li>add more tests to your <code>example.spec.js</code> file =&gt; <strong>see: <a href="https://playwright.dev/docs/test-annotations" target="_blank" rel="noopener noreferrer">Playwright Test API</a></strong></li><li>configure your test run in <code>playwright.config.js</code>. =&gt; <strong>see:<a href="https://playwright.dev/docs/test-configuration" target="_blank" rel="noopener noreferrer">Configuration Object</a></strong></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="playwright-tooling">Playwright Tooling<a class="hash-link" href="#playwright-tooling" title="Direct link to heading">‚Äã</a></h2><p>In the tutorial above, we mentioned some Playwright tools (CLI, TraceViewer, HTML Reporter, Codegen) in passing. Playwright has a really powerful set of tools that can streamline your end-to-end testing experience from <em>authoring</em> to <em>reporting</em>. </p><p><strong>Start by familiarizing yourself with the <a href="https://playwright.dev/docs/cli" target="_blank" rel="noopener noreferrer">Playwright CLI</a></strong>. </p><p>It&#x27;s the main launching pad for all other command-line utilities. Using the CLI you can navigate to pages (<em>&quot;open&quot;</em>), install browser dependencies (<em>&quot;install&quot;</em>), take screenshots (<em> &quot;screenshot&quot;</em>), launch the test runner (<em>&quot;test&quot;</em>), author tests (<em>&quot;codegen&quot;</em>), view traces (<em>&quot;show-trace&quot;</em>) and more. </p><p>Launch the CLI as follows:</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">npx playwright &lt;command&gt; [options]</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Use <code>npx playwright --help</code> for details on commands and options supported in your installed CLI version. Want a deeper dive?</p><ul><li>Check out Nitya&#x27;s <strong><a href="https://dev.to/azure/005-tool-talk-hello-command-line-faj" target="_blank" rel="noopener noreferrer">Tool Talk Post</a></strong> for detailed coverage.</li><li>Download this handy <strong><a href="https://cloud-skills.dev/gallery/Playwright-01-CommandLine.png" target="_blank" rel="noopener noreferrer">hi-res visual guide</a></strong> as a cheatsheet</li></ul><p><strong>Usage Example</strong>: </p><p>Let&#x27;s use the <code>screenshot</code> command to capture an image of the kickoff post from the #30DaysOfSWA website for an &quot;iPhone 6&quot; device profile. You can see the <a href="https://github.com/microsoft/playwright/blob/f1307f4a4d92490d7d0e7ee5a6a7fe9a22804e86/packages/playwright-core/src/server/deviceDescriptorsSource.json" target="_blank" rel="noopener noreferrer">named device profiles</a> currently supported for reference.</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">npx playwright screenshot --device &quot;iPhone 6&quot; https://www.azurestaticwebapps.dev/blog/kickoff 30Days.png</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Navigating to https://www.azurestaticwebapps.dev/blog/kickoff</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Capturing screenshot into 30Days.png</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><table><thead><tr><th align="left"><strong>Result:</strong> This is what the saved image looks like.</th></tr></thead><tbody><tr><td align="left"><img loading="lazy" alt="Screenshot" src="/assets/images/30Days-35c58c6fb6d68f4828961abf4865a1b9.png" width="750" height="1334" class="img_E7b_"></td></tr></tbody></table><p><strong>Then start exploring these tools</strong>: </p><ul><li><a href="https://playwright.dev/docs/inspector" target="_blank" rel="noopener noreferrer">Inspector</a> - a GUI-based tool for debugging test execution</li><li><a href="https://playwright.dev/docs/trace-viewer" target="_blank" rel="noopener noreferrer">TraceViewer</a> - a GUI-based tool to explore recorded test traces</li><li><a href="https://playwright.dev/docs/codegen" target="_blank" rel="noopener noreferrer">Codegen</a> - an authoring tool to generate tests based on user interactions</li><li><a href="https://playwright.dev/docs/debug" target="_blank" rel="noopener noreferrer">Debugging</a> - additional tools to support runtime debugging</li><li><a href="https://playwright.dev/docs/test-reporters" target="_blank" rel="noopener noreferrer">Reporters</a> - built-in reporters of different types</li></ul><hr><h2 class="anchor anchorWithStickyNavbar_mojV" id="whats-next">What&#x27;s Next<a class="hash-link" href="#whats-next" title="Direct link to heading">‚Äã</a></h2><p>We covered a lot today. </p><p>At this point, you should know what Playwright its, and why it&#x27;s useful for automating tests for  modern web applications. You should have a sense of the powerful developer tools it has, and understand how to setup and configure it for use with your Azure Static Web App. And you should have a clean basis for building up your test suite.</p><p>So where can we go next to skill up? We have you covered:</p><ul><li><p><strong><a href="https://github.com/fearlessly-dev/30daysofSWA-testing" target="_blank" rel="noopener noreferrer">Watch this repository</a></strong> I setup today. I hope to continue adding more tests that can walk through various Playwright features with a deployed SWA,, and use that to explore both the Playwright capabilities and SWA-specific features or usage.</p></li><li><p><strong>Join us tomorrow</strong> when we explore a &quot;Multi-Stage Deployment with Azure DevOps&quot; demo that shows you a full-stack application with Playwright tests integrated. Learn interesting aspects - like using SWA environment variables to define test parameters - that highlight best practices for test setup in SWA.</p></li><li><p><strong>Last but not least</strong>, check out this talk from last year for more insights into End-to-End Testing for Playwright from the Azure Static Web Apps Team.</p><iframe width="560" height="315" frameborder="0" src="https://aka.ms/docs/player?ev=learn-tv-static-web-apps-code-to-scale&amp;session=end-to-end-testing-with-playwright"></iframe></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="exercise">Exercise<a class="hash-link" href="#exercise" title="Direct link to heading">‚Äã</a></h2><p>Pick one of the apps you&#x27;ve built (or use) - preferably one that is currently deployed to Azure Static Web Apps so you can explore other scenarios later.</p><p><a href="https://github.com/fearlessly-dev/30daysofSWA-testing" target="_blank" rel="noopener noreferrer">Walk through the same steps</a> with <strong>your</strong> deployed app - then try adding one new test script that goes beyond the starter test case. Look at the <a href="https://github.com/MarcusFelling/Demo.Playwright" target="_blank" rel="noopener noreferrer">demo</a> project for inspiration!</p></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>Tags:</b><ul class="tags_XVD_ padding--none margin-left--sm"><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/swa">swa</a></li><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/30-days">30days</a></li><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/dev-tools">dev-tools</a></li><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/playwright">playwright</a></li></ul></div><div class="col text--right col--3"><a aria-label="Read more about #16: Test Automation with Playwright" href="/blog/devtools-playwright"><b>Read More</b></a></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_rzP5" itemprop="headline"><a itemprop="url" href="/blog/devtools-azure">#15: Develop with Azure Tools</a></h2><div class="blogPostData_Zg1s margin-vert--md"><time datetime="2022-05-16T00:00:00.000Z" itemprop="datePublished">May 16, 2022</time> ¬∑ <!-- -->8 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><a href="https://twitter.com/nitya" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/nitya.png" alt="Nitya Narasimhan"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/nitya" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Nitya Narasimhan</span></a></div><small class="avatar__subtitle" itemprop="description">Senior Cloud Advocate @Microsoft</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Welcome to <code>Week 3, Day 1</code> of <strong>#30DaysOfSWA</strong>!! </p><p>We just crossed the halfway mark on #30DaysOfSWA! We covered core concepts in Week 1, and explored usage examples in Week 2. Today we kick off week 3 with a focus on <strong><em>Developer Tools</em>!</strong> Let&#x27;s dive in!</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="what-well-cover">What We&#x27;ll Cover<a class="hash-link" href="#what-well-cover" title="Direct link to heading">‚Äã</a></h2><ul><li>What does the Developer Experience look like?</li><li>Explore: Azure CLI</li><li>Explore: Azure Portal</li><li>Explore: Azure Core Functions Tools</li><li><strong>Exercise:</strong> Explore Azure Portal &amp; CLI docs for SWA.</li></ul><p><img loading="lazy" src="/assets/images/15-banner-c7b1865240e4a1582235f3859f025ac5.png" width="1000" height="420" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="dev-experience">Dev Experience<a class="hash-link" href="#dev-experience" title="Direct link to heading">‚Äã</a></h2><p>When we think about building a modern web application, we&#x27;re also thinking about our <em>developer experience</em>. By <a href="https://microsoft.github.io/code-with-engineering-playbook/developer-experience/#defining-end-to-end" target="_blank" rel="noopener noreferrer">one definition</a>, developer experience refers to how easy or difficult it is for us, as developers, to perform the required tasks to implement the desired outcome. </p><p>In the case of application development, the tasks often involve:</p><ul><li><strong>Building</strong> the project from source (after creating the codebase)</li><li><strong>Testing</strong> project behaviors (to validate compliance with requirements)</li><li><strong>Deploying</strong> the project (to staging or production environments)</li><li><strong>Debugging</strong> the project (to fix issues, audit performance etc.)</li></ul><p>Having the right <strong>developer tools</strong> can make all the difference between a productive developer workflow and a painful one. This week, we&#x27;ll look at the many tools and services available, that make the Azure Static Web Apps Developer Experience more seamless.</p><ul><li><strong>Azure Dev Tools |</strong> What are the core tools for working with Azure?</li><li><strong>Playwright |</strong> How can we implement end-to-end testing for our app?</li><li><strong>CI/CD|</strong> How can we automate build/deploy workflows?</li><li><strong>Edge DevTools</strong> How can we debug and profile apps in the browser?</li><li><strong>SWA CLI</strong> How can we simplify local development for static web apps?</li><li><strong>Visual Studio Code</strong> How can we supercharge our IDE-driven experience?</li></ul><p>In today&#x27;s post we&#x27;ll look at the main tools that make it easy for modern web application developers to build static web apps on Azure:</p><ul><li><a href="https://docs.microsoft.com/en-us/cli/azure/" target="_blank" rel="noopener noreferrer">Azure CLI</a> - a command-line interface to create and manage Azure resources</li><li><a href="https://docs.microsoft.com/en-us/azure/azure-portal/" target="_blank" rel="noopener noreferrer">Azure Portal</a> - a web-based unified console alternative to the Azure CLI.</li><li><a href="https://github.com/Azure/static-web-apps-cli" target="_blank" rel="noopener noreferrer">Azure SWA CLI</a> - a <em>local development tool</em> for Azure Static Web Apps</li><li><a href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-run-local" target="_blank" rel="noopener noreferrer">Azure Functions Core Tools</a> - a <em>local development tool</em> for Azure Functions.</li><li><a href="https://code.visualstudio.com/docs/azure/extensions" target="_blank" rel="noopener noreferrer">Azure Extensions for Visual Studio Code</a> for seamless access from IDE.</li></ul><p>We&#x27;ll coverAzure SWA CLI and VS Code extensions in greater detail later this week. </p><h2 class="anchor anchorWithStickyNavbar_mojV" id="new-to-azure">New to Azure?<a class="hash-link" href="#new-to-azure" title="Direct link to heading">‚Äã</a></h2><p>We assume you are familiar with cloud computing concepts like resources, resource groups, subscriptions and services. If not, that&#x27;s okay. Now&#x27;s a good time to take a detour and explore <strong><a href="https://docs.microsoft.com/en-us/learn/paths/az-900-describe-cloud-concepts/" target="_blank" rel="noopener noreferrer">Azure Fundamentals</a></strong> - a 6-part learning series that will take you through the core concepts, services, solutions, security features, identity &amp; governance aspects, and cost management features available on Azure. </p><p>If you&#x27;re a JavaScript or Node.js developer new to Azure, bookmark these links:</p><ul><li><a href="https://azure.github.io/azure-sdk/releases/latest/js.html" target="_blank" rel="noopener noreferrer">Azure SDKs</a> for service integrations in your preferred programming language.</li><li><a href="https://docs.microsoft.com/en-us/azure/developer/javascript/" target="_blank" rel="noopener noreferrer">Azure for JavaScript Developers</a> for guides and samples</li><li><a href="https://docs.microsoft.com/en-us/azure/developer/javascript/node-azure-tools" target="_blank" rel="noopener noreferrer">Tools for JS Developers on Azure</a> with <a href="https://docs.microsoft.com/en-us/azure/developer/javascript/core/configure-local-development-environment?tabs=bash" target="_blank" rel="noopener noreferrer">configuration tips</a></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="azure-cli">Azure CLI<a class="hash-link" href="#azure-cli" title="Direct link to heading">‚Äã</a></h2><p>Now that you&#x27;re familiar with core Azure concepts, let&#x27;s talk about how you can <em>create and manage</em> your cloud resources on Azure. The <strong><a href="https://docs.microsoft.com/en-us/cli/azure/what-is-azure-cli" target="_blank" rel="noopener noreferrer">Azure CLI</a></strong> is a <em>cross-platform</em> command-line tool that connects you securely to Azure, to execute commands on Azure resources interactively (or via scripts) from a terminal.</p><p>The easiest way to familiarize yourself with the Azure CLI commands is to <a href="https://docs.microsoft.com/en-us/cli/azure/get-started-with-azure-cli#install-or-run-in-azure-cloud-shell" target="_blank" rel="noopener noreferrer">install and run it in Azure Cloud Shell</a> <strong>in your browser</strong> - no local installation needed. Follow <a href="https://docs.microsoft.com/en-us/cli/azure/install-azure-cli" target="_blank" rel="noopener noreferrer">these instructions</a> to then install it locally in your development environment. Validate your install by testing out the core <code>az</code> command.</p><div class="language-bash codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-bash codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">az --version</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>There Azure CLI can manage most Azure Services out of the box. Here is <strong><a href="https://docs.microsoft.com/en-us/cli/azure/azure-services-the-azure-cli-can-manage" target="_blank" rel="noopener noreferrer">list of supportred services</a></strong> along with links to quickstart documentation for each. As web developers, you may find the <strong><a href="https://docs.microsoft.com/en-us/cli/azure/azure-services-the-azure-cli-can-manage#web" target="_blank" rel="noopener noreferrer">web-related subset of services</a></strong> worth exploring - everything from App Service and API Management, to Azure Static Web Apps.</p><p>Use the following command to get interactive help with supported commands and options in this context.</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">az staticwebapp --help</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>With the CLI you can manage app settings, create and delete static apps, manage the static app&#x27;s environment and associated functions, oversee information related to identity, users and secrets associated with the app, and more.</p><ul><li>Explore the <strong><a href="https://docs.microsoft.com/en-us/cli/azure/staticwebapp?view=azure-cli-latest" target="_blank" rel="noopener noreferrer">az staticwebapp</a></strong> reference to learn relevant commands and options.</li><li>Then <strong><a href="https://docs.microsoft.com/en-us/azure/static-web-apps/get-started-cli?tabs=vanilla-javascript" target="_blank" rel="noopener noreferrer">build your first static web app</a></strong> using the Azure CLI.</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="azure-portal">Azure Portal<a class="hash-link" href="#azure-portal" title="Direct link to heading">‚Äã</a></h2><p>If you prefer a unified web-based console for managing your Azure resource interactions, the <a href="https://docs.microsoft.com/en-us/azure/azure-portal/" target="_blank" rel="noopener noreferrer">Azure Portal</a> provides a <strong>graphical user interface alternative to the Azure CLI</strong>. The portal is designed for <em>continuous availability</em>. Here&#x27;s a snapshot of what the Azure Portal layout looks like. Browse the following documents to get a deeper dive into its capabilities:</p><ul><li>Understand the <a href="https://docs.microsoft.com/en-us/azure/azure-portal/azure-portal-overview#getting-around-the-portal" target="_blank" rel="noopener noreferrer">components of the Azure Portal</a> in this document.</li><li>Then learn to <a href="https://docs.microsoft.com/en-us/learn/modules/tour-azure-portal/3-navigate-the-portal" target="_blank" rel="noopener noreferrer">navigate the portal</a> in this tutorial.</li><li>Or follow the <a href="https://docs.microsoft.com/en-us/azure/azure-portal/azure-portal-quickstart-center" target="_blank" rel="noopener noreferrer">Azure Quickstart Center</a> guided tour.</li></ul><p>Then, try to  <strong><a href="https://docs.microsoft.com/en-us/azure/static-web-apps/get-started-portal?tabs=vanilla-javascript" target="_blank" rel="noopener noreferrer">build your first static web app</a></strong> using the Azure Portal to get hands-on experience with the developer workflow from creation to deployment.</p><p><img loading="lazy" src="https://docs.microsoft.com/en-us/learn/modules/tour-azure-portal/media/3-portal.png" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="functions-core-tools">Functions Core Tools<a class="hash-link" href="#functions-core-tools" title="Direct link to heading">‚Äã</a></h2><p>Azure Static Web Apps uses <a href="https://docs.microsoft.com/en-us/azure/azure-functions/" target="_blank" rel="noopener noreferrer">Azure Functions</a> to support serverless API capability for the app. Learn more about this in our earlier post on <a href="/blog/api-enabling-swa">API-enabling SWA</a> where we talked about  <em>Managed Functions</em> (created and managed by Azure Static Web Apps) and <em>Bring Your Own Functions</em> (independently created and managed) options for adding serverless API support to your static web application.</p><p>The <a href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-run-local?tabs=v4%2Cmacos%2Ccsharp%2Cportal%2Cbash#install-the-azure-functions-core-tools" target="_blank" rel="noopener noreferrer">Azure Functions Core Tools</a> - aka <code>func</code> - supports <strong>local development</strong> with a command-line tool to create, test, and even deploy, your functions to Azure. Once installed, use the following to get interactive help with the supported commands and options for this tool:</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">func --help</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You should see something like this <strong>(some output abbreviated for clarity)</strong> giving you a sense of the main operations you can perform from this CLI.</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">Azure Functions Core Tools</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Core Tools Version:       4.0.3971 ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Function Runtime Version: 4.0.1.16815</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Usage: func [context] [context] &lt;action&gt; [-/--options]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Contexts:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">azure       Commands to log in to Azure and manage resources</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">durable     Commands for working with Durable Functions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">extensions  Commands for installing extensions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function    Commands for creating and running functions locally</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">host        Commands for running the Functions host locally</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubernetes  Commands for working with Kubernetes and Azure Functions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">settings    Commands for managing environment settings for the local Functions host</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">templates   Commands for listing available function templates</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Actions: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">start   Launches the functions runtime host  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --port [-p]     Local port to listen on. </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    Default: 7071</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">..</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">..</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Explore the documentation to learn how you can:</p><ul><li><a href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-run-local" target="_blank" rel="noopener noreferrer">Install the Azure Functions Core Tools</a></li><li><a href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-run-local?tabs=v4%2Cmacos%2Ccsharp%2Cportal%2Cbash#create-a-local-functions-project" target="_blank" rel="noopener noreferrer">Create a local Functions project</a></li><li><a href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-run-local?tabs=v4%2Cmacos%2Ccsharp%2Cportal%2Cbash#start" target="_blank" rel="noopener noreferrer">Run and test Functions locally</a></li><li><a href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-run-local?tabs=v4%2Cmacos%2Ccsharp%2Cportal%2Cbash#publish" target="_blank" rel="noopener noreferrer">Publish Functions to Azure</a></li></ul><p>Later this week, we&#x27;ll do a deep-dive into the <strong><a href="https://github.com/Azure/static-web-apps-cli" target="_blank" rel="noopener noreferrer">Azure Static Web Apps CLI</a></strong> - a local development commandline tool for Azure Static Web Apps, that works seamlessly with the Azure Functions Core Tool, to deliver an unified developer experience for creating and testing your API-enabled Static Web Apps projects.</p><p>The combination of <strong>Azure CLI</strong> (to manage Azure resources from command line), <strong>Azure Functions Core Tools</strong> (to manage Azure Functions local development and deploy) and <strong>Azure Static Web Apps CLI</strong> (to manage SWA local development and deploy) provides a seamless command-line driven developer experience for web developers on Azure.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="azure-extensions">Azure Extensions<a class="hash-link" href="#azure-extensions" title="Direct link to heading">‚Äã</a></h2><p>But what if you prefer an IDE-based approach? Visual Studio Code has you covered. In a post Later this week, we&#x27;ll look in depth at the key Visual Studio Code Extensions you can use, to supercharge your developer experience from code to cloud, right inside the IDE. For now, I&#x27;ll leave you with these resources:</p><ul><li>Read the <a href="https://code.visualstudio.com/docs/azure/extensions" target="_blank" rel="noopener noreferrer">Azure Extensions</a> documentation to learn how to find, and install, relevant extensions in VS Code.</li><li>Explore the <a href="https://code.visualstudio.com/docs/azure/deployment" target="_blank" rel="noopener noreferrer">Deploying Applications To Azure</a> page for hands-on tutorials for VS Code - including one for <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/getting-started?tabs=vanilla-javascript" target="_blank" rel="noopener noreferrer">Azure Static Web Apps</a> and one for <a href="https://docs.microsoft.com/azure/javascript/tutorial-vscode-serverless-node-01" target="_blank" rel="noopener noreferrer">Azure Functions</a></li><li>Search the <a href="https://marketplace.visualstudio.com/search?term=Microsoft&amp;target=VSCode&amp;category=Azure&amp;sortBy=Relevance" target="_blank" rel="noopener noreferrer">VS Code Marketplace</a> for relevant extensions from both Microsoft and the broader developer community.</li></ul><p>Here is a snapshot of extensions currently published by <strong>Microsoft</strong> in the <strong>Azure</strong> category, sorted by <strong>Trending</strong> metrics. You can see the <a href="https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-azurestaticwebapps" target="_blank" rel="noopener noreferrer">Azure Static Web Apps Extension</a> listed here -- we&#x27;ll cover that in more detail in the final post of this week!</p><p><img loading="lazy" src="/assets/images/15-extensions-a89bcb9f9f2882e54a019d3219040785.png" width="1224" height="1014" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="exercise">Exercise<a class="hash-link" href="#exercise" title="Direct link to heading">‚Äã</a></h2><p>Wow - we covered a lot today!! But don&#x27;t worry about having to remember all of it. The goal was to raise awareness of <em>which</em> tool to use, <em>when</em>, and <em>why</em>. Your exercise today:</p><ul><li><p>pick either <strong>Azure Portal</strong> or <strong>Azure CLI</strong> documentation for Azure Static Web Apps, and familiarize yourself with the many commands, settings and options available. </p></li><li><p>Try the default quickstart for that option - then explore other commands with the deployed Static Web App to get a real sense of how this works.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="resources">Resources<a class="hash-link" href="#resources" title="Direct link to heading">‚Äã</a></h2><ul><li><a href="https://docs.microsoft.com/en-us/cli/azure/" target="_blank" rel="noopener noreferrer">Azure CLI</a> documentation - with <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/get-started-cli?tabs=vanilla-javascript" target="_blank" rel="noopener noreferrer">Static Web Apps Quickstart</a></li><li><a href="https://docs.microsoft.com/en-us/azure/azure-portal/" target="_blank" rel="noopener noreferrer">Azure Portal</a> documentation - with <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/get-started-portal?tabs=vanilla-javascript" target="_blank" rel="noopener noreferrer">Static Web Apps Quickstart</a></li><li><a href="https://github.com/Azure/static-web-apps-cli" target="_blank" rel="noopener noreferrer">Azure SWA CLI</a> documentation</li><li><a href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-run-local" target="_blank" rel="noopener noreferrer">Azure Functions Core Tools</a> documentation</li><li><a href="https://azure.github.io/azure-sdk/releases/latest/js.html" target="_blank" rel="noopener noreferrer">Azure SDKs</a> for JavaScript and other languages</li><li><a href="https://code.visualstudio.com/docs/azure/extensions" target="_blank" rel="noopener noreferrer">Azure Extensions for Visual Studio Code</a></li></ul></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>Tags:</b><ul class="tags_XVD_ padding--none margin-left--sm"><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/swa">swa</a></li><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/30-days">30days</a></li><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/dev-tools">dev-tools</a></li></ul></div><div class="col text--right col--3"><a aria-label="Read more about #15: Develop with Azure Tools" href="/blog/devtools-azure"><b>Read More</b></a></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_rzP5" itemprop="headline"><a itemprop="url" href="/blog/show-and-tell">#14: Show &amp; Tell: A SWArm Of Apps</a></h2><div class="blogPostData_Zg1s margin-vert--md"><time datetime="2022-05-15T00:00:00.000Z" itemprop="datePublished">May 15, 2022</time> ¬∑ <!-- -->7 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><a href="https://twitter.com/nitya" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/nitya.png" alt="Nitya Narasimhan"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/nitya" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Nitya Narasimhan</span></a></div><small class="avatar__subtitle" itemprop="description">Senior Cloud Advocate @Microsoft</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Welcome to <code>Week 2, Day 7</code> of <strong>#30DaysOfSWA</strong>!! </p><p>We made it to the end of Week 2!! <strong>Let&#x27;s give ourselves a round of applause!</strong></p><p>In the last week we walked through a subset of usage examples featuring diverse applications, static site generators and front-end frameworks. And that&#x27;s still just a small slice of what is possible. So how do you make this journey more actionable and <em>learn by doing</em>?</p><p>That&#x27;s what I&#x27;ll try to answer in today&#x27;s post. Also <strong>bookmark this one</strong> because we will revisit it at the end of next week (&quot;Dev Tools&quot;) and try to replicate some of these tutorials using the more streamlined experience provided by the <a href="https://aka.ms/swa-cli" target="_blank" rel="noopener noreferrer"><strong>Azure Static Web Apps CLI</strong></a> (a command-line tool for local development).</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="what-well-cover">What We&#x27;ll Cover<a class="hash-link" href="#what-well-cover" title="Direct link to heading">‚Äã</a></h2><ul><li><strong>Recap</strong>: Usage Examples Week</li><li><strong>Build</strong>: How to Get Project Ideas</li><li><strong>Share</strong>: Contribute to the Gallery</li><li><strong>Simplify</strong>: Using Static Web Apps CLI!</li><li><strong>Exercise</strong>: Build, Deploy, and Customize, some starter app.x</li></ul><p><img loading="lazy" src="/assets/images/14-banner-827cfc4b4aa735771c9a0615208d75ca.png" width="1000" height="420" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="week-2-recap">Week 2 Recap<a class="hash-link" href="#week-2-recap" title="Direct link to heading">‚Äã</a></h2><p>This week was packed with different usage scenarios and front-end technologies. Let&#x27;s take a quick look at what was covered:</p><ul><li><strong>Monday:</strong> We built a <a href="https://dev.to/azure/08-build-a-blog-with-astro-1lb2" target="_blank" rel="noopener noreferrer">personal blog</a> using <a href="https://astro.build/" target="_blank" rel="noopener noreferrer">Astro</a>.</li><li><strong>Tuesday:</strong> We built an <a href="https://dev.to/azure/09-manage-inventory-with-react-39lc" target="_blank" rel="noopener noreferrer">inventory management</a> app using <a href="https://reactjs.org/" target="_blank" rel="noopener noreferrer">React</a></li><li><strong>Wednesday:</strong> We <a href="https://dev.to/azure/10-get-creative-with-vuejs-33k1" target="_blank" rel="noopener noreferrer">got creative</a> with <a href="https://vuejs.org/" target="_blank" rel="noopener noreferrer">Vue</a>, ML and Game Engines!</li><li><strong>Thursday:</strong> We <a href="https://dev.to/azure/11-share-content-with-docusaurus-azure-static-web-apps-30hc" target="_blank" rel="noopener noreferrer">published content</a> using <a href="https://docusaurus.io/" target="_blank" rel="noopener noreferrer">Docusaurus</a></li><li><strong>Friday:</strong> We explore <a href="https://dev.to/azure/12-headless-cms-swa-built-with-blazor-1e2d" target="_blank" rel="noopener noreferrer">headless CMS</a> examples using <a href="http://blazor.net/" target="_blank" rel="noopener noreferrer">Blazor WebAssembly</a></li><li><strong>Saturday:</strong> We learned to make SWA a more <a href="https://dev.to/azure/13-hosting-pwa-on-static-web-apps-16la" target="_blank" rel="noopener noreferrer">progressive web app</a></li></ul><p>The visual roadmap gives you a sense of what was covered each day. But this is just the tip of the iceberg. JavaScript developers have a wide variety of front-end frameworks and static site generators to work with. And, as we saw with Blazor WebAssembly, non-JavaScript developers have other frameworks they use to develop modern web applications. So, how can you continue the learn-by-doing journey? Read on for some ideas.</p><p><img loading="lazy" alt="Week 2 Roadmap" src="/assets/images/week2-roadmap-836ae4283a89b871c8f72d54215a9a64.png" width="3840" height="2160" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="project-ideas">Project Ideas<a class="hash-link" href="#project-ideas" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="1-static-sites">1. Static Sites<a class="hash-link" href="#1-static-sites" title="Direct link to heading">‚Äã</a></h3><p>The easiest way to get started is to use one of many <a href="https://jamstack.org" target="_blank" rel="noopener noreferrer">static site generators</a> available today. Most of these provide templates you can start with, and customize just by bringing your own content (data, media assets etc.). Need some inspiration? Take a look at the recently released <a href="https://risingstars.js.org/2021/en#section-ssg" target="_blank" rel="noopener noreferrer">Rising Stars Of JavaScript: Static Sites</a> list and see if any of those projects have starters you can repurpose.</p><p><strong>Example: My &quot;Recipe Me&quot; Project</strong>. </p><p>Earlier this week, we covered examples with Astro (#2), Docusarus (#3) and VuePress (#9) in our usage examples. Today we look at <a href="https://www.11ty.dev/" target="_blank" rel="noopener noreferrer">Eleventy</a> (#7).</p><p>Earlier this year I ran <a href="https://dev.to/azure/07-developing-progressive-web-apps-hfb" target="_blank" rel="noopener noreferrer">#30DaysOfPWA</a>, a similar series focused on Progressive Web Apps. And I wanted a demo! I&#x27;ve always wanted to have a recipe blog, and I found <a href="https://github.com/maeligg/my-online-cookbook" target="_blank" rel="noopener noreferrer">this Eleventy starter</a> that was perfect. I customized it to add the features and code required to make it PWA-compliant. And I configured it for hosting on Azure Static Web Apps. <strong>Bonus:</strong> I learned a lot in the process about the framework, and the configuration changes for SWA!</p><p><img loading="lazy" alt="Recipe Me" src="/assets/images/14-recipeme-87656adb575f75143bbce90bd447318a.png" width="2050" height="2014" class="img_E7b_"> </p><p><strong>Related Resources:</strong></p><ul><li><a href="https://dev.to/azure/07-developing-progressive-web-apps-hfb" target="_blank" rel="noopener noreferrer">Read the Tutorial</a></li><li><a href="https://github.com/fearlessly-dev/recipe-me" target="_blank" rel="noopener noreferrer">Browse the Source</a></li><li><a href="https://white-rock-036691f0f.1.azurestaticapps.net/" target="_blank" rel="noopener noreferrer">Visit the Website</a></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="2-frameworks">2. Frameworks<a class="hash-link" href="#2-frameworks" title="Direct link to heading">‚Äã</a></h3><p>The next step up from this is to look at existing application starter-kits or tutorials that target popular front-end and full-stack frameworks. Unlike static site generators (which are content-centric) these apps let you explore advanced user interactions that can benefit from SWA concepts like serverless API and authentication support. Need some inspiration? Take a look at the recently released <a href="https://risingstars.js.org/2021/en#section-framework" target="_blank" rel="noopener noreferrer">Rising Stars Of JavaScript: Front-end Frameworks</a> list and see if any of those projects have starters you can repurpose.</p><p><strong>Example:  Simona&#x27;s &quot;Sticker Shop&quot; Project</strong>. </p><p>Check out this example from Simona Cotin (currently a Principal PM on the Static Web Apps team) which forked the <a href="https://strapi.io/blog/strapi-starter-nuxt-js-e-commerce" target="_blank" rel="noopener noreferrer">Strapi e-commerce starter</a> and adapted it for deployment on Azure Static Web Apps. The Strapi <a href="https://strapi.io/blog/strapi-starter-nuxt-js-e-commerce" target="_blank" rel="noopener noreferrer">tutorial</a> talks you through the setup and structure of the application - making it a perfect place to explore just adding SWA integrations. <strong>Bonus:</strong> Simona&#x27;s deployment also takes advantage of SWA&#x27;s <em>custom domain</em> support, making the app accessible at the <a href="https://aswa.cloud" target="_blank" rel="noopener noreferrer">https://aswa.cloud</a> domain.</p><p><img loading="lazy" alt="Sticker Shop" src="/assets/images/14-simona-stickers-55034595b7442f9908c438afb1d89192.png" width="2040" height="1856" class="img_E7b_"> </p><p><strong>Related Resources:</strong></p><ul><li><a href="https://strapi.io/blog/strapi-starter-nuxt-js-e-commerce" target="_blank" rel="noopener noreferrer">Read the Tutorial</a></li><li><a href="https://github.com/simonaco/sticker-shop" target="_blank" rel="noopener noreferrer">Browse the Source</a></li><li><a href="https://www.aswa.cloud/" target="_blank" rel="noopener noreferrer">Visit the Website</a></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="3-oss-apps">3. OSS Apps<a class="hash-link" href="#3-oss-apps" title="Direct link to heading">‚Äã</a></h3><p>Sometimes, you find the right application not because of the framework - but because its a use case that really resonates with you - even if you are not necessarily familiar with the underlying technology. These projects are great because your interest in the end result makes you more curious to dig under the hood, improving your understanding of new applicaton architectures and tooling. Need some inspiration? My favorite starting point is the <a href="https://github.com/sindresorhus/awesome" target="_blank" rel="noopener noreferrer">awesome</a> repo which is a directory of <code>awesome-XYZ</code> lists for a given technology <code>XYZ</code>. Many of these lists identify tutorials, open-source projects and starter template repos that can be the basis for your experiments!</p><p><strong>Example:  My &quot;Google Codelabs&quot; Project</strong>. </p><p>If you&#x27;ve attended any Google Developer events or community conferences, chances are you&#x27;ll have encountered their <a href="https://codelabs.developers.google.com/" target="_blank" rel="noopener noreferrer">Codelabs</a> site - a repository of step-by-step tutorials that cover a wide range of technologies. But did you know that they <a href="https://github.com/googlecodelabs/tools" target="_blank" rel="noopener noreferrer">open-sourced the codelabs management and hosting tools</a>? </p><p>The underlying tooling uses Golang but the actual content is written in Markdown, and converted into the required static files by <a href="https://github.com/googlecodelabs/tools/tree/main/claat" target="_blank" rel="noopener noreferrer"><code>claat</code></a>, the &quot;Code Labs As A Tool&quot; utility. Follow along to create your own codelabs - and host them on Azure Static Web Apps. <strong>Bonus:</strong> The hosted app <em>is</em> the tutorial for how it was created. Isn&#x27;t that meta?</p><p><img loading="lazy" alt="Google Codelabs" src="/assets/images/14-codelabs-f00e9249a556bf973fe7df3da6af2ad0.png" width="2044" height="1998" class="img_E7b_"> </p><p><strong>Related Resources:</strong></p><ul><li><a href="https://medium.com/@zarinlo/publish-technical-tutorials-in-google-codelab-format-b07ef76972cd" target="_blank" rel="noopener noreferrer">Read the Tutorial</a></li><li><a href="https://github.com/nitya/swa-googlecodelabs" target="_blank" rel="noopener noreferrer">Browse the Source</a></li><li><a href="https://agreeable-bush-016b49e0f.1.azurestaticapps.net/#0" target="_blank" rel="noopener noreferrer">Visit the Website</a></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="share-gallery">Share: Gallery<a class="hash-link" href="#share-gallery" title="Direct link to heading">‚Äã</a></h2><p>We&#x27;ve talked about Project ideas that help <strong>you</strong> learn by repurposing the open-source projects, tutorials or templates generated by others. Now let&#x27;s talk about paying it forward by <strong>sharing</strong> your project to inspire others.</p><p>That is the purpose of the <a href="/showcase">Static Web Apps Showcase</a> that we will be debuting before the end of May. You can see a sneak preview of what the app gallery looks like, allowing developers to search for projects that have <em>live</em> deployments and <em>open source</em> codebases, and use one of the listed front-end technologies. <strong>Bookmark this post or track the <em>Showcase</em> link on this site, to know when the Showcase feature goes live!</strong> Be the first to submit a project for some of the more recent technologies added to that list!</p><p><img loading="lazy" alt="SWA Gallery" src="/assets/images/swa-showcase-5214e0f3f6ea04a71fc5e8c82a94545a.png" width="936" height="826" class="img_E7b_"> </p><h2 class="anchor anchorWithStickyNavbar_mojV" id="simplify-swa-cli">Simplify: SWA CLI<a class="hash-link" href="#simplify-swa-cli" title="Direct link to heading">‚Äã</a></h2><p>One last thing. In all the usage examples and tutorial so far, we&#x27;ve typically emphasized either the <strong>IDE</strong> option (using the Visual Studio Code SWA extension) or the <strong>Azure Portal</strong> option (activated by the <code>Deploy to Azure</code> button configured on repo README). </p><p>But what if you could do everything from the command-line - from initializing your project configuration, to building and testing your application locally, to deploying it to the cloud in a production or preview environment? That&#x27;s the promise behind the <a href="https://aka.ms/swa-cli" target="_blank" rel="noopener noreferrer">Azure Static Web Apps CLI</a>. <strong>Join us May 19 for a special #SWAanniversary event</strong> for some exciting announcements in this context.</p><p>Then bookmark and revisit this page later in May for an updated section where we discuss how we can further simplify and streamline our &quot;learn by doing&quot; projects with this tool!</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="exercise">Exercise<a class="hash-link" href="#exercise" title="Direct link to heading">‚Äã</a></h2><p>We&#x27;ve looked at various resources you can start with, to scaffold a real-world application that you can then configure for SWA deployment and further customization. Go ahead and pick something and expand on the app to create something new. Then contribute it to <a href="/showcase">our upcoming Showcase</a> project!</p><p>Need more inspiration? I&#x27;m a fan of React, but I&#x27;ve wanted to explore <a href="https://preactjs.com/" target="_blank" rel="noopener noreferrer">Preact</a> as a performant alternative with a comparable API. The <a href="https://preactjs.com/about/demos-examples/" target="_blank" rel="noopener noreferrer">Preact Demos</a> page has a rich set of examples - including this <a href="https://thomaswood.me/" target="_blank" rel="noopener noreferrer">Homepage Generator</a> which is a perfect 1-page resume template you can customize for <strong>your</strong> profile. <em>Try it out!</em></p></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>Tags:</b><ul class="tags_XVD_ padding--none margin-left--sm"><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/swa">swa</a></li><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/30-days">30days</a></li><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/usage-examples">usage-examples</a></li></ul></div><div class="col text--right col--3"><a aria-label="Read more about #14: Show &amp; Tell: A SWArm Of Apps" href="/blog/show-and-tell"><b>Read More</b></a></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--next" href="/blog/tags/swa/page/2"><div class="pagination-nav__label">Older Entries</div></a></nav></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2022 Microsoft  - Built with <a href="https://docusaurus.io"> Docusaurus </a> - Deployed to <a href="https://aka.ms/swa"> Azure </a> - Created by <a href="https://github.com/nitya"> @nitya </a></div></div></div></footer></div>
<script src="/assets/js/runtime~main.31a8b5a2.js"></script>
<script src="/assets/js/main.f5b4e3ba.js"></script>
</body>
</html>