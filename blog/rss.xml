<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>#30DaysOfSWA Blog</title>
        <link>https://staticwebdev.github.io/blog</link>
        <description>#30DaysOfSWA Blog</description>
        <lastBuildDate>Thu, 06 May 2021 00:00:00 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[#05: Securing SWA]]></title>
            <link>https://staticwebdev.github.io/blog/securing-swa</link>
            <guid>securing-swa</guid>
            <pubDate>Thu, 06 May 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[Welcome to Week 1, Day 5 of #30DaysOfSWA!!]]></description>
            <content:encoded><![CDATA[<p>Welcome to <code>Week 1, Day 5</code> of <strong>#30DaysOfSWA</strong>!! </p><p>So far, we've learnt to build/deploy a basic web app, add a serverless API endpoint and customize the configuration settings for both application behaviors and build workflows. But we forgot one thing - the <strong>user</strong>! To create <em>differentiated</em> experiences for users, we need ways to <strong>identify them</strong> and <strong>understand their role</strong> in the application context. We can then use that information to <strong>manage user access to application features</strong> (role-based authorization) as well as <strong>application access to user information</strong> (once authenticated).</p><p>Thankfully, Azure Static Web Apps makes this fairly painless. Let's see how.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="what-well-cover">What We'll Cover<a class="hash-link" href="#what-well-cover" title="Direct link to heading">​</a></h2><ul><li>How do we secure a SWA?</li><li>Managed authentication</li><li>Custom authentication</li><li>Managing user roles</li><li>Role-based authorization</li><li>Accessing user information</li></ul><p><img loading="lazy" src="/assets/images/05-banner-58c09cd248a074a90780339236c54413.png" width="1000" height="420" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="securing-swa">Securing SWA<a class="hash-link" href="#securing-swa" title="Direct link to heading">​</a></h2><p>What does it mean to <em>secure</em> a Static Web App? It's three things:</p><ul><li><strong>Knowing User Identity</strong> - Having a way to determine the identity of the user using an authentication service or provider.</li><li><strong>Knowing User Roles</strong> - Understanding what persona the user is taking on when (using the application), and customizing the experience accordingly.</li><li><strong>Managing User Access</strong> - Making sure the authenticaton information is seamlessly accessible to all SWA components, allowing them to enforce rules that allow only authorized users or roles to access resources.</li></ul><p>Let's dive into the three concepts that tackle these needs: <strong>Authentication</strong>, <strong>Role Assignment</strong> and <strong>Role-Based Authorization</strong>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="managed-auth">Managed Auth<a class="hash-link" href="#managed-auth" title="Direct link to heading">​</a></h2><p>Azure Static Web Apps comes with a default <strong>streamlined authentication experience</strong> that supports:</p><ul><li><em>pre-configured providers</em>: Twitter, GitHub, Azure Active Directory</li><li><em>pre-assigned roles</em>: anonymous (guest) or authenticated (on login)</li><li><em>customizable rules</em>: defined for routes, in <code>staticwebapps.config.json</code></li></ul><p>All pre-configured providers are active by default, with their own pre-defined API endpoints for <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/authentication-authorization?tabs=invitations#login" target="_blank" rel="noopener noreferrer">Login</a>, and a shared API endpoint for <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/authentication-authorization?tabs=invitations#logout" target="_blank" rel="noopener noreferrer">Logout</a>. </p><ul><li>Want to block a specific pre-configured provider? Just <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/authentication-authorization?tabs=invitations#block-an-authentication-provider" target="_blank" rel="noopener noreferrer">add a blocking rule</a> to their login route to ensure no user is allowed access to it.</li><li>Want to send users to custom pages after successful or failed login attempts? Use <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/authentication-authorization?tabs=invitations#post-login-redirect" target="_blank" rel="noopener noreferrer">query parameters and route rules</a> to make this work.</li></ul><p>This is the default <em>managed authentication</em> experience. </p><h2 class="anchor anchorWithStickyNavbar_mojV" id="custom-auth">Custom Auth<a class="hash-link" href="#custom-auth" title="Direct link to heading">​</a></h2><p>But what if you want more flexibility with the registration process (used by a pre-configured provider) or want to add a new one (custom provider)?
This is where <em>custom authentication</em> options come in, allowing you to override the defaults.</p><p>You can <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/authentication-custom?tabs=aad#configure-a-custom-identity-provider" target="_blank" rel="noopener noreferrer">configure one or more custom providers</a> for this purpose. Azure Static Web Apps has <strong><a href="https://docs.microsoft.com/en-us/azure/static-web-apps/authentication-custom?tabs=apple#configure-a-custom-identity-provider" target="_blank" rel="noopener noreferrer">built-in support</a> for custom authentication using: <em>Apple, Facebook, Google, Twitter, GitHub - and AAD</em>!</strong> You can also configure custom providers that support <a href="https://openid.net/connect/" target="_blank" rel="noopener noreferrer">OpenID Connect</a> standard. </p><p>By configuring at least one custom provider, you are effectively disabling pre-configured provider options. To configure custom providers, add config information to the <code>auth</code> section of the <code>staticwebapps.config.json</code> file. This is also a good place to use <em>Application Settings</em> (environment variables) to store potentially sensitive configuration data in a privacy-preserving way.</p><p>Azure Static Web Apps makes custom registrations easy by providing standard route patterns for <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/authentication-custom?tabs=apple#authentication-callbacks" target="_blank" rel="noopener noreferrer"><em>Login</em>, <em>Logout</em> and <em>User Profile</em></a> requests, as well as <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/authentication-custom?tabs=apple#authentication-callbacks" target="_blank" rel="noopener noreferrer">redirect URLs</a> for authentication callbacks (from the custom provider) on login/logout.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="user-roles">User Roles<a class="hash-link" href="#user-roles" title="Direct link to heading">​</a></h2><p>There are three key concepts you need to know in this context:</p><ul><li>Every Static Web Apps user has one or more roles assigned to them.</li><li>There are 2 built-in roles ("anonymous" and "authenticated")</li><li>Define custom roles &amp; assign users <strong><a href="https://docs.microsoft.com/en-us/azure/static-web-apps/authentication-authorization?tabs=invitations#add-a-user-to-a-role" target="_blank" rel="noopener noreferrer">by invitation</a></strong> or <strong><a href="https://docs.microsoft.com/en-us/azure/static-web-apps/authentication-authorization?tabs=function#add-a-user-to-a-role" target="_blank" rel="noopener noreferrer">by-function</a></strong>.</li></ul><p>Let's review these quickly. </p><ul><li>All users accessing a Static Web App are in an <em>anonymous</em> role (guest) until authenticated by a pre-configured or custom provider.</li><li>Once authenticated, they have an <em>authenticated</em> role but can now be <em>assigned custom roles</em> by invitation (proactive) or by function (reactive)</li><li><strong>Proactive invitations</strong> can be configured and sent from the Azure Portal, using provider-specific email addresses for the user. Users now click on the invite link to login with that custom role assigned automatically.</li><li><strong>Reactive functions</strong> defer assignment to post-login, using an Azure Function that dynamically returns an assigned role (or roles) to the user on being given the authenticated user details.</li></ul><p>The latter approach offers more flexibility, allowing you to use the function handler to invoke another service (like <a href="https://developer.microsoft.com/graph" target="_blank" rel="noopener noreferrer">Microsoft Graph</a>) to make the role-assignment decision for you. Read <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/authentication-authorization?tabs=function#role-management" target="_blank" rel="noopener noreferrer"><strong>Role Management</strong></a> for more details - including steps to update role assignments or remove users from a role.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="role-based-auth">Role-Based Auth<a class="hash-link" href="#role-based-auth" title="Direct link to heading">​</a></h2><p>Once the user has been assigned a role, <em>managing user access</em> based on that assignment becomes easy using the built-in support for <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/configuration#routes" target="_blank" rel="noopener noreferrer">routing rules</a> based on the <strong>allowedRoles</strong> property attached to each <code>route</code>. For example, the following configuration setting (in <code>staticwebapps.config.json</code>) would restrict access to all routes that start with <code>/profile*</code> to <em>only authenticated users</em>.
)</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  "route": "/profile*",</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  "allowedRoles": ["authenticated"]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Read more about <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/configuration#securing-routes-with-roles" target="_blank" rel="noopener noreferrer">securing routes with rules</a> to understand various usage scenarios and configuration settings to enforce them.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="access-user-info">Access User Info<a class="hash-link" href="#access-user-info" title="Direct link to heading">​</a></h2><p>One of the benefits of Azure Static Web Apps' seamless integration of application and API capabilities is that <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/user-information?tabs=javascript" target="_blank" rel="noopener noreferrer">authenticated user information can be accessed transparently</a> in two ways:</p><ul><li>Using a <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/user-information?tabs=javascript#direct-access-endpoint" target="_blank" rel="noopener noreferrer">direct access endpoint</a> at <code>/.auth/me</code> that is automatically provisioned with the user's information when authenticated.</li><li>Using <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/user-information?tabs=javascript#api-functions" target="_blank" rel="noopener noreferrer">API functions</a> with a <code>fetch</code> call to the <code>/api/xxx</code> endpoint, where <code>xxx</code> is a named function you implement to return user information. </li></ul><hr><h2 class="anchor anchorWithStickyNavbar_mojV" id="how-tos-watch-it">How-Tos: Watch It!<a class="hash-link" href="#how-tos-watch-it" title="Direct link to heading">​</a></h2><p>Prefer a Video Walkthrough to understand the process? We have you covered with the <a href="https://docs.microsoft.com/en-us/shows/azure-tips-and-tricks-static-web-apps/" target="_blank" rel="noopener noreferrer">Azure Tips And Tricks: Static Web Apps</a> series. Check out the following videos:</p><iframe width="560" height="315" frameborder="0" src="https://aka.ms/docs/player?show=azure-tips-and-tricks-static-web-apps&amp;ep=how-to-integrate-authentication-in-azure-static-web-apps-8-of-16--azure-tips-and-tricks-static-web-a"></iframe><iframe width="560" height="315" frameborder="0" src="https://aka.ms/docs/player?show=azure-tips-and-tricks-static-web-apps&amp;ep=how-to-configure-authorization-in-azure-static-web-apps-9-of-16--azure-tips-and-tricks-static-web-ap"></iframe><hr><h2 class="anchor anchorWithStickyNavbar_mojV" id="exercise-try-it">Exercise: Try it!<a class="hash-link" href="#exercise-try-it" title="Direct link to heading">​</a></h2><p>One popular feature that modern web apps often support is the ability to assign a custom role to an authenticated user (based on some identifiable context) and then regulate their access to various routes or features in the application based on that assigned role. <strong>How can we make that happen in Static Web Apps?</strong></p><p>There's a <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/assign-roles-microsoft-graph" target="_blank" rel="noopener noreferrer"><strong>tutorial</strong></a> that teaches you how! </p><ul><li>Authenticate the user using the managed <a href="https://docs.microsoft.com/en-us/azure/active-directory/fundamentals/active-directory-whatis" target="_blank" rel="noopener noreferrer">Azure Active Directory</a> API endpoint.</li><li>Query <a href="https://developer.microsoft.com/graph" target="_blank" rel="noopener noreferrer">Microsoft Graph</a> to determine their Active Directory group membership.</li><li>Use that membership to assign them a custom role.</li></ul><p><strong>Challenge Yourself!</strong> </p><p>Update the application behavior in the <code>staticwebapp.config.json</code> file to restrict user access to specific routes by specifying <code>allowedRoles</code> for those routes. Test what happens when the custom role above is added, and then removed, from the collection of allowedRoles.</p><hr><h2 class="anchor anchorWithStickyNavbar_mojV" id="useful-resources">Useful Resources<a class="hash-link" href="#useful-resources" title="Direct link to heading">​</a></h2><ol><li><a href="https://docs.microsoft.com/en-us/azure/static-web-apps/authentication-authorization?tabs=invitations" target="_blank" rel="noopener noreferrer">Authentication and Authorization in SWA</a></li><li><a href="https://docs.microsoft.com/en-us/azure/static-web-apps/user-information?tabs=javascript" target="_blank" rel="noopener noreferrer">Accessing authenticated user information in SWA</a></li><li><a href="https://docs.microsoft.com/en-us/azure/static-web-apps/authentication-custom?tabs=aad" target="_blank" rel="noopener noreferrer">Implement custom authentication in SWA</a></li><li>Tutorial: <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/assign-roles-microsoft-graph" target="_blank" rel="noopener noreferrer">Assign custom roles using Microsoft Graph and AAD</a></li><li>Video Series: <a href="https://docs.microsoft.com/en-us/shows/azure-tips-and-tricks-static-web-apps/" target="_blank" rel="noopener noreferrer">Azure Tips And Tricks - Static Web Apps</a></li></ol>]]></content:encoded>
            <category>swa</category>
            <category>30days</category>
            <category>core-concepts</category>
        </item>
        <item>
            <title><![CDATA[#04: Configuring SWA]]></title>
            <link>https://staticwebdev.github.io/blog/configuring-swa</link>
            <guid>configuring-swa</guid>
            <pubDate>Wed, 05 May 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[Welcome to Week 1, Day 4 of #30DaysOfSWA!!]]></description>
            <content:encoded><![CDATA[<p>Welcome to <code>Week 1, Day 4</code> of <strong>#30DaysOfSWA</strong>!! </p><p>In the past two days we've seen how the Azure Static Web Apps services sets up default CI/CD actions (to automate build/deploy workflows) and transparently configures application to access the API with minimal input from us during setup. But what if we want to <em>customize</em> the build process or application behavior? That's where knowing SWA <em>configuration options</em> can help.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="what-well-cover">What We'll Cover<a class="hash-link" href="#what-well-cover" title="Direct link to heading">​</a></h2><ul><li>Configuration: Concepts &amp; Files</li><li>Customize: Application Behavior</li><li>Customize: Build Process</li><li>Customize: Environment Settings</li><li><strong>Exercise:</strong> Explore an open source app to see these in action!</li><li><strong>Resource(s):</strong> Links for deeper-dives into the topic</li></ul><p><img loading="lazy" src="/assets/images/04-banner-b63fcb77118b4344c70f7ed8ad277ae3.png" width="1000" height="420" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="concepts--files">Concepts &amp; Files<a class="hash-link" href="#concepts--files" title="Direct link to heading">​</a></h2><p>When we think of configuring the Static Web App, we have three potential targets we can customize:</p><ul><li><strong>Application</strong>: Use the <code>staticwebapp.config.json</code> file (located in the folder specified for <code>app_location</code>) to define rules and properties that customize application behaviors like routing, authentication, networking and more. </li><li><strong>Build</strong>: Static Web Apps automates your build/deploy workflow using GitHub Actions or Azure Pipelines, configurable via the relevant YAML files. For example, this would be the <code>.github/workflows/azure-static-web-apps-xxx.yml</code> file in your repo, for GitHub Actions.</li><li><strong>Environment:</strong> Sometimes configuration values may only be known at runtime - e.g., database connection strings. By using environment variables, you can update the <em>values</em> at runtime without having to change the application code that uses them. Environment variables can be set in the Azure Portal (for production) or in <em>local settings files</em> (for development.)</li></ul><p>Let's take a quick look at what each of these provides, along with resource links for deeper dives that you can explore on your own. Check out the <a href="https://docs.microsoft.com/azure/static-web-apps/configuration-overview#example-scenarios" target="_blank" rel="noopener noreferrer">example scenarios</a> to get a better understanding of which file (or concept) you need to focus on, for specific scenarios.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="config-application">Config: Application<a class="hash-link" href="#config-application" title="Direct link to heading">​</a></h2><p>Application behavior is configured using the <em>staticwebapp.config.json</em> file located in the folder defined by <code>app_location</code>. Here are a <em>subset</em> of the properties and their purpose:</p><ul><li><p><a href="https://docs.microsoft.com/azure/static-web-apps/configuration#routes" target="_blank" rel="noopener noreferrer"><strong>"routes"</strong></a> - are an array of "route" objects that can each be associated with access rules ("allowedRoles"), actions ("redirect", "rewrite") - and request ("methods") and response ("headers","statusCode") properties.</p></li><li><p><a href="https://docs.microsoft.com/azure/static-web-apps/configuration#fallback-routes" target="_blank" rel="noopener noreferrer"><strong>"navigationFallback"</strong></a> supports applications that rely on client-side routing by providing a server-side fallback route which serves the required page, with filters to control usage.</p></li><li><p><a href="https://docs.microsoft.com/azure/static-web-apps/configuration#response-overrides" target="_blank" rel="noopener noreferrer"><strong>"responseOverrides"</strong></a> allows you to return a custom response instead of default HTTP error codes, for more user-friendly experiences.</p></li><li><p><a href="https://docs.microsoft.com/azure/static-web-apps/configuration#platform" target="_blank" rel="noopener noreferrer"><strong>"platform"</strong></a> sets platform-specific configurations like <em>apiRuntime</em> for API language runtime version.</p><p>There are also configuration properties for authentication, networking, global headers, custom MIME types and more. Check out the <a href="https://docs.microsoft.com/azure/static-web-apps/configuration#file-location" target="_blank" rel="noopener noreferrer">documentation</a> for the complete list and scan this <strong>example</strong> <a href="https://docs.microsoft.com/azure/static-web-apps/configuration#example-configuration-file" target="_blank" rel="noopener noreferrer">staticwebapp.config.json</a> to understand how these are defined.</p></li></ul><div class="codeBlockContainer_I0IT language-json theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"routes"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"route"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"/profile*"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"allowedRoles"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"authenticated"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"route"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"/admin/index.html"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"allowedRoles"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"administrator"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"route"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"/images/*"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"headers"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"cache-control"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"must-revalidate, max-age=15770000"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"route"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"/api/*"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"methods"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"GET"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"allowedRoles"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"registeredusers"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"route"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"/api/*"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"methods"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"PUT"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"POST"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"PATCH"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"DELETE"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"allowedRoles"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"administrator"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"route"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"/api/*"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"allowedRoles"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"authenticated"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"route"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"/customers/contoso*"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"allowedRoles"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"administrator"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"customers_contoso"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"route"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"/login"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"rewrite"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"/.auth/login/github"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"route"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"/.auth/login/twitter"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"statusCode"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">404</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"route"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"/logout"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"redirect"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"/.auth/logout"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"route"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"/calendar*"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"rewrite"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"/calendar.html"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"route"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"/specials"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"redirect"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"/deals"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"statusCode"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">301</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"navigationFallback"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"rewrite"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"index.html"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"exclude"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"/images/*.{png,jpg,gif}"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"/css/*"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"responseOverrides"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"400"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"rewrite"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"/invalid-invitation-error.html"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"401"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"redirect"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"/login"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"statusCode"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">302</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"403"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"rewrite"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"/custom-forbidden-page.html"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"404"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"rewrite"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"/404.html"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"globalHeaders"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"content-security-policy"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"default-src https: 'unsafe-eval' 'unsafe-inline'; object-src 'none'"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"mimeTypes"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">".json"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"text/json"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="config-build">Config: Build<a class="hash-link" href="#config-build" title="Direct link to heading">​</a></h2><p>Azure Static Web Apps build workflows are powered either by GitHub Actions (in a file named something like <code>.github/workflows/azure-static-web-apps-xxx.yml</code>) or by Azure Pipelines (using the <code>azure-pipelines.yml</code> file). </p><p>The main settings you need to be familiar with are:</p><ul><li><code>app_location</code> - folder for application source code</li><li><code>api_location</code> - folder with API functions source code</li><li><code>output_location</code> - where are build files generated</li><li><code>app_build_command</code> - custom app build command (for Node.js apps)</li><li><code>api_build_command</code> - custom api build command (for Node.js apps)</li><li><code>skip_app_build</code> - flag to skip app build step (if true)</li><li><code>skip_api_build</code> - flag to skip api build step (if true)</li><li><code>build_timeout_in_minutes</code> - defaults to 15 (customize to extend)</li></ul><p>Read <a href="https://docs.microsoft.com/azure/static-web-apps/build-configuration?tabs=azure-devops#environment-variables" target="_blank" rel="noopener noreferrer"><strong>this document</strong></a> to learn how each of those properties can be customized and used effectively.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="config-environment">Config: Environment<a class="hash-link" href="#config-environment" title="Direct link to heading">​</a></h2><p>Your application behavior configuration values may change based on the runtime context. By setting values in <em>environment variables</em>, you can decouple definition of values from their usage within application code. We refer to these environment variables as <a href="https://docs.microsoft.com/azure/static-web-apps/application-settings" target="_blank" rel="noopener noreferrer"><strong>application settings</strong></a> which are copied to both staging and production environments. </p><p>But where are they <em>defined?</em> That depends on the development stage:</p><ul><li><strong><a href="https://docs.microsoft.com/azure/static-web-apps/application-settings#configure-api-application-settings-for-local-development" target="_blank" rel="noopener noreferrer">Local Development:</a></strong> When developing your app, you can use a local settings file that is not tracked by GitHub so sensitive information is not leaked. <strong>Azure Functions</strong> uses the <code>api/local.settings.json</code> file to store relevant app settings - and watch out for a special 2-part series of posts in Week 3 where we cover the local settings file used by the <a href="https://github.com/Azure/static-web-apps-cli" target="_blank" rel="noopener noreferrer"><strong>Static Web Apps CLI</strong></a> for a simpler, unified local development experience.</li><li><a href="https://docs.microsoft.com/azure/static-web-apps/application-settings#configure-application-settings" target="_blank" rel="noopener noreferrer"><strong>Staging/Production:</strong></a> You can define and configure these application settings in the <a href="https://portal.azure.com/" target="_blank" rel="noopener noreferrer">Azure Portal</a> via the browser, or by using the <a href="https://docs.microsoft.com/cli/azure/" target="_blank" rel="noopener noreferrer">Azure CLI</a> (see the <a href="https://docs.microsoft.com/cli/azure/staticwebapp/appsettings?view=azure-cli-latest" target="_blank" rel="noopener noreferrer"><code>az staticwebapp appsettings</code></a> documentation), to create and manage your application settings. These will be encrypted, and copied to staging and production environments.</li></ul><p>Learn more about how you can configure application settings in <a href="https://docs.microsoft.com/azure/static-web-apps/application-settings#configure-application-settings" target="_blank" rel="noopener noreferrer">the documentation</a>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="how-tos-watch-it">How-Tos: Watch It!<a class="hash-link" href="#how-tos-watch-it" title="Direct link to heading">​</a></h2><p>Want to see how application behavior configuration in action? Check out these two videos from the <a href="https://docs.microsoft.com/shows/azure-tips-and-tricks-static-web-apps/" target="_blank" rel="noopener noreferrer">Azure Static Web Apps: Tips &amp; Tricks</a> series.</p><iframe width="560" height="315" frameborder="0" src="https://aka.ms/docs/player?show=azure-tips-and-tricks-static-web-apps&amp;ep=how-to-configure-routing-in-azure-static-web-apps-6-of-16--azure-tips-and-tricks-static-web-apps"></iframe><iframe width="560" height="315" frameborder="0" src="https://aka.ms/docs/player?show=azure-tips-and-tricks-static-web-apps&amp;ep=how-to-configure-authorization-in-azure-static-web-apps-9-of-16--azure-tips-and-tricks-static-web-ap"></iframe><h2 class="anchor anchorWithStickyNavbar_mojV" id="exercise-explore-it">Exercise: Explore It!<a class="hash-link" href="#exercise-explore-it" title="Direct link to heading">​</a></h2><p>The <a href="https://github.com/sinedied/swa-bank" target="_blank" rel="noopener noreferrer">SWA Bank</a> is a Static Web App application developed as a solution for one of the projects in the <a href="https://github.com/microsoft/Web-Dev-For-Beginners" target="_blank" rel="noopener noreferrer">Web Dev For Beginners</a> curriculum. </p><p>It was recently updated to reflect best practices. Explore the configuration files in the project - and see if you understand how they customize the application behavior and build process. <strong>Then revisit it in week 3 when we discuss developer tools</strong> to understand how local settings are configured and used with the Static Web Apps CLI (<code>swa</code>) tool for local development </p><h2 class="anchor anchorWithStickyNavbar_mojV" id="useful-resources">Useful Resources<a class="hash-link" href="#useful-resources" title="Direct link to heading">​</a></h2><ol><li><a href="https://docs.microsoft.com/azure/static-web-apps/configuration-overview" target="_blank" rel="noopener noreferrer">Configuration Overview</a></li><li><a href="https://docs.microsoft.com/azure/static-web-apps/configuration" target="_blank" rel="noopener noreferrer">Application Configuration: staticwebapp.config.json</a></li><li><a href="https://docs.microsoft.com/azure/static-web-apps/build-configuration?tabs=github-actions" target="_blank" rel="noopener noreferrer">Build Configuration: Actions or Pipelines YAML</a></li><li><a href="https://docs.microsoft.com//azure/static-web-apps/application-settings" target="_blank" rel="noopener noreferrer">Environment Configurations: For Backends</a></li><li><a href="https://docs.microsoft.com/azure/static-web-apps/application-settings" target="_blank" rel="noopener noreferrer">Configure Application Settings</a></li><li><a href="https://github.com/sinedied/swa-bank" target="_blank" rel="noopener noreferrer">SWA Bank Repo</a> - a Static Web Apps project to explore and learn from.</li></ol>]]></content:encoded>
            <category>swa</category>
            <category>30days</category>
            <category>core-concepts</category>
        </item>
        <item>
            <title><![CDATA[#03: API-Enabling SWA]]></title>
            <link>https://staticwebdev.github.io/blog/api-enabling-swa</link>
            <guid>api-enabling-swa</guid>
            <pubDate>Tue, 04 May 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[Welcome to Week 1, Day 3 of #30DaysOfSWA!!]]></description>
            <content:encoded><![CDATA[<p>Welcome to <code>Week 1, Day 3</code> of <strong>#30DaysOfSWA</strong>!! </p><p>Yesterday, we built and deployed our first Static Web App (using a vanillaJS template) from a GitHub repo. We used the VS Code Extension and, with just a few clicks, it setup automated GitHub Actions (CI/CD) workflows for us transparently. Today - we learn how we can add <strong>serverless API endpoints</strong> to our application using Azure Functions, helping us scale APIs more effectively with demand.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="what-well-cover">What We'll Cover<a class="hash-link" href="#what-well-cover" title="Direct link to heading">​</a></h2><ul><li>Why go Serverless with SWA?</li><li>Add API with Azure Functions</li><li>Quickstart: Use Managed Functions</li><li>Bring Your Own Functions</li><li><strong>Example:</strong> Bring <a href="https://github.com/sinedied/azure-swag/" target="_blank" rel="noopener noreferrer">Azure-SWAG</a> to May 4!</li><li><strong>Exercise:</strong> Try it out yourself!</li></ul><p><img loading="lazy" src="/assets/images/03-banner-9229849fe218e3e7721c3687fb4299d8.png" width="1000" height="420" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="why-go-serverless">Why Go Serverless?<a class="hash-link" href="#why-go-serverless" title="Direct link to heading">​</a></h2><p>When <a href="/blog/introducing-swa">Introducing SWA</a>, we talked about how static web apps are architected to separate <strong>static content assets</strong> and <strong>dynamic API endpoints</strong> into separate components that can be served and scaled independently.</p><p>In yesterday's post we looked at a basic Static Web App with just content assets (no API). Deploying it with SWA helped us take advantage of Azure's globally-distributed content servers for fast and cost-effective access. Today, we want to add an API endpoint to support dynamic requests from clients. So what does serverless mean, and how do we implement serverless API endpoints?</p><p>In this context, <a href="https://docs.microsoft.com/en-us/azure/architecture/reference-architectures/serverless/web-app" target="_blank" rel="noopener noreferrer">Serverless</a> is about using an event-driven architecture to allocate our compute resources on-demand. So, our API server will scale as demand grows, but be cost-effective when demand drops.</p><p><a href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-overview" target="_blank" rel="noopener noreferrer">Azure Functions</a> makes implementing your serverless solutions easier. Event handling is implemented with <em>functions</em> (code blocks) that run on compute resources that are dynamically-allocated. Resources can spin up as API requests grow, and spin down as demand drops. <a href="https://docs.microsoft.com/en-us/learn/paths/create-serverless-applications/" target="_blank" rel="noopener noreferrer"><strong>Try this learning path</strong></a> for a deep-dive into using Azure Functions.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="use-azure-functions">Use Azure Functions<a class="hash-link" href="#use-azure-functions" title="Direct link to heading">​</a></h2><p>Static Web Apps and Azure Functions are integrated seamlessly, enabling key features with respect to security (user data) and routing integrations:</p><ul><li><strong><a href="https://docs.microsoft.com/en-us/azure/static-web-apps/user-information?tabs=javascript#api-functions" target="_blank" rel="noopener noreferrer">User data access</a></strong> - API functions can directly access user authenticaton and role-based authorization data when handling requests.</li><li><strong><a href="https://docs.microsoft.com/en-us/azure/static-web-apps/configuration?#routes" target="_blank" rel="noopener noreferrer">API Route access</a></strong> - the application can access the <code>/api</code> route securely, without requiring custom CORS rules.</li></ul><p>But it gets better. Your SWA can be configured for Azure Functions in two ways:</p><ul><li><strong>Managed Functions</strong> - where the Azure Static Web Apps service configures and manages your Azure Functions deployment.</li><li><strong>Bring Your Own Functions</strong> - where you use a pre-existing Azure Functions application and manage the deployment yourself.</li></ul><p>The Free plan supports only the Managed Functions option. It has <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/apis" target="_blank" rel="noopener noreferrer">some limitations</a> - e.g., supports only HTTP triggers and lacks support for <a href="https://docs.microsoft.com/en-us/azure/azure-functions/durable/durable-functions-overview" target="_blank" rel="noopener noreferrer">Durable Functions</a> etc. - but is quick to setup and seamless to use. We'll explore this option today but look for a post in Week 4 that will discuss the <em><a href="https://docs.microsoft.com/en-us/azure/static-web-apps/functions-bring-your-own" target="_blank" rel="noopener noreferrer">Bring Your Own Functions</a></em> approach in detail.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="adding-the-api">Adding the API<a class="hash-link" href="#adding-the-api" title="Direct link to heading">​</a></h2><p>Want to get some hands-on experience with adding an API endpoint to your Static Web Apps deployment? Check out this <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/add-api?tabs=vanilla-javascript" target="_blank" rel="noopener noreferrer">Quickstart</a> tutorial that builds on the vanilla-JS application you deployed previously. The key steps are:</p><p><strong>1. Setup Azure Functions for SWA</strong></p><ul><li>Install the <a href="https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-azurefunctions" target="_blank" rel="noopener noreferrer">Azure Functions Extension</a> for VS Code.</li><li>Open your application root folder ("/") - create an "api" subfolder</li><li>Select "Azure Static Web Apps: Create HTTP Function" through Command Palette or select the lightning bolt option in Azure extension menu.</li><li>Enter required configuration information (language="JavaScript", function name="message"), and confirm.</li></ul><p><em>Sit back and wait till the process completes setup.</em> This populates the <code>/api</code> directory with configuration files (*.json) in the root folder, and a <code>/api/message</code> subfolder that contains 2 files:</p><ul><li><em>function.json</em> - defines this function's trigger, bindings and <a href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-reference?tabs=blob#function-code" target="_blank" rel="noopener noreferrer">other settings</a>.</li><li><em>index.js</em> - implements an async function (accessed at <code>/api/message</code>)</li></ul><p><strong>2. Update the index.js file to implement your function</strong> - making sure it returns a desired response given the incoming API request and context (input parameters).</p><p><strong>3. Update your application code to invoke the API</strong> - you can do this by calling <code>fetch('/api/message')</code> directly - the seamless Azure Functions integration ensures that the API routing happens automagically.</p><p><strong>4. Test the integration locally with the SWA CLI</strong>.
The Azure Static Web Apps CLI (SWA CLI) is a tool to support local development for Static Web Apps by emulating required services where needed. Follow <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/add-api?tabs=vanilla-javascript#run-the-frontend-and-api-locally" target="_blank" rel="noopener noreferrer">these steps</a> to install the tools and run/test your app and API together in your local development environment. Look for a detailed 2-part post in Week 3 ("Developer Tools") where we cover the SWA CLI capabilities, configuration, and usage, in more detail.</p><p><strong>5. Update the GitHub Actions workflow with API location</strong></p><p>This is the key step to make sure the Azure Static Web Apps deployment workflow also picks up the new API function.</p><ul><li>Open the default GitHub Actions workflow file for your SWA and update the <code>api_location</code> property to "api".</li><li>Save and commit changes to trigger rebuild and deploy.</li></ul><p><strong>Want to see API in action?</strong> Scroll down to the <code>Exercise</code> section where we walk through a quick activity you can do to build and deploy a Static Web App with GitHub (SWAG) <em>and celebrate #StarWars Day</em> in the process!</p><p><strong>Prefer a video tutorial?</strong> Check out this <a href="https://docs.microsoft.com/en-us/shows/azure-tips-and-tricks-static-web-apps/" target="_blank" rel="noopener noreferrer">Azure Static Web Apps: Tips &amp; Tricks</a> that walks through the process from a <em>react-starter</em> template, and showcases the use of remote <a href="https://code.visualstudio.com/docs/remote/create-dev-container" target="_blank" rel="noopener noreferrer">development container</a> for Visual Studio Code that further streamlines your development experience.</p><iframe width="560" height="315" frameborder="0" src="https://aka.ms/docs/player?show=azure-tips-and-tricks-static-web-apps&amp;ep=how-to-add-an-api-to-your-azure-static-web-app-7-of-16--azure-tips-and-tricks-static-web-apps"></iframe><h2 class="anchor anchorWithStickyNavbar_mojV" id="exercise-swag">Exercise: SWAG!<a class="hash-link" href="#exercise-swag" title="Direct link to heading">​</a></h2><p>Today is May 4 - Star Wars Day! Wouldn't it be nice if we could celebrate this with our favorite Star Wars quotes? Thankfully, <a href="https://www.twitter.com/sinedied" target="_blank" rel="noopener noreferrer">my colleague Yohan</a> has a great <a href="https://dev.to/sinedied/the-easy-way-to-serverless-web-apps-and-apis-with-azure-swag-2heb" target="_blank" rel="noopener noreferrer">Azure-SWAG</a> template that combines images from <a href="https://unsplash.com" target="_blank" rel="noopener noreferrer">Unsplash</a> with a pre-defined set of quotes in an API function ("/api/quote") </p><p><strong>So I created a version for my <a href="ttps://github.com/nitya/may4-swag" target="_blank" rel="noopener noreferrer">May 4 homage</a></strong>. Here's what that looks like when deployed. Refresh the SWA to get a new image and quote each time (from the API).</p><p><img loading="lazy" alt="May The Fourth Homage App" src="/assets/images/03-may4-a52b69197e93301fb9ee7f81cae37cd0.png" width="975" height="833" class="img_E7b_"></p><ul><li>See the <a href="https://github.com/nitya/may4-swag" target="_blank" rel="noopener noreferrer">Code Repository</a></li><li>See the <a href="https://agreeable-tree-0a216f70f.1.azurestaticapps.net/" target="_blank" rel="noopener noreferrer">Deployed SWA</a></li></ul><p>Your assignment: follow <a href="https://github.com/nitya/may4-swag#steps" target="_blank" rel="noopener noreferrer">these steps</a> to replicate my project, then explore the <a href="https://github.com/nitya/may4-swag/blob/main/api/quote/index.js" target="_blank" rel="noopener noreferrer">index.js</a> code to see how the <code>/api/quote</code> function is implemented and review the <a href="https://github.com/nitya/may4-swag/blob/main/app.js" target="_blank" rel="noopener noreferrer"><code>app.js</code></a> code to see how that API is invoked within the application.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="useful-resources">Useful Resources<a class="hash-link" href="#useful-resources" title="Direct link to heading">​</a></h2><ul><li><a href="https://docs.microsoft.com/en-us/azure/static-web-apps/apis" target="_blank" rel="noopener noreferrer">API Support in SWA</a></li><li><a href="https://docs.microsoft.com/en-us/azure/static-web-apps/add-api?tabs=vanilla-javascript" target="_blank" rel="noopener noreferrer">Add API with Managed Functions</a></li><li><a href="https://docs.microsoft.com/en-us/azure/static-web-apps/functions-bring-your-own" target="_blank" rel="noopener noreferrer">Bring Your Own Functions</a></li><li><a href="https://github.com/nitya/may4-swag" target="_blank" rel="noopener noreferrer">May4-Swag Demo</a></li></ul>]]></content:encoded>
            <category>swa</category>
            <category>30days</category>
            <category>core-concepts</category>
        </item>
        <item>
            <title><![CDATA[#02: Building SWA]]></title>
            <link>https://staticwebdev.github.io/blog/building-swa</link>
            <guid>building-swa</guid>
            <pubDate>Mon, 03 May 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[Welcome to Week 1, Day 2 of #30DaysOfSWA!!]]></description>
            <content:encoded><![CDATA[<p>Welcome to <code>Week 1, Day 2</code> of <strong>#30DaysOfSWA</strong>!! </p><p>Yesterday we got a quick introduction to Azure Static Web Apps (what it is, how it's architected, and 10 features that make it useful to modern web developers). Today, it's time to dive to dive into <em>Building Static Web Apps</em>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="what-well-cover">What We'll Cover<a class="hash-link" href="#what-well-cover" title="Direct link to heading">​</a></h2><ul><li>How can I get started with SWA?</li><li>Using SWA with personal and production projects.</li><li>Building &amp; Deploying your first SWA</li><li><strong>Tutorial</strong> Let's Build a Classic Movie Crawler!</li><li><strong>Exercise</strong> Your turn! And <code>#MayThe4thBeWithYou</code></li><li><strong>Resources:</strong> <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/getting-started?tabs=vanilla-javascript" target="_blank" rel="noopener noreferrer">Static Web Apps Quickstarts</a></li></ul><p><img loading="lazy" src="/assets/images/02-banner-5a795a52ea06e154625132bc426ca7d6.png" width="1000" height="420" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="1-getting-started">1. Getting Started<a class="hash-link" href="#1-getting-started" title="Direct link to heading">​</a></h2><p>The Azure Static Web Apps service makes it easy to publish your modern web application directly from its codebase. Let's walk through that process for a basic web application (HTML, CSS, JS) first, to understand the development workflow and configuration options.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="11-requirements">1.1 Requirements<a class="hash-link" href="#11-requirements" title="Direct link to heading">​</a></h3><p>To do this quickstart, you'll need </p><ul><li>a <a href="https://github.com/" target="_blank" rel="noopener noreferrer">GitHub account</a> - you can <a href="https://github.com/signup" target="_blank" rel="noopener noreferrer">signup</a> for a free one if needed.</li><li>an <a href="https://portal.azure.com" target="_blank" rel="noopener noreferrer">Azure account</a> - you can <a href="https://azure.microsoft.com/en-us/free/" target="_blank" rel="noopener noreferrer">signup</a> for a free account to start.</li><li><a href="https://code.visualstudio.com/" target="_blank" rel="noopener noreferrer">Visual Studio Code</a> and <a href="https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-azurestaticwebapps" target="_blank" rel="noopener noreferrer">this VS Code Extension</a> - if you favor IDEs.</li></ul><p>This approach assumes you favor using an IDE for development, and want to streamline build/deploy into that workflow. I'm a fan of Visual Studio Code so I'll use this approach. If you prefer to use the command line, or a browser, we have you covered! </p><ul><li><a href="https://docs.microsoft.com/en-us/azure/static-web-apps/get-started-cli?tabs=vanilla-javascript" target="_blank" rel="noopener noreferrer">Quickstart: With Azure CLI</a> - for commandline-driven workflow.</li><li><a href="https://docs.microsoft.com/en-us/azure/static-web-apps/get-started-portal?tabs=vanilla-javascript&amp;pivots=github" target="_blank" rel="noopener noreferrer">Quickstart: With Azure Portal</a> - for browser-driven workflow.</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="12-final-outcome">1.2 Final Outcome<a class="hash-link" href="#12-final-outcome" title="Direct link to heading">​</a></h3><p>The goal is to take this basic HTML/CSS/JS application and configure it for automatic build/deploy to Azure Static Web Apps. We'll be using this <strong><a href="https://docs.microsoft.com/en-us/azure/static-web-apps/getting-started?tabs=vanilla-javascript" target="_blank" rel="noopener noreferrer">official quickstart</a></strong> which comes with a  <a href="https://github.com/staticwebdev/vanilla-basic/generate" target="_blank" rel="noopener noreferrer">vanilla-JS application starter template</a> that provides our base application. Feel free to be adventurous and follow these steps with your own vanillaJS codebase.</p><p>We'll clone that starter first - making <strong>GitHub</strong> our default code-hosting provider. Azure Static Web Apps has flexible deployment options so look at tutorials for <strong><a href="https://github.com/staticwebdev/vanilla-basic/generate" target="_blank" rel="noopener noreferrer">BitBucket</a>, <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/gitlab?tabs=vanilla-javascript" target="_blank" rel="noopener noreferrer">GitLab</a> or <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/get-started-portal?tabs=vanilla-javascript" target="_blank" rel="noopener noreferrer">Azure DevOps</a></strong> if preferred. Watch for the <em>Deploying SWA</em> post later this week for more details.</p><p><img loading="lazy" alt="VanillaJS Quickstart outcome page" src="/assets/images/02-vanillajs-start-55364462b5fedaf66c3f2b0310e39f13.png" width="996" height="279" class="img_E7b_"></p><p>So what does that vanilla-JS starter app do? Not much - it's just a simple title on a blank webpage as shown above. Here's what you'll end up with when done:</p><ul><li><strong>Hosted SWA</strong>: See the <a href="https://witty-desert-019fd800f.1.azurestaticapps.net/" target="_blank" rel="noopener noreferrer">live-deployment here</a> </li><li><strong>Codebase</strong>: See the <a href="https://github.com/fearlessly-dev/my-first-swa" target="_blank" rel="noopener noreferrer">code source repo here</a></li></ul><p>Ready to do this? Let's go!</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="13-build-process">1.3 Build Process<a class="hash-link" href="#13-build-process" title="Direct link to heading">​</a></h3><p>The process is captured in <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/getting-started?tabs=vanilla-javascript" target="_blank" rel="noopener noreferrer">this quickstart document</a> and has the following steps:</p><ul><li><a href="https://github.com/login?return_to=/staticwebdev/vanilla-basic/generate" target="_blank" rel="noopener noreferrer"><strong>Click</strong></a> to generate your vanilla-js app from the template.</li><li><a href="https://docs.microsoft.com/en-us/azure/static-web-apps/getting-started?tabs=vanilla-javascript#clone-the-repository" target="_blank" rel="noopener noreferrer"><strong>Clone</strong></a> the repo to your local machine. Open in Visual Studio Code.</li><li><a href="https://docs.microsoft.com/en-us/azure/static-web-apps/getting-started?tabs=vanilla-javascript#install-azure-static-web-apps-extension" target="_blank" rel="noopener noreferrer"><strong>Install</strong></a> the Azure Static Web Apps extension in VS Code (if not present)</li><li><a href="https://docs.microsoft.com/en-us/azure/static-web-apps/getting-started?tabs=vanilla-javascript#create-a-static-web-app" target="_blank" rel="noopener noreferrer"><strong>Select Azure</strong></a> in the Activity Bar to view Azure Extensions window. You will be prompted to log into Azure and GitHub during this workflow if needed.<ol><li>Select the Static Web Apps section and click "+" to start SWA setup</li><li>Select the relevant Azure subscription to use</li><li>Select the region to deploy to (close to you)</li><li>Select the "Custom" preset - use <code>/src</code> as app location, leave build empty</li><li>Press Enter. Watch for a pop-up notification of build status.</li></ol></li></ul><p>Once deployment completes (you should see the success notification), visit the Azure Extensions window again.Look for the project in the Static Web Apps section and right-click for options. Here are three key ones to know:</p><ol><li><code>Browse Site</code> - click to see the <a href="https://witty-desert-019fd800f.1.azurestaticapps.net/" target="_blank" rel="noopener noreferrer">live-deployed site</a></li><li><code>Edit Workflow</code> - click to see automated <a href="https://github.com/fearlessly-dev/my-first-swa/blob/main/.github/workflows/azure-static-web-apps-witty-desert-019fd800f.yml" target="_blank" rel="noopener noreferrer">GitHub Actions</a> setup for the SWA.</li><li><code>Open in Portal</code> - click to manage the SWA in the Azure Portal.</li></ol><p><strong>That's it!! You just deployed your first Static Web App with just a few clicks and configuration inputs!</strong> 🎉</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="14-lets-unpack">1.4 Let's Unpack<a class="hash-link" href="#14-lets-unpack" title="Direct link to heading">​</a></h3><p>So what happened under the hood? </p><p>If you look at your <a href="https://github.com/fearlessly-dev/my-first-swa" target="_blank" rel="noopener noreferrer">codebase</a> you'll see <strong>one key change</strong> - the Azure SWA service <a href="https://github.com/fearlessly-dev/my-first-swa/commit/1441e25149f1573a7010682e0a431263fbd89cb6" target="_blank" rel="noopener noreferrer">sets up the GitHub Actions workflow</a> for you, directly in the repo using your GitHub credentials. No manual steps needed from you!</p><p>The workflow automates the build/deploy process on both code commit (<code>push</code>) and contribution (<code>pull request</code>) events. So when you make changes to your application code, it triggers the workflow to automatically rebuild and deploy the updated Static Web App. 🙌🏽</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="15-video-tutorial">1.5 Video Tutorial<a class="hash-link" href="#15-video-tutorial" title="Direct link to heading">​</a></h3><p>Want to see a video walkthrough of the process? Check out this 2-minute <a href="https://docs.microsoft.com/en-us/shows/azure-tips-and-tricks-static-web-apps/" target="_blank" rel="noopener noreferrer">Azure Static Web Apps: Tips &amp; Tricks</a> video from 2021. It features a different vanilla-JS application but follows the same "Quickstart with Visual Studio Code" steps so you can see them in action! </p><iframe width="560" height="315" frameborder="0" src="https://aka.ms/docs/player?show=azure-tips-and-tricks-static-web-apps&amp;ep=how-to-deploy-your-first-azure-static-web-apps-3-of-16--azure-tips-and-tricks-static-web-apps"></iframe><h2 class="anchor anchorWithStickyNavbar_mojV" id="2-there-is-no-try">2. "There is No Try!"<a class="hash-link" href="#2-there-is-no-try" title="Direct link to heading">​</a></h2><p>You realize today is May 3rd, right? That means tomorrow is May 4 - and what better way to celebrate our favorite movie call-to-action (<code>MayTheFourthBeWithYou</code>) than to pay homage with our own custom crafted movie banner sharing our origin story. </p><p><img loading="lazy" alt="Build a crawler with Azure Static Web Apps" src="/assets/images/02-banner-glaucia-239d13ae2cf19aced204fe0d027a72c0.png" width="1000" height="420" class="img_E7b_"></p><p>Try out this 3-part tutorial to take the basic HTML/CSS/JS application to the next level - and recreate the iconic introduction from the classic <a href="https://en.wikipedia.org/wiki/Star_Wars" target="_blank" rel="noopener noreferrer">Star Wars</a> franchise. Just do the thing! </p><ol><li><a href="https://dev.to/azure/building-star-wars-crawler-with-azure-static-web-apps-part-1-3o39" target="_blank" rel="noopener noreferrer">Part 1: Create basic page and style it with HTML/CSS</a> </li><li><a href="https://dev.to/azure/building-star-wars-crawler-with-azure-static-web-apps-part-2-3hc0" target="_blank" rel="noopener noreferrer">Part 2: Bring moving banner to life with JS</a></li><li><a href="https://dev.to/azure/building-star-wars-crawler-with-azure-static-web-apps-part-3-41ip" target="_blank" rel="noopener noreferrer">Part 3: Use Visual Studio Code to deploy to Static Web Apps</a></li></ol><p><strong>Please Note:</strong> The tutorial is meant only to illustrate the creation of the banner with CSS/JS/HTML and celebrate an iconic movie on an iconic date! The movie logo, music and other iconic elements remain the property of relevant copyright holders and should not be used without permission. </p><h2 class="anchor anchorWithStickyNavbar_mojV" id="3-lets-talk-plans">3. Let's Talk Plans!<a class="hash-link" href="#3-lets-talk-plans" title="Direct link to heading">​</a></h2><p>The Azure Static Web Apps service comes with <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/plans" target="_blank" rel="noopener noreferrer">two plans</a> - a <strong>Free</strong> plan that is perfect for Personal projects, and a <strong>Standard</strong> (paid) plan that is more appropriate for apps deployed in production. Check out the <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/plans#features" target="_blank" rel="noopener noreferrer">Features Comparison</a> to judge what plan is best for you.</p><p>My personal experience is that, as an individual developer, the free tier is sufficiently generous to explore ideas and host prototypes (for real-world users) or demos (for validating ideas). The free tier also comes with Managed Functions support (to integrate a serverless API capability) out of the box. You will need the Standard plan if you want to "Bring your own functions" instead. For the most part, you should be able to try out all the Exercises in #30DaysOfSWA using the Free tier.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="4-exercise">4: Exercise<a class="hash-link" href="#4-exercise" title="Direct link to heading">​</a></h2><p>If you followed along with the quickstart, you should have setup and deployed your first Azure Static Web App using a vanilla-JS starter. Now, time to challenge yourself by trying out one (or both) of these options:</p><ul><li><strong>Complete the other quickstart tutorials</strong> - using <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/get-started-cli?tabs=vanilla-javascript" target="_blank" rel="noopener noreferrer">Azure CLI</a> and <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/getting-started?tabs=vanilla-javascript" target="_blank" rel="noopener noreferrer">Azure Portal</a> - to get a sense of how the workflows differ. And join the <a href="/blog/swanniversary">#SWAanniversary</a> event to learn more about <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/local-development" target="_blank" rel="noopener noreferrer">SWA CLI</a> for local development.</li><li><strong>Build your own movie crawler</strong> - follow Glaucia's tutorial to have the default banner running on Azure Static Web Apps - then customize the words to suit <em>your origin story</em> and share it on May 4th (<a href="https://www.starwars.com/star-wars-day" target="_blank" rel="noopener noreferrer">StarWars Day</a>) - and <code>MayThe4thBeWithYou!</code>.</li></ul>]]></content:encoded>
            <category>swa</category>
            <category>30days</category>
            <category>core-concepts</category>
        </item>
        <item>
            <title><![CDATA[#01: Introducing SWA]]></title>
            <link>https://staticwebdev.github.io/blog/introducing-swa</link>
            <guid>introducing-swa</guid>
            <pubDate>Sun, 02 May 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[Welcome to Week 1, Day 1 of #30DaysOfSWA!!]]></description>
            <content:encoded><![CDATA[<p>Welcome to <code>Week 1, Day 1</code> of <strong>#30DaysOfSWA</strong>!! </p><p>This week, we'll focus on the <strong>Core Concepts</strong> behind Azure Static Web Apps, starting with an introduction to SWA and continuing on to building, enhancing, and deploying, your SWA for users to experience. Let's get started today by <em>Introducing Static Web Apps</em>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="what-well-cover">What We'll Cover<a class="hash-link" href="#what-well-cover" title="Direct link to heading">​</a></h2><ul><li>What is Azure Static Web Apps?</li><li>How is it architected?</li><li>Where can I use it?</li><li>10 Key Features to know</li><li><strong>Exercise:</strong> Explore SWA Examples!</li><li><strong>Resource:</strong> <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/overview" target="_blank" rel="noopener noreferrer">Static Web Apps Overview</a></li></ul><p><img loading="lazy" src="/assets/images/01-banner-be8d7d0f3d456b78fd3930cbaab95247.png" width="1000" height="420" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="what-is-azure-swa">What is Azure SWA?<a class="hash-link" href="#what-is-azure-swa" title="Direct link to heading">​</a></h2><p><a href="https://docs.microsoft.com/en-us/azure/static-web-apps/overview" target="_blank" rel="noopener noreferrer">Azure Static Web Apps</a> is a cloud-based service that <strong>automatically</strong> builds and deploys full-stack web apps to Azure <strong>directly from your code repository</strong>. The service works with popular code sources like GitHub, GitLab and BitBucket by default. Look for the <em>Deploying SWA</em> post later this week where we walk through the details here.</p><p>The benefit to you as a developer is that it <strong>simplifies your developer experience</strong>. Just commit changes to your application source code into the repository and step back. The SWA service monitors the codebase for changes, automatically rebuilding and redeploying your app to the hosted endpoint. Look for a <em>Previewing SWA</em> post later this week where we'll talk about built-in support for previewing apps in non-main branches, or in pull requests, that make it easier to manage apps with multiple contributors.</p><p>Prefer a 5-minute video overview? We have you covered!</p><iframe width="560" height="315" src="https://aka.ms/docs/player?show=azure-tips-and-tricks-static-web-apps&amp;ep=what-is-azure-static-web-apps-and-what-can-it-be-used-for-1-of-16--azure-tips-and-tricks-static-web-" frameborder="0"></iframe><h2 class="anchor anchorWithStickyNavbar_mojV" id="how-is-it-architected">How is it Architected?<a class="hash-link" href="#how-is-it-architected" title="Direct link to heading">​</a></h2><p>Static Web Apps can be built using popular front-end frameworks including React, Angular, Vue, Svelte, or Blazor. These apps typically consist of a collection of <strong>static content assets</strong> (HTML, JS, CSS and media files) coupled with a <strong>dynamic API endpoint</strong> to handle client interactions in real time.</p><p>Traditional web application deployments use a <em>single web server</em> to serve both the static assets and the API endpoint. This can make scaling these services sub-optimal in terms of global availability and runtime costs.</p><p>With Static Web Apps, we <strong>separate static assets from API endpoints</strong>, allowing each to be scaled using the technology best equipped to do this in a cost-effective manner.</p><ul><li>Static assets get served from geographically-distributed content servers worldwide, distributing the load and speeding up access to users nearby.</li><li>API endpoints are hosted using a <a href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-overview" target="_blank" rel="noopener noreferrer">serverless architecture</a>, spinning up compute resources (to execute functions) only as needed, in response to trigger events.</li></ul><p>This architecture - with static content servers, serverless backends, and automated CI/CD workflows - simplifies your development workflow <strong>allowing you to focus your attention on the application logic and user experience</strong> components of your modern web application.</p><p><img loading="lazy" src="/assets/images/01-swa-overview-41d0e428dab8a7da10950b590d54c886.png" width="596" height="441" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="where-can-i-use-it">Where can I use it?<a class="hash-link" href="#where-can-i-use-it" title="Direct link to heading">​</a></h2><p>That's a great question!! You can use Static Web Apps to:</p><ul><li>Build modern web apps with front-end frameworks (like Angular, React, Vue etc.)</li><li>Publish static web sites (using Gatsby, Hugo, Astro, Docusaurus, VuePress etc.)</li><li>Deploy web apps with frameworks like Next.js and Nuxt.js.</li></ul><p>You can <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/front-end-frameworks" target="_blank" rel="noopener noreferrer"><strong>configure your existing application</strong></a> to use Azure Static Web Apps using an IDE like VS Code, or using Command-line tools (like Azure CLI and SWA CLI), or through the browser (using the Azure Portal). Look for two posts later this week that dive into this in detail:</p><ul><li><em>Building SWA</em> (tomorrow) on getting started with using SWA in your app.</li><li><em>Configuring SWA</em> (later) on customizing app behaviors and build process.</li></ul><p>But wait - there's one more thing. </p><p><strong>Keep an eye out for an announcement later in the series</strong> where we'll be debuting a new <a href="/showcase">Community Showcase</a> page - here's a sneak preview. You can filter it to see examples from popular front-end technologies, select "open source" to see the repository for inspiration - <strong>and consider adding your own project</strong> at the end of your journey!</p><p><img loading="lazy" src="/assets/images/swa-showcase-5214e0f3f6ea04a71fc5e8c82a94545a.png" width="936" height="826" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="10-things-to-know">10 Things To Know!<a class="hash-link" href="#10-things-to-know" title="Direct link to heading">​</a></h2><p>We've talked about what SWA is, how it's architected, and where you can use it. But what are the key features that make it powerful? <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/overview#key-features" target="_blank" rel="noopener noreferrer"><strong>Read the Documentation</strong></a> for the detailed list - or scan the visual guide below for a summary!</p><p><img loading="lazy" src="/assets/images/01-ten-things-f6eee9ff7c4e6fe0e5c36ee242cdb594.png" width="3840" height="2160" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="exercise">Exercise:<a class="hash-link" href="#exercise" title="Direct link to heading">​</a></h2><p>That was a lot to digest right?  It helps to see some of these ideas in action. So here's two things you can do before we dive into the quickstart tomorrow:</p><ul><li>Visit the <a href="https://github.com/microsoft/static-web-apps-gallery-code-samples" target="_blank" rel="noopener noreferrer">Showcase Gallery</a> repository to see some examples of SWA in Action.</li><li>Follow the <a href="https://dev.to/t/staticwebapps" target="_blank" rel="noopener noreferrer">#staticwebapps</a> tag to see community-posted articles on usage.</li></ul>]]></content:encoded>
            <category>swa</category>
            <category>30days</category>
            <category>core-concepts</category>
        </item>
        <item>
            <title><![CDATA[Kickoff #30DaysOfSWA!]]></title>
            <link>https://staticwebdev.github.io/blog/kickoff</link>
            <guid>kickoff</guid>
            <pubDate>Sat, 01 May 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[Welcome to the first day of #30DaysOfSWA!!]]></description>
            <content:encoded><![CDATA[<p>Welcome to the first day of <strong>#30DaysOfSWA</strong>!!</p><p>Thank you for joining us on this fun and functional tour of <strong>Azure Static Web Apps</strong>. Whether you're new to the technology, or an experienced user, we hope there's something that interests and motivates you to keep going.</p><p><img loading="lazy" src="/assets/images/banner-kickoff-5bd74f140c45f930a6b0629389496a1b.png" width="1000" height="420" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="hello-30daysofswa">Hello #30DaysOfSWA<a class="hash-link" href="#hello-30daysofswa" title="Direct link to heading">​</a></h2><p>Simply put, it's a month-long series of blog posts that provides you a curated and structured tour through the universe of  <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/overview?WT.mc_id=30daysofswa-61155-cxall" target="_blank" rel="noopener noreferrer">Azure Static Web Apps</a>. </p><ul><li>Each article will be 5 mins or less in reading time</li><li>Each ends with an activity to help reinforce the learning</li><li>Articles will follow a structured roadmap over 4 weeks</li></ul><p>We've organized the journey into four stages, each building on the previous one in a way that mimics the developer experience with any new technology:</p><ul><li><strong>Week 1:</strong> Focus on Core Concepts, learning terminology and getting setup.</li><li><strong>Week 2:</strong> Focus on Usage Examples with quickstarts &amp; front-end technologies.</li><li><strong>Week 3:</strong> Focus on Dev Tools to develop, debug, test, and deploy, the SWA!</li><li><strong>Week 4:</strong> Focus on Best Practices, from services to end-to-end experiences.</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="week-1-roadmap">Week 1 Roadmap<a class="hash-link" href="#week-1-roadmap" title="Direct link to heading">​</a></h2><p>We are kicking off week 1 with a focus on <strong>Core Concepts</strong> to get you familiar with the high-level architecture, fundamental components and basic terminology for Azure Static Web Apps. Want a sneak peek at the topics? Here's a visual guide to help you!</p><p><img loading="lazy" alt="Visual sketchnote of roadmap" src="/assets/images/week1-roadmap-a7b1176dd93863ebebb95802ecc24ec9.png" width="3840" height="2160" class="img_E7b_"></p><p><strong>By the end of week 1 you should know</strong>:</p><ul><li>What Azure Static Web Apps is, and its benefits</li><li>How to get started building SWA or using it for your existing apps</li><li>How to go serverless, adding API capability with Azure Functions</li><li>How to configure SWA - from app behavior to build process</li><li>How to secure SWA - from user authentication to role-based authorization</li><li>How to preview SWA - on pull requests or test branches</li><li>How to deploy SWA - using different code sources, or CI/CD options</li></ul><p>By the end of the week you should be familiar with SWA terminology and developer workflows - and be ready to explore usage scenarios with various front-end frameworks or static site generators!</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="take-the-journey">Take The Journey<a class="hash-link" href="#take-the-journey" title="Direct link to heading">​</a></h2><p>They say it takes 30 days to make a habit. It's our hope that doing short bursts of reading and activity with Azure Static Web Apps on a daily basis, will lead to better learning and development habits in general.</p><p>We want to make it easy for you to participate - here are options to follow along:</p><ul><li>Bookmark <a href="https://aka.ms/30DaysofSWA" target="_blank" rel="noopener noreferrer">this site</a> and visit daily</li><li>Subscribe to the <a href="https://aka.ms/30DaysOfSWA/rss" target="_blank" rel="noopener noreferrer">RSS Feed</a> in your favorite Feed Reader</li><li>Visit the <a href="https://dev.to/nitya/series/17901" target="_blank" rel="noopener noreferrer">dev.to Series Page</a> and like, comment on, or bookmark, the posts.</li></ul><p>Want to really get the most from this? Try the exercises each day, and take a moment on a weekly basis, to write a blog post or capture your own notes on what your main takeaways were. As a fan of <a href="https://twitter.com/sketchthedocs" target="_blank" rel="noopener noreferrer">visual storytelling</a> I know that writing things down helps improve your understanding and recall of the material!</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="provide-us-feedback">Provide Us Feedback<a class="hash-link" href="#provide-us-feedback" title="Direct link to heading">​</a></h2><p><strong>We want to make this useful and beginner-friendly!</strong> So if you have comments or questions that can help us improve this content, please drop us a note in our <a href="https://github.com/orgs/staticwebdev/discussions/categories/-30daysofswa" target="_blank" rel="noopener noreferrer">Discussions</a> board!</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="meet-the-authors">Meet The Authors<a class="hash-link" href="#meet-the-authors" title="Direct link to heading">​</a></h2><p>Articles are written by a multi-disciplinary team of contributors from across Microsoft and the community - including members of the Static Web Apps product group and Microsoft Developer Relations. </p><p><img loading="lazy" alt="Banner with people" src="/assets/images/series-people-13a2856edd7022e82a252ed05dffbabc.png" width="1000" height="420" class="img_E7b_"></p><p>We'll keep this page updated on a daily basis, to reflect the latest author whose post was published. We'll kick things off with the authors of this post.</p><ul><li><strong>Nitya Narasimhan</strong>, Senior Cloud Advocate @Microsoft</li><li><strong>Reshmi Sriram</strong>, Static Web Apps PM @Microsoft</li><li><em>to be updated daily ...</em></li></ul><p>Each post will identify the authors by name, and link to a relevant online profile. This series is a labor of love, so if you like a post - show that author some love by providing feedback or saying hello on their identified profile!</p><hr><h2 class="anchor anchorWithStickyNavbar_mojV" id="lets-get-started">Let's Get Started!<a class="hash-link" href="#lets-get-started" title="Direct link to heading">​</a></h2><p>I think that's all you need to know for now! Hope your're as excited as we are. Check back for the next post and ... <strong>#LetsDoThis</strong> !!</p><p><img loading="lazy" src="/assets/images/logo-746b1f64320de6844671bfc8c2f881f8.svg" width="250" height="250" class="img_E7b_"></p>]]></content:encoded>
            <category>swa</category>
            <category>30days</category>
        </item>
        <item>
            <title><![CDATA[It's the SWA-anniversary!!]]></title>
            <link>https://staticwebdev.github.io/blog/swanniversary</link>
            <guid>swanniversary</guid>
            <pubDate>Fri, 30 Apr 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[View Schedule & Speaker Lineup//aka.ms/swaanniversary]]></description>
            <content:encoded><![CDATA[<p><img loading="lazy" src="/assets/images/swanniversary-d632d17c49b5e3631d39ad0c230f2ad8.png" width="1920" height="1080" class="img_E7b_"></p><h4 class="anchor anchorWithStickyNavbar_mojV" id="view-schedule--speaker-lineup-httpsakamsswaanniversary">View Schedule &amp; Speaker Lineup: <a href="https://aka.ms/swaanniversary" target="_blank" rel="noopener noreferrer">https://aka.ms/swaanniversary</a><a class="hash-link" href="#view-schedule--speaker-lineup-httpsakamsswaanniversary" title="Direct link to heading">​</a></h4><hr><p>On May 12, 2021, the <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/overview?WT.mc_id=30daysofswa-61155-cxall" target="_blank" rel="noopener noreferrer">Azure Static Web Apps</a> service hit a significant milestone - <a href="https://azure.microsoft.com/en-us/updates/azure-static-web-apps-is-now-generally-available/?WT.mc_id=30daysofswa-61155-cxall" target="_blank" rel="noopener noreferrer">becoming generally available</a> with support for many of the popular <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/front-end-frameworks" target="_blank" rel="noopener noreferrer">front-end frameworks and static site generators</a> used for modern web app development.</p><p>On May 12, 2022, Azure Static Web Apps will make the first-year anniversary of that milestone - making this the perfect time to look back on all the progress made, and look ahead to what's in store next.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="celebrate-with-swaanniversary">Celebrate with #SWAanniversary<a class="hash-link" href="#celebrate-with-swaanniversary" title="Direct link to heading">​</a></h2><p>On May 19, 2022, join us live on <a href="https://docs.microsoft.com/en-us/learn/tv/?WT.mc_id=30daysofswa-61155-cxall" target="_blank" rel="noopener noreferrer">Learn TV</a> for a 2-hour celebration with some of our favorite speakers and guests from both Microsoft and the larger developer community. Can you tell we're excited for this birthday?</p><iframe width="560" height="315" src="https://www.youtube.com/embed/OGlM5CgCwwc" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"></iframe><p>Check out <a href="https://docs.microsoft.com/en-us/events/learntv/swa-anniversary-may-2022/?WT.mc_id=30daysofswa-61155-cxall" target="_blank" rel="noopener noreferrer">the Event page</a> to learn more about the speakers and topics on the agenda. Add the event to your calendar, and join us live - or bookmark this page and revisit it for links to relevant resources and video replays.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="learn-with-30daysofswa">Learn with #30DaysOfSWA<a class="hash-link" href="#learn-with-30daysofswa" title="Direct link to heading">​</a></h2><p>But there's more! <em>Are you new to Azure Static Web Apps?</em> Do you want to get a beginner-friendly tour of the core concepts, usage examples, developer tools, and best practices involved in building and deploy modern web applications with this service?</p><p><strong>You're in luck!</strong></p><p>Watch this space for an update on a new content series that will help you jumpstart that learning journey! Throughout the month of May, we'll bring together a diverse group of technologists to share short articles with resources and insights on a curated tour of Static Web Apps - taking you from <strong>code to scale</strong>.</p><p><img loading="lazy" alt="The #30DaysOfSWA logo" src="/assets/images/logo-light-c06a2cb26903f93ddf79056b71d047e9.png" width="724" height="662" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="how-can-you-participate">How Can You Participate?<a class="hash-link" href="#how-can-you-participate" title="Direct link to heading">​</a></h2><p>Some actions you can take today to get ready for a fun month of learning:</p><ul><li>Bookmark this Series page or <a href="https://aka.ms/30DaysOfSWA/rss" target="_blank" rel="noopener noreferrer"><strong>Subscribe to the RSS feed</strong></a></li><li>Follow the <a href="https://dev.to/t/staticwebapps" target="_blank" rel="noopener noreferrer"><strong>#staticwebapps tag on dev.to</strong></a> - and consider making a post there!</li><li>Introduce yourself on <a href="https://github.com/orgs/staticwebdev/discussions/categories/-30daysofswa" target="_blank" rel="noopener noreferrer"><strong>our Discussions Forum</strong></a> - tell us what you hope to learn!</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="self-study-resources">Self-Study Resources<a class="hash-link" href="#self-study-resources" title="Direct link to heading">​</a></h2><p>Our goal is to help make this a beginner-friendly learning journey into Azure Static Web Apps. We hope we inspire you to keep going beyond #30Days - and wanted to share resources to motivate you to keep going. Here are three links to bookmark:</p><ul><li>The <a href="/resources"><strong>Resources</strong></a> page - will be updated with links related to each article in the series, all through May! Use this to explore detours and deep dives.</li><li>The <a href="https://docs.microsoft.com/en-us/learn/paths/azure-static-web-apps/?WT.mc_id=30daysofswa-61155-cxall" target="_blank" rel="noopener noreferrer"><strong>Microsoft Learn Path</strong></a> - teaches you how to build your first Static Web Apps powered experience - with React, Angular, Vue and Blazor coding options.</li><li>The <a href="https://docs.microsoft.com/en-us/users/nityan/collections/7d2ws6zd1mxmp6?WT.mc_id=30daysofswa-61155-cxall" target="_blank" rel="noopener noreferrer"><strong>#30DaysOfSWA Collection</strong></a> - a Microsoft-specific collection of resources (from documentation to videos and code samples) that I will continue to update.</li></ul>]]></content:encoded>
            <category>swa</category>
            <category>30days</category>
            <category>event</category>
        </item>
    </channel>
</rss>